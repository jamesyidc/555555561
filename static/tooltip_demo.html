<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº¤äº’å¼ Tooltip æ¼”ç¤º</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #fff;
            padding: 20px;
            margin: 0;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: #ffd700;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            font-size: 1.2em;
            color: #aaa;
            margin-bottom: 30px;
        }
        .info-box {
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 2px solid #ffd700;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .stat-label {
            font-size: 0.9em;
            color: #aaa;
            margin-bottom: 10px;
        }
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #ffd700;
        }
        .chart-container {
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        #chart {
            width: 100%;
            height: 500px;
        }
        .instruction {
            background: rgba(82, 196, 26, 0.3);
            border: 2px solid #52c41a;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        .instruction h3 {
            margin-top: 0;
            color: #52c41a;
        }
        .highlight {
            background: rgba(255, 215, 0, 0.3);
            padding: 2px 8px;
            border-radius: 3px;
            font-weight: bold;
            color: #ffd700;
        }
        .current-hover {
            background: rgba(255, 77, 79, 0.3);
            border: 2px solid #ff4d4f;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
        }
        .current-hover h3 {
            margin-top: 0;
            color: #ff4d4f;
        }
        .hover-info {
            font-size: 1.2em;
            line-height: 2;
        }
        .warning {
            background: rgba(250, 173, 20, 0.3);
            border: 2px solid #faad14;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
        }
        ul {
            line-height: 2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ äº¤äº’å¼ Tooltip æ¼”ç¤º</h1>
        <div class="subtitle">ç†è§£ä¸ºä»€ä¹ˆä¸åŒä½ç½®æ˜¾ç¤ºä¸åŒçš„å€¼</div>
        
        <div class="info-box">
            <h3 style="margin-top: 0;">ğŸ“Š è¿™ä¸ªå›¾è¡¨æ¨¡æ‹Ÿäº†çœŸå®çš„é€ƒé¡¶ä¿¡å·è¶‹åŠ¿</h3>
            <p>æ¨ªè½´ï¼šæ—¶é—´ï¼ˆä» 00:00 åˆ° 11:00ï¼‰</p>
            <p>çºµè½´ï¼š24å°æ—¶é€ƒé¡¶ä¿¡å·ç´¯è®¡æ•°é‡</p>
            <p><strong>å…³é”®ç‚¹ï¼š</strong>æ¯ä¸ªæ—¶é—´ç‚¹éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç»Ÿè®¡å€¼ã€‚å›¾è¡¨æ˜¾ç¤ºçš„æ˜¯æ•°å€¼éšæ—¶é—´çš„å˜åŒ–è¶‹åŠ¿ã€‚</p>
        </div>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-label">ğŸ“ å½“å‰æœ€æ–°ç»Ÿè®¡ï¼ˆé¡µé¢é¡¶éƒ¨æ˜¾ç¤ºï¼‰</div>
                <div class="stat-value" id="currentStat">184</div>
                <div style="color: #52c41a; margin-top: 10px;">âœ“ å¯¹åº”å›¾è¡¨æœ€å³ä¾§çš„å€¼</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">ğŸ–±ï¸ é¼ æ ‡æ‚¬åœä½ç½®çš„å€¼</div>
                <div class="stat-value" id="hoverValue">--</div>
                <div style="color: #faad14; margin-top: 10px;" id="hoverTime">è¯·æ‚¬åœåœ¨å›¾è¡¨ä¸Š</div>
            </div>
        </div>

        <div class="chart-container">
            <h3>å›¾è¡¨2: 24h é€ƒé¡¶ä¿¡å·è¶‹åŠ¿ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰</h3>
            <div id="chart"></div>
        </div>

        <div class="current-hover" id="hoverInfo" style="display: none;">
            <h3>ğŸ” å½“å‰æ‚¬åœä½ç½®ä¿¡æ¯</h3>
            <div class="hover-info">
                <div>ğŸ“… <strong>æ—¶é—´ï¼š</strong><span id="detailTime">--</span></div>
                <div>ğŸ“Š <strong>æ•°æ®ç´¢å¼•ï¼š</strong><span id="detailIndex">--</span></div>
                <div>ğŸ”´ <strong>24h é€ƒé¡¶ï¼š</strong><span id="detailValue">--</span> æ¬¡</div>
                <div id="matchInfo" style="margin-top: 15px; padding: 10px; border-radius: 5px;"></div>
            </div>
        </div>

        <div class="instruction">
            <h3>âœ… å¦‚ä½•éªŒè¯ Tooltip æ˜¯å¦æ­£ç¡®ï¼Ÿ</h3>
            <ul>
                <li><strong>æ­¥éª¤ 1ï¼š</strong>å°†é¼ æ ‡æ‚¬åœåœ¨å›¾è¡¨çš„<span class="highlight">æœ€å³ä¾§</span>ï¼ˆæœ€åä¸€ä¸ªæ—¶é—´ç‚¹ï¼‰</li>
                <li><strong>æ­¥éª¤ 2ï¼š</strong>æŸ¥çœ‹ "é¼ æ ‡æ‚¬åœä½ç½®çš„å€¼" å¡ç‰‡ï¼Œåº”è¯¥æ˜¾ç¤º <span class="highlight">184</span></li>
                <li><strong>æ­¥éª¤ 3ï¼š</strong>å¯¹æ¯” "å½“å‰æœ€æ–°ç»Ÿè®¡" å¡ç‰‡ï¼Œä¸¤ä¸ªå€¼åº”è¯¥<span class="highlight">å®Œå…¨ä¸€è‡´</span></li>
                <li><strong>æ­¥éª¤ 4ï¼š</strong>ç°åœ¨å°†é¼ æ ‡ç§»åŠ¨åˆ°å›¾è¡¨ä¸­é—´ï¼ˆä¾‹å¦‚ 04:00 é™„è¿‘ï¼‰ï¼Œä¼šçœ‹åˆ°è¾ƒå°çš„å€¼ï¼ˆçº¦ 79ï¼‰</li>
            </ul>
        </div>

        <div class="warning">
            <h3>âš ï¸ å¸¸è§è¯¯è§£</h3>
            <p><strong>è¯¯è§£ï¼š</strong>"æˆ‘çœ‹åˆ° Tooltip æ˜¾ç¤º 79ï¼Œä½†é¡¶éƒ¨æ˜¾ç¤º 184ï¼Œæ‰€ä»¥æ˜¯ Bugï¼"</p>
            <p><strong>çœŸç›¸ï¼š</strong>æ‚¨æ‚¬åœåœ¨äº†å›¾è¡¨çš„ä¸­é—´ä½ç½®ï¼ˆå†å²æ—¶åˆ»ï¼‰ï¼Œè¯¥æ—¶åˆ»çš„ç»Ÿè®¡å€¼ç¡®å®æ˜¯ 79ã€‚åªæœ‰æ‚¬åœåœ¨æœ€å³ä¾§ï¼ˆæœ€æ–°æ—¶åˆ»ï¼‰æ‰ä¼šæ˜¾ç¤º 184ã€‚</p>
            <p><strong>ç±»æ¯”ï¼š</strong>å°±åƒæ‚¨çœ‹è‚¡ç¥¨Kçº¿å›¾ï¼Œæ‚¬åœåœ¨æ—©ä¸Š10ç‚¹ä¼šæ˜¾ç¤ºå½“æ—¶çš„ä»·æ ¼ï¼Œæ‚¬åœåœ¨ä¸‹åˆ3ç‚¹ä¼šæ˜¾ç¤ºæ”¶ç›˜ä»·ã€‚Tooltip æ˜¾ç¤ºçš„æ˜¯æ‚¨é€‰ä¸­é‚£ä¸ªæ—¶åˆ»çš„æ•°æ®ï¼Œä¸æ˜¯å›ºå®šæ˜¾ç¤ºæœ€æ–°å€¼ã€‚</p>
        </div>
    </div>

    <script>
        // ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®ï¼ˆä¸çœŸå®è¶‹åŠ¿ç›¸ä¼¼ï¼‰
        const times = [];
        const values = [];
        const startHour = 0;
        const endHour = 11;
        const pointsPerHour = 20; // æ¯å°æ—¶20ä¸ªæ•°æ®ç‚¹
        
        // ç”Ÿæˆæ—¶é—´åºåˆ—å’Œå¯¹åº”çš„å€¼
        for (let h = startHour; h <= endHour; h++) {
            for (let m = 0; m < 60; m += Math.floor(60 / pointsPerHour)) {
                if (h === endHour && m > 0) break; // æœ€åä¸€å°æ—¶åªå–00åˆ†
                
                const time = `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}`;
                times.push(time);
                
                // ç”Ÿæˆé€’å¢çš„å€¼ï¼Œæ¨¡æ‹ŸçœŸå®è¶‹åŠ¿
                let value;
                if (h < 4) {
                    value = 20 + Math.floor(Math.random() * 30) + h * 10;
                } else if (h < 7) {
                    value = 60 + Math.floor(Math.random() * 30) + (h - 4) * 5;
                } else {
                    value = 120 + Math.floor(Math.random() * 20) + (h - 7) * 15;
                }
                
                values.push(value);
            }
        }
        
        // ç¡®ä¿æœ€åä¸€ä¸ªå€¼æ¥è¿‘184
        values[values.length - 1] = 184;
        
        // åœ¨ 04:13 é™„è¿‘è®¾ç½®ä¸€ä¸ªå€¼ä¸º 79 çš„ç‚¹ï¼ˆæ¨¡æ‹Ÿæˆªå›¾ä¸­çš„æƒ…å†µï¼‰
        const targetIndex = times.findIndex(t => t >= '04:13');
        if (targetIndex !== -1) {
            values[targetIndex] = 79;
        }

        // åˆå§‹åŒ– ECharts
        const chart = echarts.init(document.getElementById('chart'));
        
        const option = {
            backgroundColor: 'transparent',
            tooltip: {
                trigger: 'axis',
                axisPointer: { type: 'cross' },
                formatter: function(params) {
                    if (!params || params.length === 0) return '';
                    const dataIndex = params[0].dataIndex;
                    const time = times[dataIndex];
                    const value = values[dataIndex];
                    
                    // æ›´æ–°æ‚¬åœä¿¡æ¯æ˜¾ç¤º
                    document.getElementById('hoverValue').textContent = value;
                    document.getElementById('hoverTime').textContent = `æ—¶é—´: ${time}`;
                    document.getElementById('detailTime').textContent = time;
                    document.getElementById('detailIndex').textContent = `${dataIndex} / ${values.length - 1}`;
                    document.getElementById('detailValue').textContent = value;
                    
                    const hoverInfo = document.getElementById('hoverInfo');
                    hoverInfo.style.display = 'block';
                    
                    const matchInfo = document.getElementById('matchInfo');
                    if (dataIndex === values.length - 1) {
                        matchInfo.innerHTML = 'âœ… <strong style="color: #52c41a;">è¿™æ˜¯æœ€æ–°æ•°æ®ç‚¹ï¼</strong><br>Tooltip å€¼ (' + value + ') = é¡¶éƒ¨ç»Ÿè®¡ (184) âœ“';
                        matchInfo.style.background = 'rgba(82, 196, 26, 0.3)';
                    } else {
                        matchInfo.innerHTML = 'âš ï¸ <strong style="color: #faad14;">è¿™æ˜¯å†å²æ•°æ®ç‚¹</strong><br>æ˜¾ç¤ºçš„æ˜¯ ' + time + ' æ—¶åˆ»çš„ç»Ÿè®¡å€¼ï¼Œä¸æ˜¯æœ€æ–°å€¼ã€‚<br>è¯·æ‚¬åœåœ¨å›¾è¡¨æœ€å³ä¾§æŸ¥çœ‹æœ€æ–°å€¼ 184ã€‚';
                        matchInfo.style.background = 'rgba(250, 173, 20, 0.3)';
                    }
                    
                    let result = `<div style="font-weight: bold; margin-bottom: 8px;">ğŸ“… 2026-02-15 ${time}</div>`;
                    result += `<div style="margin: 4px 0; color: #faad14;">
                        ğŸ› è°ƒè¯•: ç´¢å¼•${dataIndex}/${values.length - 1}
                    </div>`;
                    result += `<div style="margin: 4px 0;">
                        <span style="display:inline-block;width:10px;height:10px;background:#ff4d4f;border-radius:50%;margin-right:5px;"></span>
                        24hé€ƒé¡¶: <strong>${value}</strong> æ¬¡
                    </div>`;
                    return result;
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '10%',
                top: '10%',
                containLabel: true
            },
            xAxis: {
                type: 'category',
                data: times,
                axisLabel: {
                    color: '#a0a0a0',
                    interval: 19 // åªæ˜¾ç¤ºéƒ¨åˆ†æ ‡ç­¾
                },
                axisLine: { lineStyle: { color: '#444' } }
            },
            yAxis: {
                type: 'value',
                name: 'ä¿¡å·æ•°é‡',
                nameTextStyle: { color: '#a0a0a0' },
                axisLabel: { color: '#a0a0a0' },
                axisLine: { lineStyle: { color: '#444' } },
                splitLine: { lineStyle: { color: '#2d2d44' } }
            },
            series: [{
                name: '24hé€ƒé¡¶',
                type: 'line',
                data: values,
                itemStyle: { color: '#ff4d4f' },
                areaStyle: { color: 'rgba(255, 77, 79, 0.2)' },
                smooth: true,
                markPoint: {
                    data: [
                        { 
                            coord: [times.length - 1, 184], 
                            value: 'æœ€æ–°: 184',
                            itemStyle: { color: '#52c41a' }
                        },
                        { 
                            coord: [targetIndex, 79], 
                            value: 'å†å²: 79',
                            itemStyle: { color: '#faad14' }
                        }
                    ],
                    symbol: 'pin',
                    symbolSize: 50,
                    label: {
                        formatter: '{c}',
                        fontSize: 12
                    }
                },
                markLine: {
                    silent: true,
                    lineStyle: {
                        color: '#52c41a',
                        type: 'dashed'
                    },
                    data: [
                        {
                            xAxis: times.length - 1,
                            label: {
                                formatter: 'æœ€æ–°æ—¶åˆ»\nè¯·æ‚¬åœè¿™é‡Œ',
                                position: 'middle'
                            }
                        }
                    ]
                }
            }]
        };
        
        chart.setOption(option);
        
        // å“åº”å¼
        window.addEventListener('resize', function() {
            chart.resize();
        });

        // åˆå§‹æç¤º
        setTimeout(() => {
            alert('ğŸ’¡ æç¤ºï¼š\n\n1. å°†é¼ æ ‡æ‚¬åœåœ¨å›¾è¡¨æœ€å³ä¾§ï¼ˆæ ‡æœ‰"æœ€æ–°æ—¶åˆ»"çš„è™šçº¿å¤„ï¼‰\n2. æŸ¥çœ‹ Tooltip æ˜¾ç¤ºçš„å€¼æ˜¯å¦ä¸º 184\n3. å†æ‚¬åœåœ¨ä¸­é—´ï¼ˆæ ‡æœ‰"å†å²: 79"çš„ç‚¹ï¼‰\n4. è§‚å¯Ÿ Tooltip å¦‚ä½•æ˜¾ç¤ºä¸åŒæ—¶åˆ»çš„å€¼\n\nè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ‚¨çš„æˆªå›¾ä¸­æ˜¾ç¤º79è€Œä¸æ˜¯184çš„åŸå› ï¼');
        }, 1000);
    </script>
</body>
</html>
