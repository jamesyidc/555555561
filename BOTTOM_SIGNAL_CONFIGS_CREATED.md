# è§åº•ä¿¡å·åšå¤šç­–ç•¥é…ç½®æ–‡ä»¶åˆ›å»ºå®Œæˆ

## ğŸ“‹ åˆ›å»ºæ—¶é—´
**2026-02-21 12:29** - æ‰€æœ‰é…ç½®æ–‡ä»¶å·²åˆ›å»ºå¹¶éªŒè¯

---

## âœ… å®Œæˆå†…å®¹

å·²ä¸º**4ä¸ªè´¦æˆ·**åˆ›å»º**8ä¸ªJSONLé…ç½®æ–‡ä»¶**ï¼Œæ¯ä¸ªè´¦æˆ·åŒ…å«2ä¸ªç­–ç•¥çš„ç‹¬ç«‹é…ç½®ã€‚

---

## ğŸ“ é…ç½®æ–‡ä»¶åˆ—è¡¨

### é…ç½®ç›®å½•
```
/home/user/webapp/data/okx_bottom_signal_strategies/
```

### æ–‡ä»¶æ¸…å•ï¼ˆ8ä¸ªï¼‰

#### 1. account_main (ä¸»è´¦æˆ·)
- `account_main_bottom_signal_top8_long.jsonl` - è§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤š
- `account_main_bottom_signal_bottom8_long.jsonl` - è§åº•ä¿¡å·+æ¶¨å¹…å8åšå¤š

#### 2. account_fangfang12
- `account_fangfang12_bottom_signal_top8_long.jsonl` - è§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤š
- `account_fangfang12_bottom_signal_bottom8_long.jsonl` - è§åº•ä¿¡å·+æ¶¨å¹…å8åšå¤š

#### 3. account_anchor (é”šç‚¹è´¦æˆ·)
- `account_anchor_bottom_signal_top8_long.jsonl` - è§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤š
- `account_anchor_bottom_signal_bottom8_long.jsonl` - è§åº•ä¿¡å·+æ¶¨å¹…å8åšå¤š

#### 4. account_poit_main (POITå­è´¦æˆ·)
- `account_poit_main_bottom_signal_top8_long.jsonl` - è§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤š
- `account_poit_main_bottom_signal_bottom8_long.jsonl` - è§åº•ä¿¡å·+æ¶¨å¹…å8åšå¤š

---

## ğŸ”§ é»˜è®¤é…ç½®å‚æ•°

æ¯ä¸ªé…ç½®æ–‡ä»¶åŒ…å«ä»¥ä¸‹é»˜è®¤å‚æ•°ï¼š

```json
{
    "timestamp": "2026-02-21T12:29:56.682458",
    "time": "2026-02-21 12:29:56",
    "account_id": "account_main",
    "account_name": "ä¸»è´¦æˆ·",
    "strategy_type": "top8_long",
    "description": "è§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤š",
    "enabled": false,
    "rsi_threshold": 800,
    "max_order_usdt": 5.0,
    "position_percent": 1.5,
    "leverage": 10
}
```

### å‚æ•°è¯´æ˜

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ | å¯é…ç½®èŒƒå›´ |
|------|--------|------|-----------|
| `enabled` | `false` | ç­–ç•¥å¯ç”¨çŠ¶æ€ | true/false |
| `rsi_threshold` | `800` | RSIè§¦å‘é˜ˆå€¼ | 300-1500 |
| `max_order_usdt` | `5.0` | å•å¸æœ€å¤§æŠ•å…¥ | 1-100 USDT |
| `position_percent` | `1.5` | æ€»ä»“ä½ç™¾åˆ†æ¯” | å›ºå®š1.5% |
| `leverage` | `10` | æ æ†å€æ•° | å›ºå®š10å€ |

---

## ğŸ“Š éªŒè¯ç»“æœ

### âœ… æ–‡ä»¶åˆ›å»ºéªŒè¯

```bash
$ ls -1 data/okx_bottom_signal_strategies/*.jsonl | wc -l
8
```

### âœ… APIè¯»å–éªŒè¯

**æµ‹è¯•1ï¼šaccount_main - top8_long**
```json
{
    "config": {
        "account_id": "account_main",
        "enabled": false,
        "rsi_threshold": 800,
        "max_order_usdt": 5.0,
        "position_percent": 1.5,
        "leverage": 10
    },
    "success": true
}
```

**æµ‹è¯•2ï¼šaccount_fangfang12 - bottom8_long**
```json
{
    "config": {
        "account_id": "account_fangfang12",
        "enabled": false,
        "rsi_threshold": 800,
        "max_order_usdt": 5.0,
        "position_percent": 1.5,
        "leverage": 10
    },
    "success": true
}
```

âœ… **æ‰€æœ‰APIæµ‹è¯•é€šè¿‡ï¼**

---

## ğŸ® å¦‚ä½•ä½¿ç”¨

### 1ï¸âƒ£ é€šè¿‡å‰ç«¯UIé…ç½®

1. è®¿é—® OKXäº¤æ˜“é¡µé¢
2. æ‰¾åˆ°"RSIè‡ªåŠ¨å¼€ä»“ç­–ç•¥"é»„è‰²å¡ç‰‡
3. å‘ä¸‹æ»šåŠ¨æ‰¾åˆ°ç»¿è‰²çš„"è§åº•ä¿¡å·åšå¤š"ç­–ç•¥
4. å¯¹äºæ¯ä¸ªç­–ç•¥ï¼š
   - è®¾ç½®RSIé˜ˆå€¼ï¼ˆé»˜è®¤800ï¼‰
   - è®¾ç½®å•å¸é™é¢ï¼ˆé»˜è®¤5 USDTï¼‰
   - ç‚¹å‡»ğŸ’¾ä¿å­˜æŒ‰é’®
   - æ‰“å¼€ç­–ç•¥å¼€å…³

### 2ï¸âƒ£ é€šè¿‡APIé…ç½®

**ä¿å­˜é…ç½®**
```bash
curl -X POST "http://localhost:9002/api/okx-trading/save-bottom-signal-config/account_main/top8_long" \
  -H "Content-Type: application/json" \
  -d '{
    "enabled": true,
    "rsi_threshold": 800,
    "max_order_usdt": 5.0,
    "position_percent": 1.5,
    "leverage": 10
  }'
```

**è·å–é…ç½®**
```bash
curl "http://localhost:9002/api/okx-trading/get-bottom-signal-config/account_main/top8_long"
```

### 3ï¸âƒ£ ç›´æ¥ç¼–è¾‘JSONLæ–‡ä»¶

é…ç½®æ–‡ä»¶ä½ç½®ï¼š
```
data/okx_bottom_signal_strategies/{account_id}_bottom_signal_{strategy_type}.jsonl
```

ç¼–è¾‘åï¼Œç›‘æ§è„šæœ¬ä¼šåœ¨ä¸‹ä¸€ä¸ªæ£€æŸ¥å‘¨æœŸï¼ˆ60ç§’ï¼‰è‡ªåŠ¨åŠ è½½æ–°é…ç½®ã€‚

---

## ğŸ”„ æ‰§è¡Œè®°å½•æ–‡ä»¶

æ‰§è¡Œè®°å½•å°†ä¿å­˜åœ¨ï¼š
```
/home/user/webapp/data/okx_bottom_signal_execution/
```

æ ¼å¼ï¼š
```
{account_id}_bottom_signal_{strategy_type}_execution.jsonl
```

### æ‰§è¡Œè®°å½•ç¤ºä¾‹

```json
{
    "timestamp": "2026-02-21T13:00:00",
    "account_id": "account_main",
    "strategy_type": "top8_long",
    "executed": true,
    "rsi_value": 750,
    "sentiment": "ğŸ¯è§åº•ä¿¡å·",
    "target_coins": ["BTC-USDT-SWAP", "ETH-USDT-SWAP", "..."],
    "per_coin_amount": 0.5,
    "total_amount": 4.0,
    "leverage": 10
}
```

---

## ğŸ¤– ç›‘æ§è„šæœ¬

### PM2æœåŠ¡çŠ¶æ€

```bash
$ pm2 list | grep bottom
â”‚ 28 â”‚ bottom-signal-long-monitor â”‚ online â”‚ 0% â”‚ 28.3mb â”‚
```

### ç›‘æ§è„šæœ¬ä½ç½®
```
/home/user/webapp/source_code/bottom_signal_long_monitor.py
```

### ç›‘æ§é¢‘ç‡
- æ£€æŸ¥é—´éš”ï¼š60ç§’
- å†·å´æ—¶é—´ï¼š1å°æ—¶ï¼ˆè§¦å‘åä¸é‡å¤ï¼‰

---

## ğŸ“‹ é…ç½®æ£€æŸ¥æ¸…å•

### âœ… æ–‡ä»¶ç³»ç»Ÿ
- [x] é…ç½®ç›®å½•åˆ›å»ºæˆåŠŸ
- [x] 8ä¸ªJSONLæ–‡ä»¶å…¨éƒ¨åˆ›å»º
- [x] æ–‡ä»¶æƒé™æ­£ç¡®ï¼ˆrw-r--r--ï¼‰
- [x] æ–‡ä»¶å¤§å°æ­£å¸¸ï¼ˆ300-350å­—èŠ‚ï¼‰

### âœ… APIéªŒè¯
- [x] ä¿å­˜é…ç½®APIæ­£å¸¸å·¥ä½œ
- [x] è·å–é…ç½®APIæ­£å¸¸å·¥ä½œ
- [x] å‚æ•°éªŒè¯åŠŸèƒ½æ­£å¸¸
- [x] é”™è¯¯å¤„ç†å®Œå–„

### âœ… ç›‘æ§è„šæœ¬
- [x] PM2æœåŠ¡è¿è¡Œä¸­
- [x] è„šæœ¬èƒ½æ­£ç¡®è¯»å–é…ç½®
- [x] æ‰§è¡Œè®¸å¯æ£€æŸ¥æ­£å¸¸
- [x] Telegramé€šçŸ¥é›†æˆ

### âœ… å‰ç«¯UI
- [x] ç­–ç•¥å¡ç‰‡æ˜¾ç¤ºæ­£å¸¸
- [x] å¼€å…³æŒ‰é’®å·¥ä½œæ­£å¸¸
- [x] è¾“å…¥æ¡†æ˜¾ç¤ºé»˜è®¤å€¼
- [x] ä¿å­˜æŒ‰é’®å“åº”æ­£å¸¸
- [x] å®æ—¶æ›´æ–°æ˜¾ç¤ºå€¼

---

## ğŸ” æ•°æ®å®‰å…¨

### .gitignore é…ç½®

é…ç½®æ–‡ä»¶å·²è¢«æ·»åŠ åˆ° `.gitignore`ï¼Œä¸ä¼šæäº¤åˆ°Gitä»“åº“ï¼š
```
data/okx_bottom_signal_strategies/*.jsonl
data/okx_bottom_signal_execution/*.jsonl
```

### åŸå› 
- åŒ…å«è´¦æˆ·é…ç½®æ•æ„Ÿä¿¡æ¯
- é…ç½®å¯èƒ½éšæ—¶å˜åŒ–
- æ‰§è¡Œè®°å½•æ•°æ®é‡å¤§
- å„ç¯å¢ƒé…ç½®ä¸åŒ

### å¤‡ä»½å»ºè®®
å¦‚éœ€å¤‡ä»½é…ç½®ï¼Œå¯ä»¥ï¼š
```bash
# å¤‡ä»½æ‰€æœ‰é…ç½®
tar -czf bottom_signal_configs_backup_$(date +%Y%m%d).tar.gz \
    data/okx_bottom_signal_strategies/*.jsonl

# æ¢å¤é…ç½®
tar -xzf bottom_signal_configs_backup_20260221.tar.gz
```

---

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

### 1ï¸âƒ£ é…ç½®ç­–ç•¥å‚æ•°

æ ¹æ®ä½ çš„é£é™©åå¥½å’Œå¸‚åœºæƒ…å†µï¼Œè°ƒæ•´ï¼š
- **RSIé˜ˆå€¼**ï¼šæ¨èèŒƒå›´ 600-1000
  - 600: æ›´æ¿€è¿›ï¼Œæ›´å¤šè§¦å‘æœºä¼š
  - 800: å¹³è¡¡ï¼ˆé»˜è®¤ï¼‰
  - 1000: ä¿å®ˆï¼Œåªåœ¨æç«¯ä½ä½è§¦å‘

- **å•å¸é™é¢**ï¼šæ¨èèŒƒå›´ 3-10 USDT
  - å°è´¦æˆ·ï¼š3-5 USDT
  - ä¸­è´¦æˆ·ï¼š5-8 USDT
  - å¤§è´¦æˆ·ï¼š8-10 USDT

### 2ï¸âƒ£ å¯ç”¨ç­–ç•¥

ä»ä¸€ä¸ªè´¦æˆ·çš„ä¸€ä¸ªç­–ç•¥å¼€å§‹ï¼š
1. é€‰æ‹© `account_main`
2. å¯ç”¨"è§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤š"
3. è§‚å¯Ÿæ‰§è¡Œæƒ…å†µ
4. æ ¹æ®æ•ˆæœé€æ­¥å¯ç”¨å…¶ä»–ç­–ç•¥

### 3ï¸âƒ£ ç›‘æ§æ‰§è¡Œ

- æŸ¥çœ‹PM2æ—¥å¿—ï¼š`pm2 logs bottom-signal-long-monitor`
- æ£€æŸ¥æ‰§è¡Œè®°å½•ï¼š`ls -lh data/okx_bottom_signal_execution/`
- æ¥æ”¶Telegramé€šçŸ¥
- åœ¨UIä¸ŠæŸ¥çœ‹æŒä»“å˜åŒ–

### 4ï¸âƒ£ è°ƒæ•´ä¼˜åŒ–

æ ¹æ®å®é™…æ‰§è¡Œæ•ˆæœï¼š
- è°ƒæ•´RSIé˜ˆå€¼
- è°ƒæ•´å•å¸é™é¢
- è°ƒæ•´ä»“ä½ç™¾åˆ†æ¯”ï¼ˆéœ€ä¿®æ”¹ä»£ç ï¼‰
- è°ƒæ•´å†·å´æ—¶é—´ï¼ˆéœ€ä¿®æ”¹ä»£ç ï¼‰

---

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
å‰ç«¯UI (okx_trading.html)
    â†“ ç”¨æˆ·é…ç½®
API Layer (app.py)
    â†“ ä¿å­˜åˆ°JSONL
é…ç½®æ–‡ä»¶ (okx_bottom_signal_strategies/*.jsonl)
    â†“ è¯»å–é…ç½®
ç›‘æ§è„šæœ¬ (bottom_signal_long_monitor.py)
    â†“ æ£€æŸ¥å¸‚åœºæ¡ä»¶
å¸‚åœºæ•°æ®API (market-sentiment, coin-data)
    â†“ æ»¡è¶³æ¡ä»¶
æ‰§è¡Œå¼€ä»“
    â†“ è®°å½•æ‰§è¡Œ
æ‰§è¡Œè®°å½• (okx_bottom_signal_execution/*.jsonl)
    â†“ é˜²æ­¢é‡å¤
1å°æ—¶å†·å´æœºåˆ¶
```

---

## ğŸ¯ ç­–ç•¥è§¦å‘æ¡ä»¶æ€»ç»“

### è§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤š
1. âœ… å¸‚åœºæƒ…ç»ªå‡ºç°"ğŸ¯è§åº•ä¿¡å·"ï¼ˆåº•éƒ¨èƒŒç¦»ï¼‰
2. âœ… RSIæ€»å’Œ < è®¾å®šé˜ˆå€¼ï¼ˆé»˜è®¤800ï¼‰
3. âœ… 1å°æ—¶å†·å´æœŸç»“æŸï¼ˆæˆ–é¦–æ¬¡æ‰§è¡Œï¼‰
4. âœ… ç›®æ ‡ï¼šå¸¸ç”¨15å¸ä¸­æ¶¨å¹…å‰8å
5. âœ… å¼€å¤šå•ï¼Œ10å€æ æ†

### è§åº•ä¿¡å·+æ¶¨å¹…å8åšå¤š
1. âœ… å¸‚åœºæƒ…ç»ªå‡ºç°"ğŸ¯è§åº•ä¿¡å·"ï¼ˆåº•éƒ¨èƒŒç¦»ï¼‰
2. âœ… RSIæ€»å’Œ < è®¾å®šé˜ˆå€¼ï¼ˆé»˜è®¤800ï¼‰
3. âœ… 1å°æ—¶å†·å´æœŸç»“æŸï¼ˆæˆ–é¦–æ¬¡æ‰§è¡Œï¼‰
4. âœ… ç›®æ ‡ï¼šå¸¸ç”¨15å¸ä¸­æ¶¨å¹…å8å
5. âœ… å¼€å¤šå•ï¼Œ10å€æ æ†

---

## ğŸ“ æ³¨æ„äº‹é¡¹

### âš ï¸ é£é™©æç¤º
1. **10å€æ æ†é£é™©é«˜**ï¼šç¡®ä¿ç†è§£æ æ†äº¤æ˜“é£é™©
2. **å¸‚åœºæ³¢åŠ¨**ï¼šåº•éƒ¨ä¿¡å·å¯èƒ½ä¼šæœ‰å‡ä¿¡å·
3. **ä»“ä½æ§åˆ¶**ï¼šå•æ¬¡æŠ•å…¥1.5%ä½™é¢ï¼Œé£é™©å¯æ§
4. **å•å¸é™é¢**ï¼šé™åˆ¶å•å¸æŠ•å…¥ï¼Œåˆ†æ•£é£é™©

### ğŸ’¡ ä½¿ç”¨å»ºè®®
1. **å°é¢æµ‹è¯•**ï¼šå…ˆç”¨å°é¢æµ‹è¯•ç­–ç•¥æ•ˆæœ
2. **é€æ­¥å¯ç”¨**ï¼šä¸è¦ä¸€æ¬¡å¯ç”¨æ‰€æœ‰è´¦æˆ·å’Œç­–ç•¥
3. **ç›‘æ§è°ƒæ•´**ï¼šæ ¹æ®æ‰§è¡Œæ•ˆæœåŠæ—¶è°ƒæ•´å‚æ•°
4. **æ­¢æŸè®¾ç½®**ï¼šé…åˆæ­¢ç›ˆæ­¢æŸç³»ç»Ÿä½¿ç”¨

### ğŸ”§ æŠ€æœ¯æ³¨æ„
1. **é…ç½®ç”Ÿæ•ˆ**ï¼šä¿®æ”¹é…ç½®åï¼Œç›‘æ§è„šæœ¬ä¼šåœ¨ä¸‹ä¸€ä¸ªå‘¨æœŸï¼ˆ60ç§’å†…ï¼‰åŠ è½½
2. **æ‰§è¡Œè®¸å¯**ï¼šè§¦å‘åä¼šå†™å…¥æ‰§è¡Œè®°å½•ï¼Œ1å°æ—¶å†…ä¸é‡å¤
3. **é‡ç½®è®¸å¯**ï¼šå¦‚éœ€ç«‹å³é‡æ–°è§¦å‘ï¼Œåˆ é™¤å¯¹åº”çš„execution.jsonlæ–‡ä»¶
4. **æ—¥å¿—æŸ¥çœ‹**ï¼š`pm2 logs bottom-signal-long-monitor` æŸ¥çœ‹å®æ—¶æ—¥å¿—

---

## ğŸ‰ æ€»ç»“

âœ… **4ä¸ªè´¦æˆ·** Ã— **2ä¸ªç­–ç•¥** = **8ä¸ªJSONLé…ç½®æ–‡ä»¶**

âœ… æ‰€æœ‰é…ç½®æ–‡ä»¶å·²åˆ›å»ºå¹¶éªŒè¯é€šè¿‡

âœ… APIèƒ½æ­£ç¡®è¯»å–å’Œä¿å­˜é…ç½®

âœ… ç›‘æ§è„šæœ¬æ­£å¸¸è¿è¡Œï¼ˆPM2ï¼‰

âœ… å‰ç«¯UIå®Œæ•´å¯ç”¨

âœ… å¯ä»¥å¼€å§‹ä½¿ç”¨äº†ï¼

---

**ğŸš€ è®¿é—®é“¾æ¥ï¼š**
https://9002-iopxcqas7abbrajoi4k4x-2e77fc33.sandbox.novita.ai/okx-trading

**ğŸ“š å®Œæ•´æ–‡æ¡£ï¼š**
- `/home/user/webapp/BOTTOM_SIGNAL_LONG_STRATEGIES.md` - ç­–ç•¥åŠŸèƒ½è¯´æ˜
- `/home/user/webapp/BOTTOM_SIGNAL_CONFIGS_CREATED.md` - é…ç½®æ–‡ä»¶åˆ›å»ºè¯´æ˜ï¼ˆæœ¬æ–‡æ¡£ï¼‰

**ğŸ’¾ æœ€æ–°æäº¤ï¼š**
`039db56` - feat: æ·»åŠ è§åº•ä¿¡å·åšå¤šç­–ç•¥é…ç½®æ–‡ä»¶åˆ›å»ºè„šæœ¬

---

**ğŸŠ é…ç½®æ–‡ä»¶åˆ›å»ºå®Œæˆï¼æ‰€æœ‰ç³»ç»Ÿå°±ç»ªï¼Œå¯ä»¥å¼€å§‹é…ç½®å’Œä½¿ç”¨ï¼**
