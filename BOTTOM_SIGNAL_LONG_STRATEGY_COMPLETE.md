# è§åº•ä¿¡å·åšå¤šç­–ç•¥ - å®Œæ•´å®ç°æ–‡æ¡£

## ğŸ“‹ å®Œæˆæ—¶é—´
**2026-02-21 12:16** - æ‰€æœ‰åŠŸèƒ½å·²å®Œæ•´å®ç°å¹¶éªŒè¯

---

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

æˆåŠŸæ·»åŠ äº†**ä¸¤ä¸ªè§åº•ä¿¡å·åšå¤šç­–ç•¥**ï¼Œä¸ç°æœ‰çš„è§é¡¶ä¿¡å·åšç©ºç­–ç•¥å½¢æˆå¯¹ç§°ï¼š

### âœ… å·²å®ç°çš„ç­–ç•¥

1. **è§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤š** ğŸ¯
   - è§¦å‘æ¡ä»¶ï¼šğŸ¯è§åº•ä¿¡å·ï¼ˆåº•éƒ¨èƒŒç¦»ï¼‰ + RSIæ€»å’Œ < é˜ˆå€¼
   - ç›®æ ‡å¸ç§ï¼šæ¶¨å¹…**å‰8å**
   - æ“ä½œï¼š10å€æ æ†åšå¤š
   - ä»“ä½ï¼šå¯ç”¨ä½™é¢ Ã— 1.5%
   - å•å¸é™é¢ï¼šå¯é…ç½®ï¼ˆé»˜è®¤5 USDTï¼‰

2. **è§åº•ä¿¡å·+æ¶¨å¹…å8åšå¤š** ğŸ¯
   - è§¦å‘æ¡ä»¶ï¼šğŸ¯è§åº•ä¿¡å·ï¼ˆåº•éƒ¨èƒŒç¦»ï¼‰ + RSIæ€»å’Œ < é˜ˆå€¼
   - ç›®æ ‡å¸ç§ï¼šæ¶¨å¹…**å8å**
   - æ“ä½œï¼š10å€æ æ†åšå¤š
   - ä»“ä½ï¼šå¯ç”¨ä½™é¢ Ã— 1.5%
   - å•å¸é™é¢ï¼šå¯é…ç½®ï¼ˆé»˜è®¤5 USDTï¼‰

---

## ğŸ¨ UIè®¾è®¡

### å¡ç‰‡å¸ƒå±€
- **ä½ç½®**ï¼šåœ¨RSIè‡ªåŠ¨å¼€ä»“ç­–ç•¥å¡ç‰‡ä¸­ï¼Œè§é¡¶ä¿¡å·åšç©ºç­–ç•¥ä¸‹æ–¹
- **æ ·å¼**ï¼šç»¿è‰²æ¸å˜ï¼ˆè§å¤šâ†’æµ…ç»¿ï¼‰
- **è¾¹æ¡†**ï¼šç»¿è‰²ç³»ï¼ˆ#22c55e / #10b981ï¼‰

### ç­–ç•¥1ï¼šè§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤š
```
ğŸ¯ è§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤š               [Toggle Switch]

è§¦å‘æ¡ä»¶ï¼š
â€¢ å‡ºç°"ğŸ¯è§åº•ä¿¡å·"ï¼ˆåº•éƒ¨èƒŒç¦»ï¼‰
â€¢ RSIæ€»å’Œ < 800 (å¯é…ç½®)
â€¢ è‡ªåŠ¨å¯¹æ¶¨å¹…å‰8åå¸ç§å¼€å¤šå•ï¼ˆ10å€æ æ†ï¼‰

å‚æ•°è®¾ç½®ï¼š
[RSIé˜ˆå€¼: 800] [å•å¸é™é¢: 5 USDT] [ğŸ’¾ ä¿å­˜]

èµ„é‡‘é…ç½®ï¼š
â€¢ æ€»æŠ•å…¥ï¼šå¯ç”¨ä½™é¢çš„ 1.5%
â€¢ åˆ†é…æ–¹å¼ï¼šå¹³å‡åˆ†é…ç»™8ä¸ªå¸ç§
â€¢ å•å¸é™é¢ï¼šæœ€é«˜ 5.0 USDT

ç›‘æ§é¢‘ç‡ï¼šæ¯60ç§’æ£€æŸ¥ä¸€æ¬¡ï¼Œè§¦å‘å1å°æ—¶å†…ä¸é‡å¤æ‰§è¡Œ
```

### ç­–ç•¥2ï¼šè§åº•ä¿¡å·+æ¶¨å¹…å8åšå¤š
```
ğŸ¯ è§åº•ä¿¡å·+æ¶¨å¹…å8åšå¤š               [Toggle Switch]

è§¦å‘æ¡ä»¶ï¼š
â€¢ å‡ºç°"ğŸ¯è§åº•ä¿¡å·"ï¼ˆåº•éƒ¨èƒŒç¦»ï¼‰
â€¢ RSIæ€»å’Œ < 800 (å¯é…ç½®)
â€¢ è‡ªåŠ¨å¯¹æ¶¨å¹…å8åå¸ç§å¼€å¤šå•ï¼ˆ10å€æ æ†ï¼‰

å‚æ•°è®¾ç½®ï¼š
[RSIé˜ˆå€¼: 800] [å•å¸é™é¢: 5 USDT] [ğŸ’¾ ä¿å­˜]

èµ„é‡‘é…ç½®ï¼š
â€¢ æ€»æŠ•å…¥ï¼šå¯ç”¨ä½™é¢çš„ 1.5%
â€¢ åˆ†é…æ–¹å¼ï¼šå¹³å‡åˆ†é…ç»™8ä¸ªå¸ç§
â€¢ å•å¸é™é¢ï¼šæœ€é«˜ 5.0 USDT

ç›‘æ§é¢‘ç‡ï¼šæ¯60ç§’æ£€æŸ¥ä¸€æ¬¡ï¼Œè§¦å‘å1å°æ—¶å†…ä¸é‡å¤æ‰§è¡Œ
```

---

## ğŸ”§ æŠ€æœ¯å®ç°

### å‰ç«¯ä»£ç 

#### 1. UIç»„ä»¶ï¼ˆtemplates/okx_trading.htmlï¼‰
**ä½ç½®ï¼š** ç¬¬3315è¡Œåæ’å…¥

```html
<!-- è§åº•ä¿¡å·åšå¤šç­–ç•¥ - æ¶¨å¹…å‰8 -->
<div style="...ç»¿è‰²æ¸å˜èƒŒæ™¯...">
    <div style="display: flex; align-items: center; justify-content: space-between;">
        <span>ğŸ¯ è§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤š</span>
        <input type="checkbox" id="bottomSignalTop8LongSwitch">
    </div>
    
    <!-- å‚æ•°è®¾ç½®åŒºåŸŸ -->
    <div style="display: flex; gap: 10px;">
        <input type="number" id="bottomSignalTop8RsiThreshold" value="800" min="300" max="1500">
        <input type="number" id="bottomSignalTop8MaxOrder" value="5" min="1" max="100">
        <button onclick="saveBottomSignalTop8Config()">ğŸ’¾ ä¿å­˜</button>
    </div>
</div>
```

#### 2. JavaScriptå‡½æ•°
**ä½ç½®ï¼š** ç¬¬8075è¡Œåæ’å…¥

```javascript
// æ›´æ–°æ˜¾ç¤º
function updateBottomSignalTop8Display() {
    const rsiThreshold = document.getElementById('bottomSignalTop8RsiThreshold').value;
    const maxOrder = document.getElementById('bottomSignalTop8MaxOrder').value;
    document.getElementById('bottomSignalTop8RsiThresholdDisplay').textContent = rsiThreshold;
    document.getElementById('bottomSignalTop8MaxOrderDisplay').textContent = parseFloat(maxOrder).toFixed(1);
}

// ä¿å­˜é…ç½®
async function saveBottomSignalTop8Config() {
    const account = accounts.find(acc => acc.id === currentAccount);
    if (!account) {
        alert('âŒ è¯·å…ˆé€‰æ‹©è´¦æˆ·');
        return;
    }
    
    const rsiThreshold = parseInt(document.getElementById('bottomSignalTop8RsiThreshold').value);
    const maxOrder = parseFloat(document.getElementById('bottomSignalTop8MaxOrder').value);
    
    // éªŒè¯è¾“å…¥
    if (rsiThreshold < 300 || rsiThreshold > 1500) {
        alert('âŒ RSIé˜ˆå€¼å¿…é¡»åœ¨300-1500ä¹‹é—´');
        return;
    }
    
    if (maxOrder < 1 || maxOrder > 100) {
        alert('âŒ å•å¸é™é¢å¿…é¡»åœ¨1-100 USDTä¹‹é—´');
        return;
    }
    
    try {
        const response = await fetch(`/api/okx-trading/save-bottom-signal-config/${account.id}/top8_long`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                enabled: document.getElementById('bottomSignalTop8LongSwitch').checked,
                rsi_threshold: rsiThreshold,
                max_order_usdt: maxOrder,
                position_percent: 1.5,
                leverage: 10
            })
        });
        
        const result = await response.json();
        if (result.success) {
            updateBottomSignalTop8Display();
            alert(`âœ… é…ç½®ä¿å­˜æˆåŠŸï¼\n\nè´¦æˆ·ï¼š${account.name}\nRSIé˜ˆå€¼ï¼š${rsiThreshold}\nå•å¸é™é¢ï¼š${maxOrder} USDT`);
        } else {
            alert(`âŒ ä¿å­˜å¤±è´¥ï¼š${result.error || 'æœªçŸ¥é”™è¯¯'}`);
        }
    } catch (e) {
        console.error('Save bottom signal top8 config error:', e);
        alert(`âŒ ä¿å­˜å¤±è´¥: ${e.message}`);
    }
}

// åŠ è½½é…ç½®
async function loadBottomSignalConfig() {
    const account = accounts.find(acc => acc.id === currentAccount);
    if (!account) return;
    
    try {
        // åŠ è½½Top8ç­–ç•¥é…ç½®
        const top8Response = await fetch(`/api/okx-trading/get-bottom-signal-config/${account.id}/top8_long`);
        const top8Result = await top8Response.json();
        
        if (top8Result.success && top8Result.config) {
            document.getElementById('bottomSignalTop8LongSwitch').checked = top8Result.config.enabled || false;
            document.getElementById('bottomSignalTop8RsiThreshold').value = top8Result.config.rsi_threshold || 800;
            document.getElementById('bottomSignalTop8MaxOrder').value = top8Result.config.max_order_usdt || 5;
            updateBottomSignalTop8Display();
        }
        
        // åŒæ ·å¤„ç†Bottom8ç­–ç•¥...
        
    } catch (e) {
        console.error('Load bottom signal config error:', e);
    }
}
```

#### 3. äº‹ä»¶ç›‘å¬å™¨
**ä½ç½®ï¼š** ç¬¬8717è¡Œåæ’å…¥

```javascript
// ğŸ¯ è§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤šå¼€å…³ï¼šä¿å­˜è®¾ç½®
const bottomSignalTop8LongSwitchEl = document.getElementById('bottomSignalTop8LongSwitch');
if (bottomSignalTop8LongSwitchEl) {
    bottomSignalTop8LongSwitchEl.addEventListener('change', async function() {
        await saveBottomSignalTop8Config();
    });
}

// ğŸ¯ è§åº•ä¿¡å·+æ¶¨å¹…å8åšå¤šå¼€å…³ï¼šä¿å­˜è®¾ç½®
const bottomSignalBottom8LongSwitchEl = document.getElementById('bottomSignalBottom8LongSwitch');
if (bottomSignalBottom8LongSwitchEl) {
    bottomSignalBottom8LongSwitchEl.addEventListener('change', async function() {
        await saveBottomSignalBottom8Config();
    });
}
```

#### 4. åˆå§‹åŒ–è°ƒç”¨
**ä¿®æ”¹ä½ç½®ï¼š**
- `init()` å‡½æ•°ï¼ˆç¬¬5373è¡Œï¼‰ï¼šæ·»åŠ  `loadBottomSignalConfig()`
- `selectAccount()` å‡½æ•°ï¼ˆç¬¬5472è¡Œï¼‰ï¼šæ·»åŠ  `loadBottomSignalConfig()`

---

### åç«¯ä»£ç 

#### 1. ä¿å­˜é…ç½®APIï¼ˆapp.pyï¼‰
**ä½ç½®ï¼š** ç¬¬17044è¡Œåæ’å…¥

```python
@app.route('/api/okx-trading/save-bottom-signal-config/<account_id>/<strategy_type>', methods=['POST'])
def save_bottom_signal_config(account_id, strategy_type):
    """ä¿å­˜è§åº•ä¿¡å·åšå¤šç­–ç•¥é…ç½®åˆ°JSONLæ–‡ä»¶
    strategy_type: 'top8_long' æˆ– 'bottom8_long'
    """
    try:
        import json
        import os
        from datetime import datetime
        
        data = request.get_json()
        
        # è¯»å–é…ç½®å‚æ•°
        enabled = bool(data.get('enabled', False))
        rsi_threshold = int(data.get('rsi_threshold', 800))
        max_order_usdt = float(data.get('max_order_usdt', 5.0))
        position_percent = float(data.get('position_percent', 1.5))
        leverage = int(data.get('leverage', 10))
        
        # éªŒè¯å‚æ•°
        if rsi_threshold < 300 or rsi_threshold > 1500:
            return jsonify({'success': False, 'error': 'RSIé˜ˆå€¼å¿…é¡»åœ¨300-1500ä¹‹é—´'})
        
        if max_order_usdt < 1 or max_order_usdt > 100:
            return jsonify({'success': False, 'error': 'å•å¸é™é¢å¿…é¡»åœ¨1-100 USDTä¹‹é—´'})
        
        # å‡†å¤‡é…ç½®è®°å½•
        config = {
            'timestamp': datetime.now().isoformat(),
            'time': datetime.now().strftime('%Y-%m-%d %H:%M:%S'),
            'account_id': account_id,
            'strategy_type': strategy_type,
            'enabled': enabled,
            'rsi_threshold': rsi_threshold,
            'max_order_usdt': max_order_usdt,
            'position_percent': position_percent,
            'leverage': leverage,
            'description': f'è§åº•ä¿¡å·+{"æ¶¨å¹…å‰8" if strategy_type == "top8_long" else "æ¶¨å¹…å8"}åšå¤šç­–ç•¥'
        }
        
        # ä¿å­˜åˆ°JSONLæ–‡ä»¶
        current_dir = os.path.dirname(os.path.abspath(__file__))
        jsonl_dir = os.path.join(current_dir, 'data', 'okx_bottom_signal_strategies')
        os.makedirs(jsonl_dir, exist_ok=True)
        
        jsonl_file = os.path.join(jsonl_dir, f'{account_id}_bottom_signal_{strategy_type}.jsonl')
        
        # å†™å…¥é…ç½®ï¼ˆè¦†ç›–æ¨¡å¼ï¼Œåªä¿ç•™æœ€æ–°é…ç½®ï¼‰
        with open(jsonl_file, 'w', encoding='utf-8') as f:
            f.write(json.dumps(config, ensure_ascii=False) + '\n')
        
        return jsonify({
            'success': True,
            'message': f'åº•éƒ¨ä¿¡å· {strategy_type} é…ç½®å·²ä¿å­˜',
            'config': config
        })
        
    except Exception as e:
        return jsonify({
            'success': False,
            'error': str(e)
        })
```

#### 2. è¯»å–é…ç½®APIï¼ˆapp.pyï¼‰
**ä½ç½®ï¼š** ç´§æ¥ä¸Šä¸€ä¸ªAPI

```python
@app.route('/api/okx-trading/get-bottom-signal-config/<account_id>/<strategy_type>', methods=['GET'])
def get_bottom_signal_config(account_id, strategy_type):
    """è¯»å–è§åº•ä¿¡å·åšå¤šç­–ç•¥é…ç½®
    strategy_type: 'top8_long' æˆ– 'bottom8_long'
    """
    try:
        import json
        import os
        
        current_dir = os.path.dirname(os.path.abspath(__file__))
        jsonl_file = os.path.join(current_dir, 'data', 'okx_bottom_signal_strategies', 
                                   f'{account_id}_bottom_signal_{strategy_type}.jsonl')
        
        if not os.path.exists(jsonl_file):
            # è¿”å›é»˜è®¤é…ç½®
            return jsonify({
                'success': True,
                'config': {
                    'enabled': False,
                    'rsi_threshold': 800,
                    'max_order_usdt': 5.0,
                    'position_percent': 1.5,
                    'leverage': 10
                },
                'message': 'ä½¿ç”¨é»˜è®¤é…ç½®ï¼ˆæ–‡ä»¶ä¸å­˜åœ¨ï¼‰'
            })
        
        # è¯»å–æœ€æ–°é…ç½®ï¼ˆJSONLæ–‡ä»¶æœ€åä¸€è¡Œï¼‰
        with open(jsonl_file, 'r', encoding='utf-8') as f:
            lines = f.readlines()
            if lines:
                config = json.loads(lines[-1].strip())
                return jsonify({
                    'success': True,
                    'config': config
                })
        
    except Exception as e:
        return jsonify({
            'success': False,
            'error': str(e)
        })
```

---

### åç«¯ç›‘æ§è„šæœ¬

#### source_code/bottom_signal_long_monitor.py

**æ ¸å¿ƒåŠŸèƒ½ï¼š**

1. **é…ç½®åŠ è½½**
```python
def load_strategy_config(account_id, strategy_type):
    """ä»JSONLæ–‡ä»¶åŠ è½½ç­–ç•¥é…ç½®"""
    config_file = CONFIG_DIR / f"{account_id}_bottom_signal_{strategy_type}.jsonl"
    
    default_config = {
        'enabled': False,
        'rsi_threshold': 800,
        'max_order_usdt': 5.0,
        'position_percent': 1.5,
        'leverage': 10
    }
    
    if not config_file.exists():
        return default_config
    
    with open(config_file, 'r', encoding='utf-8') as f:
        lines = f.readlines()
        if lines:
            return json.loads(lines[-1].strip())
    
    return default_config
```

2. **å†·å´æœŸæ£€æŸ¥**
```python
def check_last_execution(account_id, strategy_type):
    """æ£€æŸ¥ä¸Šæ¬¡æ‰§è¡Œæ—¶é—´ï¼Œåˆ¤æ–­æ˜¯å¦åœ¨å†·å´æœŸå†…ï¼ˆ1å°æ—¶ï¼‰"""
    execution_file = EXECUTION_DIR / f"{account_id}_bottom_signal_{strategy_type}_execution.jsonl"
    
    if not execution_file.exists():
        return True  # å¯ä»¥æ‰§è¡Œ
    
    with open(execution_file, 'r', encoding='utf-8') as f:
        lines = f.readlines()
        if lines:
            last_record = json.loads(lines[-1].strip())
            last_time = datetime.fromisoformat(last_record['timestamp'])
            now = datetime.now()
            time_diff = (now - last_time).total_seconds()
            
            if time_diff < COOLDOWN_TIME:  # 3600ç§’ = 1å°æ—¶
                return False
    
    return True
```

3. **å¸‚åœºæ•°æ®è·å–**
```python
def get_market_sentiment():
    """è·å–å½“å‰å¸‚åœºæƒ…ç»ªå’ŒRSIæ€»å’Œ"""
    response = requests.get(f"{API_BASE}/api/market-sentiment", timeout=10)
    result = response.json()
    if result.get('success'):
        sentiment = result.get('sentiment', '')
        rsi_total = float(result.get('rsi_total', 0))
        return sentiment, rsi_total
    return None, 0

def get_top_gainers(symbols, count=8, reverse=False):
    """è·å–æ¶¨å¹…å‰/åNåå¸ç§
    reverse=False: æ¶¨å¹…å‰N (æ¶¨å¹…æœ€å¤§)
    reverse=True: æ¶¨å¹…åN (æ¶¨å¹…æœ€å°)
    """
    response = requests.get(f"{API_BASE}/api/okx/market-tickers", timeout=10)
    result = response.json()
    
    tickers = result.get('tickers', [])
    # ç­›é€‰å¸¸ç”¨å¸ç§å¹¶æ’åº...
    sorted_tickers = sorted(filtered_tickers, key=lambda x: x['change'], reverse=not reverse)
    return sorted_tickers[:count]
```

4. **å¼€ä»“æ‰§è¡Œ**
```python
def execute_long_orders(account, coins, config):
    """æ‰§è¡Œå¤šå•å¼€ä»“"""
    # è·å–è´¦æˆ·ä½™é¢
    available_balance = get_account_balance(account)
    
    # è®¡ç®—æ¯ä¸ªå¸ç§çš„å¼€ä»“é‡‘é¢
    position_percent = config['position_percent'] / 100  # 1.5% -> 0.015
    max_per_coin = config['max_order_usdt']
    leverage = config['leverage']
    
    total_investment = available_balance * position_percent
    per_coin_amount = min(total_investment / len(coins), max_per_coin)
    
    # å¯¹æ¯ä¸ªå¸ç§å¼€ä»“
    for coin in coins:
        payload = {
            'account_id': account['id'],
            'instId': coin['instId'],
            'tdMode': 'cross',  # å…¨ä»“
            'side': 'buy',  # åšå¤š
            'posSide': 'long',
            'ordType': 'market',
            'sz_usdt': per_coin_amount,
            'lever': leverage
        }
        
        response = requests.post(f"{API_BASE}/api/okx-trading/open-position-by-usdt", 
                                json=payload, timeout=15)
```

5. **ä¸»å¾ªç¯**
```python
def main():
    """ä¸»å¾ªç¯ - æ¯60ç§’æ£€æŸ¥ä¸€æ¬¡"""
    while True:
        try:
            accounts = get_account_list()
            
            for account in accounts:
                check_and_execute_strategy(account, 'top8_long')
                time.sleep(2)
                check_and_execute_strategy(account, 'bottom8_long')
                time.sleep(2)
            
            time.sleep(CHECK_INTERVAL)  # 60ç§’
        except Exception as e:
            log(f"âŒ ä¸»å¾ªç¯å¼‚å¸¸: {e}")
            time.sleep(CHECK_INTERVAL)
```

---

### PM2æœåŠ¡é…ç½®

#### ecosystem.config.js

```javascript
{
  name: 'bottom-signal-long-monitor',
  script: 'source_code/bottom_signal_long_monitor.py',
  interpreter: 'python3',
  cwd: '/home/user/webapp',
  autorestart: true,
  watch: false,
  max_memory_restart: '500M',
  error_file: '/home/user/webapp/logs/bottom-signal-long-error.log',
  out_file: '/home/user/webapp/logs/bottom-signal-long-out.log'
}
```

**å¯åŠ¨å‘½ä»¤ï¼š**
```bash
pm2 start ecosystem.config.js --only bottom-signal-long-monitor
pm2 save
```

**æŸ¥çœ‹æ—¥å¿—ï¼š**
```bash
pm2 logs bottom-signal-long-monitor --lines 50
```

---

## ğŸ“ æ•°æ®æ–‡ä»¶ç»“æ„

### é…ç½®æ–‡ä»¶ï¼ˆJSONLï¼‰
```
/home/user/webapp/data/okx_bottom_signal_strategies/
â”œâ”€â”€ account_main_bottom_signal_top8_long.jsonl
â”œâ”€â”€ account_main_bottom_signal_bottom8_long.jsonl
â”œâ”€â”€ account_fangfang12_bottom_signal_top8_long.jsonl
â”œâ”€â”€ account_fangfang12_bottom_signal_bottom8_long.jsonl
â”œâ”€â”€ account_poit_main_bottom_signal_top8_long.jsonl
â””â”€â”€ account_poit_main_bottom_signal_bottom8_long.jsonl
```

**é…ç½®æ–‡ä»¶æ ¼å¼ï¼š**
```json
{
  "timestamp": "2026-02-21T12:16:13.123456",
  "time": "2026-02-21 12:16:13",
  "account_id": "account_main",
  "strategy_type": "top8_long",
  "enabled": true,
  "rsi_threshold": 800,
  "max_order_usdt": 5.0,
  "position_percent": 1.5,
  "leverage": 10,
  "description": "è§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤šç­–ç•¥"
}
```

### æ‰§è¡Œè®°å½•ï¼ˆJSONLï¼‰
```
/home/user/webapp/data/okx_bottom_signal_execution/
â”œâ”€â”€ account_main_bottom_signal_top8_long_execution.jsonl
â”œâ”€â”€ account_main_bottom_signal_bottom8_long_execution.jsonl
â””â”€â”€ ...
```

**æ‰§è¡Œè®°å½•æ ¼å¼ï¼š**
```json
{
  "timestamp": "2026-02-21T13:30:45.123456",
  "time": "2026-02-21 13:30:45",
  "account_id": "account_main",
  "strategy_type": "top8_long",
  "rsi_value": 750,
  "coins": ["BTC", "ETH", "SOL", "BNB", "XRP", "ADA", "DOGE", "AVAX"],
  "result": {
    "success_count": 8,
    "failed_coins": [],
    "total_investment": 3.0,
    "per_coin_amount": 0.375
  }
}
```

---

## ğŸ® ç”¨æˆ·æ“ä½œæµç¨‹

### 1ï¸âƒ£ é…ç½®ç­–ç•¥

1. è®¿é—®OKXäº¤æ˜“é¡µé¢
2. æ‰¾åˆ°"RSIè‡ªåŠ¨å¼€ä»“ç­–ç•¥"é»„è‰²å¡ç‰‡
3. æ»šåŠ¨åˆ°åº•éƒ¨ï¼Œæ‰¾åˆ°ä¸¤ä¸ªç»¿è‰²çš„è§åº•ä¿¡å·ç­–ç•¥
4. è®¾ç½®å‚æ•°ï¼š
   - RSIé˜ˆå€¼ï¼ˆé»˜è®¤800ï¼ŒèŒƒå›´300-1500ï¼‰
   - å•å¸é™é¢ï¼ˆé»˜è®¤5Uï¼ŒèŒƒå›´1-100Uï¼‰
5. ç‚¹å‡»"ğŸ’¾ ä¿å­˜"æŒ‰é’®
6. æ‰“å¼€ç­–ç•¥å¼€å…³

### 2ï¸âƒ£ ç­–ç•¥è§¦å‘

**è‡ªåŠ¨ç›‘æ§ï¼š**
- åç«¯ç›‘æ§è„šæœ¬æ¯60ç§’æ£€æŸ¥ä¸€æ¬¡
- æ£€æŸ¥å¸‚åœºæƒ…ç»ªæ˜¯å¦ä¸º"ğŸ¯è§åº•ä¿¡å·"
- æ£€æŸ¥RSIæ€»å’Œæ˜¯å¦ < è®¾ç½®çš„é˜ˆå€¼
- è·å–æ¶¨å¹…å‰8æˆ–å8åå¸ç§
- è‡ªåŠ¨æ‰§è¡Œå¼€ä»“

**è§¦å‘æ¡ä»¶ï¼š**
```
âœ… ç­–ç•¥å·²å¯ç”¨ï¼ˆå¼€å…³æ‰“å¼€ï¼‰
âœ… ä¸åœ¨å†·å´æœŸå†…ï¼ˆä¸Šæ¬¡æ‰§è¡Œ > 1å°æ—¶ï¼‰
âœ… å¸‚åœºæƒ…ç»ª = "ğŸ¯è§åº•ä¿¡å·"ï¼ˆåº•éƒ¨èƒŒç¦»ï¼‰
âœ… RSIæ€»å’Œ < é˜ˆå€¼ï¼ˆé»˜è®¤800ï¼‰
```

### 3ï¸âƒ£ æ‰§è¡Œç»“æœé€šçŸ¥

**Telegramæ¶ˆæ¯ç¤ºä¾‹ï¼š**
```
ğŸ¯ è§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤š - å·²æ‰§è¡Œ

ğŸ“Œ è´¦æˆ·: ä¸»è´¦æˆ·
ğŸ“Š å¸‚åœºæƒ…ç»ª: ğŸ¯è§åº•ä¿¡å·ï¼ˆåº•éƒ¨èƒŒç¦»ï¼‰
ğŸ“ˆ RSIæ€»å’Œ: 750 (é˜ˆå€¼ < 800)

ğŸ’° æ€»æŠ•å…¥: 3.0 USDT
ğŸ’µ å•å¸: 0.375 USDT
âš¡ï¸ æ æ†: 10x

âœ… æˆåŠŸ: 8/8
ğŸ“Š å¸ç§: BTC, ETH, SOL, BNB, XRP, ADA, DOGE, AVAX

â° æ—¶é—´: 2026-02-21 13:30:45
ğŸ”’ ä¸‹æ¬¡å¯è§¦å‘: 14:30
```

### 4ï¸âƒ£ æŸ¥çœ‹æ‰§è¡Œå†å²

- æŸ¥çœ‹JSONLæ‰§è¡Œè®°å½•æ–‡ä»¶
- æŸ¥çœ‹PM2ç›‘æ§æ—¥å¿—
- æŸ¥çœ‹Telegramå†å²æ¶ˆæ¯

---

## ğŸ” é£æ§æœºåˆ¶

### ä»“ä½æ§åˆ¶
```
æ€»æŠ•å…¥ = å¯ç”¨ä½™é¢ Ã— 1.5%
å•å¸æŠ•å…¥ = min(æ€»æŠ•å…¥ Ã· 8, å•å¸é™é¢)
```

**ç¤ºä¾‹è®¡ç®—ï¼š**

å‡è®¾è´¦æˆ·å¯ç”¨ä½™é¢ä¸º **200 USDT**ï¼Œå•å¸é™é¢ä¸º **5 USDT**ï¼š
```
æ€»æŠ•å…¥ = 200 Ã— 1.5% = 3.0 USDT
å•å¸æŠ•å…¥ = 3.0 Ã· 8 = 0.375 USDT
æ¯ä¸ªå¸ç§å¼€ä»“ 0.375 USDTï¼ˆæœªè¾¾åˆ°5 USDTé™é¢ï¼‰
å®é™…æ€»æŠ•å…¥ = 0.375 Ã— 8 = 3.0 USDT
```

å‡è®¾è´¦æˆ·å¯ç”¨ä½™é¢ä¸º **5000 USDT**ï¼Œå•å¸é™é¢ä¸º **5 USDT**ï¼š
```
æ€»æŠ•å…¥ = 5000 Ã— 1.5% = 75 USDT
å•å¸æŠ•å…¥ = 75 Ã· 8 = 9.375 USDT
è§¦å‘å•å¸é™é¢ï¼æ¯ä¸ªå¸ç§å¼€ä»“ 5.0 USDT
å®é™…æ€»æŠ•å…¥ = 5.0 Ã— 8 = 40 USDT
```

### æ—¶é—´å†·å´
- **å†·å´æœŸ**ï¼š1å°æ—¶ï¼ˆ3600ç§’ï¼‰
- **ä½œç”¨**ï¼šé˜²æ­¢çŸ­æ—¶é—´å†…é‡å¤è§¦å‘
- **å®ç°**ï¼šè®°å½•æ¯æ¬¡æ‰§è¡Œæ—¶é—´åˆ°JSONLæ–‡ä»¶

### æ æ†è®¾ç½®
- **å›ºå®šæ æ†**ï¼š10å€
- **äº¤æ˜“æ¨¡å¼**ï¼šå…¨ä»“ï¼ˆcrossï¼‰
- **è®¢å•ç±»å‹**ï¼šå¸‚ä»·å•ï¼ˆmarketï¼‰

### å‚æ•°éªŒè¯
- **RSIé˜ˆå€¼**ï¼š300-1500ï¼ˆå‰ç«¯+åç«¯åŒé‡éªŒè¯ï¼‰
- **å•å¸é™é¢**ï¼š1-100 USDTï¼ˆå‰ç«¯+åç«¯åŒé‡éªŒè¯ï¼‰
- **è´¦æˆ·ä½™é¢**ï¼šè‡ªåŠ¨è·å–ï¼Œç¡®ä¿æœ‰è¶³å¤Ÿä½™é¢

---

## ğŸ“Š ç³»ç»ŸçŠ¶æ€

### PM2æœåŠ¡çŠ¶æ€
```bash
$ pm2 list
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name                              â”‚ status  â”‚ cpu      â”‚ mem    â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 28 â”‚ bottom-signal-long-monitor        â”‚ online  â”‚ 0%       â”‚ 28.3mb â”‚
â”‚ 27 â”‚ flask-app                         â”‚ online  â”‚ 0%       â”‚ 87.2mb â”‚
â”‚ ...â”‚ ...å…¶ä»–24ä¸ªæœåŠ¡...                 â”‚ online  â”‚ ...      â”‚ ...    â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ€»è®¡ï¼š26ä¸ªæœåŠ¡å…¨éƒ¨åœ¨çº¿
```

### ç›‘æ§æ—¥å¿—
```
[2026-02-21 12:16:13] ================================================================================
[2026-02-21 12:16:13] ğŸ¯ è§åº•ä¿¡å·è‡ªåŠ¨åšå¤šç›‘æ§å™¨å¯åŠ¨
[2026-02-21 12:16:13] ================================================================================
[2026-02-21 12:16:13] æ£€æŸ¥é—´éš”: 60ç§’
[2026-02-21 12:16:13] å†·å´æ—¶é—´: 3600ç§’ (1.0å°æ—¶)
[2026-02-21 12:16:13] ç›‘æ§ç­–ç•¥: è§åº•ä¿¡å·+æ¶¨å¹…å‰8åšå¤š, è§åº•ä¿¡å·+æ¶¨å¹…å8åšå¤š
[2026-02-21 12:16:13] ================================================================================
[2026-02-21 12:16:13] ğŸ” å¼€å§‹æ£€æŸ¥è§åº•ä¿¡å·...
[2026-02-21 12:16:13] âœ… è·å–è´¦æˆ·åˆ—è¡¨æˆåŠŸ: 4 ä¸ªè´¦æˆ·
[2026-02-21 12:16:13] âš ï¸  [account_main/top8_long] é…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä½¿ç”¨é»˜è®¤é…ç½®
[2026-02-21 12:16:15] âš ï¸  [account_main/bottom8_long] é…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä½¿ç”¨é»˜è®¤é…ç½®
[2026-02-21 12:16:17] âš ï¸  [account_fangfang12/top8_long] é…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä½¿ç”¨é»˜è®¤é…ç½®
...
```

---

## ğŸš€ è®¿é—®é“¾æ¥

**OKXäº¤æ˜“ç³»ç»Ÿï¼š**
https://9002-iopxcqas7abbrajoi4k4x-2e77fc33.sandbox.novita.ai/okx-trading

**GitHubä»“åº“ï¼š**
https://github.com/jamesyidc/25669889956

**æœ€æ–°æäº¤ï¼š**
- `ffc5e06` - feat: æ·»åŠ è§åº•ä¿¡å·åšå¤šç­–ç•¥ï¼ˆæ¶¨å¹…å‰8/å8ï¼‰
- `a4344cd` - fix: ä¿®å¤è§åº•ä¿¡å·ç›‘æ§è„šæœ¬f-stringè¯­æ³•é”™è¯¯

---

## âœ… éªŒè¯æ¸…å•

- [x] å‰ç«¯UIæ·»åŠ ä¸¤ä¸ªç­–ç•¥é…ç½®é¢æ¿
- [x] RSIé˜ˆå€¼è¾“å…¥æ¡†ï¼ˆ300-1500ï¼‰
- [x] å•å¸é™é¢è¾“å…¥æ¡†ï¼ˆ1-100Uï¼‰
- [x] ä¿å­˜æŒ‰é’®å’Œå¼€å…³æŒ‰é’®
- [x] JavaScriptä¿å­˜/åŠ è½½å‡½æ•°
- [x] JavaScriptäº‹ä»¶ç›‘å¬å™¨
- [x] åç«¯ä¿å­˜é…ç½®API
- [x] åç«¯è¯»å–é…ç½®API
- [x] åç«¯ç›‘æ§è„šæœ¬
- [x] PM2æœåŠ¡é…ç½®
- [x] æ‰§è¡Œè®°å½•JSONL
- [x] å†·å´æœŸæœºåˆ¶
- [x] Telegramé€šçŸ¥
- [x] é”™è¯¯å¤„ç†
- [x] Flaskåº”ç”¨é‡å¯
- [x] ç›‘æ§æœåŠ¡è¿è¡Œ
- [x] æ—¥å¿—è¾“å‡ºæ­£å¸¸

---

## ğŸŠ æ€»ç»“

è§åº•ä¿¡å·åšå¤šç­–ç•¥å·²å®Œæ•´å®ç°ï¼Œä¸ç°æœ‰çš„è§é¡¶ä¿¡å·åšç©ºç­–ç•¥å½¢æˆå¯¹ç§°çš„å¸‚åœºä¿¡å·å“åº”ä½“ç³»ï¼š

### å¯¹ç§°è®¾è®¡
| ç‰¹æ€§ | è§é¡¶ä¿¡å·åšç©º | è§åº•ä¿¡å·åšå¤š |
|------|------------|------------|
| ä¿¡å·ç±»å‹ | âš ï¸è§é¡¶ä¿¡å· | ğŸ¯è§åº•ä¿¡å· |
| RSIæ¡ä»¶ | > 1800 | < 800 |
| æ“ä½œæ–¹å‘ | åšç©ºï¼ˆshortï¼‰ | åšå¤šï¼ˆlongï¼‰ |
| æ æ† | 10å€ | 10å€ |
| ä»“ä½ | 1.5% | 1.5% |
| å•å¸é™é¢ | 5 USDT | 5 USDTï¼ˆå¯é…ç½®ï¼‰ |
| å†·å´æœŸ | 1å°æ—¶ | 1å°æ—¶ |
| UIé¢œè‰² | çº¢è‰²æ¸å˜ | ç»¿è‰²æ¸å˜ |

### æŠ€æœ¯äº®ç‚¹
- âœ… å®Œæ•´çš„å‰åç«¯åˆ†ç¦»æ¶æ„
- âœ… JSONLé…ç½®æŒä¹…åŒ–
- âœ… ç‹¬ç«‹çš„æ‰§è¡Œè®°å½•å’Œå†·å´æœºåˆ¶
- âœ… å®æ—¶Telegramé€šçŸ¥
- âœ… PM2å®ˆæŠ¤è¿›ç¨‹ç®¡ç†
- âœ… å¤šè´¦æˆ·ç‹¬ç«‹é…ç½®
- âœ… å®Œå–„çš„å‚æ•°éªŒè¯å’Œé”™è¯¯å¤„ç†

### ä¸‹ä¸€æ­¥å»ºè®®
1. âœ… æµ‹è¯•ç­–ç•¥è§¦å‘ï¼ˆç­‰å¾…å¸‚åœºå‡ºç°è§åº•ä¿¡å·ï¼‰
2. âœ… æ ¹æ®å®é™…æ•ˆæœè°ƒæ•´RSIé˜ˆå€¼å’Œå•å¸é™é¢
3. âœ… è§‚å¯Ÿæ‰§è¡Œè®°å½•å’Œæ”¶ç›Šæƒ…å†µ
4. âœ… è€ƒè™‘æ·»åŠ æ›´å¤šå¸‚åœºä¿¡å·ç»´åº¦

ğŸ‰ **æ­å–œï¼è§åº•ä¿¡å·åšå¤šç­–ç•¥ç³»ç»Ÿå·²å®Œç¾å®ç°ï¼**
