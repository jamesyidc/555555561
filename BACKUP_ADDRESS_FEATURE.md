# å¤‡ä»½ç®¡ç† - å‘é€æ–¹/æ¥æ”¶æ–¹åœ°å€åŠŸèƒ½è¯´æ˜

## åŠŸèƒ½æ¦‚è¿°

åœ¨æ•°æ®ç®¡ç†ä¸å¤‡ä»½ç³»ç»Ÿä¸­æ–°å¢äº†**å‘é€æ–¹åœ°å€**å’Œ**æ¥æ”¶æ–¹åœ°å€**è¾“å…¥æ¡†ï¼Œç”¨äºè®°å½•å’Œè¿½è¸ªæ•°æ®å¤‡ä»½çš„æ¥æºä¸ç›®æ ‡ä½ç½®ã€‚

---

## ç•Œé¢ä½ç½®

ğŸ“ **è®¿é—®è·¯å¾„**: https://9002-xxx.sandbox.novita.ai/data-management

ä½äº"å¤‡ä»½ç®¡ç†"é¢æ¿ä¸­ï¼Œåœ¨"åˆ›å»ºå®Œæ•´å¤‡ä»½"å’Œ"åˆ›å»ºå¢é‡å¤‡ä»½"æŒ‰é’®ä¸‹æ–¹ã€‚

---

## å­—æ®µè¯´æ˜

### ğŸ“¤ å‘é€æ–¹åœ°å€
- **ç”¨é€”**: è®°å½•å¤‡ä»½æ•°æ®çš„æ¥æºä½ç½®
- **æ ¼å¼ç¤ºä¾‹**:
  - é‚®ç®±: `admin@example.com`
  - æœåŠ¡å™¨è·¯å¾„: `/home/user/webapp/data`
  - æœåŠ¡å™¨æ ‡è¯†: `server-01.example.com`
  - IPåœ°å€: `192.168.1.100:/backup/source`

### ğŸ“¥ æ¥æ”¶æ–¹åœ°å€
- **ç”¨é€”**: è®°å½•å¤‡ä»½æ•°æ®çš„ç›®æ ‡å­˜å‚¨ä½ç½®
- **æ ¼å¼ç¤ºä¾‹**:
  - é‚®ç®±: `backup@example.com`
  - è¿œç¨‹æœåŠ¡å™¨: `backup-server:/mnt/backups`
  - äº‘å­˜å‚¨: `s3://backup-bucket/data`
  - æœ¬åœ°è·¯å¾„: `/mnt/aidrive/backups`

---

## ä½¿ç”¨æ–¹æ³•

### 1. åŸºæœ¬ä½¿ç”¨æµç¨‹

```
1. æ‰“å¼€æ•°æ®ç®¡ç†é¡µé¢
2. åœ¨"å¤‡ä»½ç®¡ç†"é¢æ¿ä¸­æ‰¾åˆ°åœ°å€è¾“å…¥æ¡†
3. ï¼ˆå¯é€‰ï¼‰å¡«å†™å‘é€æ–¹åœ°å€å’Œæ¥æ”¶æ–¹åœ°å€
4. ç‚¹å‡»"åˆ›å»ºå®Œæ•´å¤‡ä»½"æˆ–"åˆ›å»ºå¢é‡å¤‡ä»½"
5. ç³»ç»Ÿä¼šåœ¨ç¡®è®¤å¯¹è¯æ¡†ä¸­æ˜¾ç¤ºåœ°å€ä¿¡æ¯
6. ç¡®è®¤åå¼€å§‹åˆ›å»ºå¤‡ä»½
```

### 2. éªŒè¯è§„åˆ™

- **å¯é€‰å¡«å†™**: åœ°å€å­—æ®µéå¿…å¡«ï¼Œå¯ä»¥ç•™ç©º
- **æˆå¯¹éªŒè¯**: å¦‚æœå¡«å†™äº†ä¸€ä¸ªåœ°å€ï¼Œå¿…é¡»åŒæ—¶å¡«å†™å¦ä¸€ä¸ªåœ°å€
  - âŒ åªå¡«å†™å‘é€æ–¹ â†’ æç¤º"è¯·å¡«å†™æ¥æ”¶æ–¹åœ°å€"
  - âŒ åªå¡«å†™æ¥æ”¶æ–¹ â†’ æç¤º"è¯·å¡«å†™å‘é€æ–¹åœ°å€"
  - âœ… ä¸¤ä¸ªéƒ½å¡«å†™ â†’ æ­£å¸¸åˆ›å»ºå¤‡ä»½
  - âœ… ä¸¤ä¸ªéƒ½ä¸å¡« â†’ æ­£å¸¸åˆ›å»ºå¤‡ä»½

### 3. ç¡®è®¤å¯¹è¯æ¡†ç¤ºä¾‹

**æœªå¡«å†™åœ°å€æ—¶**:
```
ç¡®è®¤åˆ›å»ºå®Œæ•´å¤‡ä»½ï¼Ÿ

å®Œæ•´å¤‡ä»½å°†æ‰“åŒ…æ‰€æœ‰æ•°æ®ï¼Œå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿã€‚
```

**å¡«å†™åœ°å€å**:
```
ç¡®è®¤åˆ›å»ºå®Œæ•´å¤‡ä»½ï¼Ÿ

å®Œæ•´å¤‡ä»½å°†æ‰“åŒ…æ‰€æœ‰æ•°æ®ï¼Œå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿã€‚

ğŸ“¤ å‘é€æ–¹: admin@example.com
ğŸ“¥ æ¥æ”¶æ–¹: backup@server.com
```

---

## æŠ€æœ¯å®ç°

### å‰ç«¯å®ç°

**HTMLç»“æ„** (`templates/data_management.html`):
```html
<!-- å‘é€æ–¹åœ°å€ -->
<div>
    <label>ğŸ“¤ å‘é€æ–¹åœ°å€</label>
    <input type="text" 
           id="senderAddress" 
           placeholder="è¯·è¾“å…¥å‘é€æ–¹åœ°å€"
           style="...">
</div>

<!-- æ¥æ”¶æ–¹åœ°å€ -->
<div>
    <label>ğŸ“¥ æ¥æ”¶æ–¹åœ°å€</label>
    <input type="text" 
           id="receiverAddress" 
           placeholder="è¯·è¾“å…¥æ¥æ”¶æ–¹åœ°å€"
           style="...">
</div>
```

**JavaScriptéªŒè¯** (`createBackup`å‡½æ•°):
```javascript
// è·å–åœ°å€å€¼
const senderAddress = document.getElementById('senderAddress').value.trim();
const receiverAddress = document.getElementById('receiverAddress').value.trim();

// æˆå¯¹éªŒè¯
if (senderAddress && !receiverAddress) {
    showAlert('è¯·å¡«å†™æ¥æ”¶æ–¹åœ°å€', 'error');
    return;
}

// å‘é€åˆ°åç«¯
const requestBody = { 
    type,
    sender_address: senderAddress || null,
    receiver_address: receiverAddress || null
};
```

### åç«¯å®ç°

**APIç«¯ç‚¹** (`app.py`):
```python
@app.route('/api/data-backup/create', methods=['POST'])
def api_backup_create():
    data = request.get_json() or {}
    backup_type = data.get('type', 'full')
    sender_address = data.get('sender_address', '')
    receiver_address = data.get('receiver_address', '')
    
    # è®°å½•æ—¥å¿—
    logger.info(f"åˆ›å»ºå¤‡ä»½è¯·æ±‚ - ç±»å‹: {backup_type}, "
                f"å‘é€æ–¹: {sender_address or 'æœªæŒ‡å®š'}, "
                f"æ¥æ”¶æ–¹: {receiver_address or 'æœªæŒ‡å®š'}")
    
    # æ„å»ºå‘½ä»¤
    command = ['python3', 'source_code/data_backup_service.py', 'backup']
    if sender_address:
        command.extend(['--sender', sender_address])
    if receiver_address:
        command.extend(['--receiver', receiver_address])
    
    # æ‰§è¡Œå¤‡ä»½
    result = subprocess.run(command, ...)
```

---

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: æœ¬åœ°å¤‡ä»½ï¼ˆä¸å¡«åœ°å€ï¼‰
```
æ“ä½œ: ç›´æ¥ç‚¹å‡»"åˆ›å»ºå®Œæ•´å¤‡ä»½"
ç»“æœ: åœ¨æœ¬åœ° /home/user/webapp/backups ç›®å½•åˆ›å»ºå¤‡ä»½æ–‡ä»¶
```

### åœºæ™¯2: è¿œç¨‹å¤‡ä»½ï¼ˆå¡«å†™åœ°å€ï¼‰
```
å‘é€æ–¹: server-01.example.com:/home/user/webapp/data
æ¥æ”¶æ–¹: backup-server.example.com:/mnt/backups

æ“ä½œ: å¡«å†™åœ°å€åç‚¹å‡»"åˆ›å»ºå®Œæ•´å¤‡ä»½"
ç»“æœ: 
  1. åœ¨æœ¬åœ°åˆ›å»ºå¤‡ä»½æ–‡ä»¶
  2. æ—¥å¿—è®°å½•å‘é€æ–¹å’Œæ¥æ”¶æ–¹ä¿¡æ¯
  3. å¯ç”¨äºåç»­è‡ªåŠ¨åŒ–ä¼ è¾“è„šæœ¬è¯†åˆ«
```

### åœºæ™¯3: é‚®ä»¶é€šçŸ¥å¤‡ä»½ï¼ˆå¡«å†™é‚®ç®±ï¼‰
```
å‘é€æ–¹: data-admin@company.com
æ¥æ”¶æ–¹: backup-team@company.com

æ“ä½œ: å¡«å†™é‚®ç®±ååˆ›å»ºå¤‡ä»½
ç»“æœ: å¤‡ä»½å®Œæˆåå¯é€šçŸ¥ç›¸å…³äººå‘˜
```

---

## æ•°æ®æµè½¬

```
ç”¨æˆ·å¡«å†™åœ°å€
    â†“
å‰ç«¯éªŒè¯ï¼ˆæˆå¯¹æ£€æŸ¥ï¼‰
    â†“
å‘é€åˆ°åç«¯API
    â†“
åç«¯è®°å½•æ—¥å¿—
    â†“
ä¼ é€’ç»™å¤‡ä»½è„šæœ¬ï¼ˆ--sender --receiverå‚æ•°ï¼‰
    â†“
å¤‡ä»½è„šæœ¬å¯ä½¿ç”¨åœ°å€ä¿¡æ¯è¿›è¡Œä¼ è¾“
```

---

## æ³¨æ„äº‹é¡¹

1. **åœ°å€æ ¼å¼**: ç³»ç»Ÿä¸å¼ºåˆ¶éªŒè¯åœ°å€æ ¼å¼ï¼Œç”¨æˆ·å¯è‡ªç”±å¡«å†™
2. **å®‰å…¨æ€§**: æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚å¯†ç ï¼‰ä¸åº”åŒ…å«åœ¨åœ°å€ä¸­
3. **æ—¥å¿—è®°å½•**: æ‰€æœ‰å¤‡ä»½æ“ä½œçš„åœ°å€ä¿¡æ¯ä¼šè®°å½•åœ¨æ—¥å¿—ä¸­
4. **æ‰©å±•æ€§**: å¤‡ä»½è„šæœ¬å¯è¯»å–`--sender`å’Œ`--receiver`å‚æ•°è¿›è¡Œè‡ªåŠ¨åŒ–ä¼ è¾“

---

## åç»­å¢å¼ºå»ºè®®

### çŸ­æœŸä¼˜åŒ–
- [ ] æ·»åŠ åœ°å€æ ¼å¼éªŒè¯ï¼ˆé‚®ç®±ã€URLã€è·¯å¾„ï¼‰
- [ ] ä¿å­˜æœ€è¿‘ä½¿ç”¨çš„åœ°å€ï¼ˆLocalStorageï¼‰
- [ ] æ·»åŠ åœ°å€ç°¿åŠŸèƒ½ï¼ˆå¸¸ç”¨åœ°å€å¿«é€Ÿé€‰æ‹©ï¼‰

### ä¸­æœŸä¼˜åŒ–
- [ ] å®ç°è‡ªåŠ¨ä¼ è¾“åŠŸèƒ½ï¼ˆrsyncã€scpã€sftpï¼‰
- [ ] å¤‡ä»½å®Œæˆåè‡ªåŠ¨é€šçŸ¥ï¼ˆé‚®ä»¶ã€Telegramï¼‰
- [ ] å¤‡ä»½å†å²è®°å½•ä¸­æ˜¾ç¤ºåœ°å€ä¿¡æ¯

### é•¿æœŸä¼˜åŒ–
- [ ] é›†æˆäº‘å­˜å‚¨APIï¼ˆAWS S3ã€é˜¿é‡Œäº‘OSSï¼‰
- [ ] å¤šç›®æ ‡å¤‡ä»½ï¼ˆåŒæ—¶å¤‡ä»½åˆ°å¤šä¸ªæ¥æ”¶æ–¹ï¼‰
- [ ] å¤‡ä»½ä¼ è¾“è¿›åº¦ç›‘æ§
- [ ] è‡ªåŠ¨éªŒè¯å¤‡ä»½å®Œæ•´æ€§

---

## æ›´æ–°æ—¥å¿—

**2026-02-16**
- âœ… æ·»åŠ å‘é€æ–¹åœ°å€å’Œæ¥æ”¶æ–¹åœ°å€è¾“å…¥æ¡†
- âœ… å®ç°æˆå¯¹éªŒè¯é€»è¾‘
- âœ… æ›´æ–°APIæ¥æ”¶åœ°å€å‚æ•°
- âœ… åœ¨æ—¥å¿—ä¸­è®°å½•åœ°å€ä¿¡æ¯
- âœ… é€šè¿‡å‘½ä»¤è¡Œå‚æ•°ä¼ é€’åœ°å€åˆ°å¤‡ä»½è„šæœ¬

---

## ç›¸å…³æ–‡ä»¶

- å‰ç«¯é¡µé¢: `templates/data_management.html`
- åç«¯API: `app.py` (line 23317)
- å¤‡ä»½è„šæœ¬: `source_code/data_backup_service.py`
- Git commit: `471dcdc`

---

**æ–‡æ¡£æ›´æ–°æ—¶é—´**: 2026-02-16  
**åŠŸèƒ½çŠ¶æ€**: âœ… å·²ä¸Šçº¿
