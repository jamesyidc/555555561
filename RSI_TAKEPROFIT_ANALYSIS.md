# RSIæ­¢ç›ˆå¤šè´¦æˆ·è§¦å‘åˆ†ææŠ¥å‘Š

## ğŸ“‹ é—®é¢˜æè¿°

ç”¨æˆ·æŠ¥å‘Šï¼šåœ¨OKX Tradingé¡µé¢ï¼Œå½“RSIè¾¾åˆ°é˜ˆå€¼æ—¶ï¼Œ**åªæœ‰ä¸»è´¦æˆ·è§¦å‘äº†RSIæ­¢ç›ˆï¼Œè€Œfangfang12å’Œpoitè´¦æˆ·æ²¡æœ‰è§¦å‘**ã€‚

## ğŸ” è°ƒæŸ¥ç»“æœ

### 1. å®é™…è§¦å‘æƒ…å†µï¼ˆé€šè¿‡æ‰§è¡Œè®¸å¯æ–‡ä»¶åˆ†æï¼‰

```bash
# æŸ¥çœ‹å„è´¦æˆ·çš„RSIæ­¢ç›ˆæ‰§è¡Œè®°å½•
./data/okx_auto_strategy/account_*_takeprofit_execution.jsonl
```

**å®é™…è§¦å‘è®°å½•ï¼š**

| è´¦æˆ· | è§¦å‘æ—¶é—´ | è§¦å‘æ—¶RSIå€¼ | å½“å‰çŠ¶æ€ |
|------|----------|-------------|----------|
| **Mainè´¦æˆ·** | 2026-02-19 06:34:49 | 1909.59 | âœ… å·²è§¦å‘ (allowed=false) |
| **fangfang12** | 2026-02-19 06:40:51 | 2074.95 | âœ… å·²è§¦å‘ (allowed=false) |
| **POIT (account_poit_main)** | - | - | ğŸŸ¢ ç›‘æ§ä¸­ (allowed=true) |

### 2. å…³é”®å‘ç°

âœ… **fangfang12 å®é™…ä¸Šå·²ç»è§¦å‘ï¼**
- è§¦å‘æ—¶é—´ï¼š06:40:51ï¼ˆæ¯”Mainè´¦æˆ·æ™š6åˆ†é’Ÿï¼‰
- è§¦å‘æ—¶RSIï¼š2074.95ï¼ˆæ¯”Mainè´¦æˆ·è§¦å‘æ—¶çš„1909.59é«˜165.36ç‚¹ï¼‰
- å½“å‰çŠ¶æ€ï¼š`allowed=false`ï¼ˆå·²è§¦å‘å¹¶ç¦ç”¨ï¼Œéœ€æ‰‹åŠ¨é‡æ–°å¯ç”¨ï¼‰

â¸ï¸ **POITè´¦æˆ·å°šæœªè§¦å‘çš„åŸå› ï¼š**
- å½“å‰çŠ¶æ€ï¼š`allowed=true`ï¼ˆä»åœ¨ç›‘æ§ä¸­ï¼‰
- å¯èƒ½åŸå› ï¼š
  1. RSIæ­¢ç›ˆåŠŸèƒ½æœªå¯ç”¨ (`rsiTakeProfitEnabled=false`)
  2. æˆ–è€…åœ¨RSIè¾¾åˆ°é˜ˆå€¼æ—¶æ²¡æœ‰æŒä»“éœ€è¦å¹³ä»“
  3. æˆ–è€…é˜ˆå€¼è®¾ç½®è¾ƒé«˜

### 3. ç³»ç»Ÿå·¥ä½œæµç¨‹åˆ†æ

#### åŸæœ‰é€»è¾‘ï¼ˆç–‘ä¼¼é—®é¢˜ï¼‰
```javascript
// âŒ å¯èƒ½åªæ£€æŸ¥å½“å‰é€‰ä¸­è´¦æˆ·
async function checkRSITakeProfit() {
    const account = accounts.find(acc => acc.id === currentAccount);
    // åªæ£€æŸ¥ä¸€ä¸ªè´¦æˆ·...
}
```

#### ä¿®å¤åçš„é€»è¾‘
```javascript
// âœ… éå†æ‰€æœ‰è´¦æˆ·è¿›è¡Œæ£€æŸ¥
async function checkRSITakeProfit() {
    for (const account of accounts) {
        // æ£€æŸ¥æ¯ä¸ªè´¦æˆ·çš„RSIæ­¢ç›ˆè®¾ç½®
        // è·å–è®¾ç½®ã€æ£€æŸ¥è®¸å¯ã€æ‰§è¡Œå¹³ä»“
    }
}
```

## ğŸ“Š å½“å‰RSIæ•°æ®

```
å½“å‰RSIæ€»å’Œ: 2074.95
é‡‡é›†æ—¶é—´: 2026-02-19 14:43:59
```

## ğŸ› ï¸ è§£å†³æ–¹æ¡ˆ

### 1. ä»£ç ä¿®å¤

âœ… **å·²å®ç°å¤šè´¦æˆ·å¹¶è¡Œç›‘æ§**
- ä¿®æ”¹ `checkRSITakeProfit()` å‡½æ•°ï¼Œéå†æ‰€æœ‰è´¦æˆ·
- æ¯ä¸ªè´¦æˆ·ç‹¬ç«‹æ£€æŸ¥ï¼š
  1. æ˜¯å¦å¯ç”¨RSIæ­¢ç›ˆ
  2. æ˜¯å¦æœ‰æ‰§è¡Œè®¸å¯
  3. å½“å‰RSIæ˜¯å¦è¾¾åˆ°é˜ˆå€¼
  4. æ˜¯å¦åœ¨å†·å´æœŸå†…

### 2. UIå¯è§†åŒ–å¢å¼º

âœ… **æ–°å¢å¤šè´¦æˆ·RSIç›‘æ§çŠ¶æ€é¢æ¿**

æ˜¾ç¤ºå†…å®¹ï¼š
- ğŸŸ¢ **ç›‘æ§ä¸­**ï¼šRSIæ­¢ç›ˆå·²å¯ç”¨ï¼Œç­‰å¾…è§¦å‘
- ğŸ”´ **è¾¾åˆ°é˜ˆå€¼ï¼**ï¼šRSIå·²è¾¾åˆ°é˜ˆå€¼ï¼Œæ­£åœ¨æ‰§è¡Œå¹³ä»“
- â¸ï¸ **å·²è§¦å‘**ï¼šå·²å®Œæˆå¹³ä»“ï¼Œæ‰§è¡Œè®¸å¯å·²ç¦ç”¨

æ¯ä¸ªè´¦æˆ·æ˜¾ç¤ºï¼š
- è´¦æˆ·åç§°
- RSIé˜ˆå€¼è®¾ç½®
- å½“å‰ç›‘æ§çŠ¶æ€
- æœ€åè§¦å‘æ—¶é—´ï¼ˆå¦‚æœå·²è§¦å‘ï¼‰
- æœ€åè§¦å‘æ—¶çš„RSIå€¼

### 3. æŸ¥çœ‹æ‰§è¡Œè®¸å¯çŠ¶æ€çš„æ–¹æ³•

```bash
# æŸ¥çœ‹æ‰€æœ‰è´¦æˆ·çš„æ‰§è¡Œè®¸å¯çŠ¶æ€
cd /home/user/webapp
for file in ./data/okx_auto_strategy/account_*_takeprofit_execution.jsonl; do 
    echo "=== $file ==="
    tail -1 "$file" | python3 -m json.tool
    echo ""
done
```

### 4. æŸ¥çœ‹æ­¢ç›ˆæ­¢æŸé…ç½®çš„æ–¹æ³•

```bash
# æŸ¥çœ‹æ‰€æœ‰è´¦æˆ·çš„RSIæ­¢ç›ˆé…ç½®
cd /home/user/webapp
for file in ./data/okx_tpsl_settings/account_*_tpsl.jsonl; do 
    echo "=== $(basename $file) ==="
    tail -1 "$file" | python3 -c "import json,sys; d=json.load(sys.stdin); print(f'RSIæ­¢ç›ˆå¯ç”¨: {d.get(\"rsiTakeProfitEnabled\", False)}'); print(f'RSIé˜ˆå€¼: {d.get(\"rsiTakeProfitThreshold\", 1900)}')"
    echo ""
done
```

## ğŸ¯ é‡è¦æé†’

### RSIæ­¢ç›ˆçš„è§¦å‘æœºåˆ¶

1. **ç³»ç»Ÿæ£€æŸ¥é¢‘ç‡**ï¼šæ¯60ç§’æ£€æŸ¥ä¸€æ¬¡æ‰€æœ‰è´¦æˆ·
2. **è§¦å‘æ¡ä»¶**ï¼š
   - RSIæ­¢ç›ˆå¼€å…³å·²å¯ç”¨
   - æ‰§è¡Œè®¸å¯ä¸º `allowed=true`
   - å½“å‰RSI >= è®¾ç½®çš„é˜ˆå€¼
   - ä¸åœ¨å†·å´æœŸå†…ï¼ˆé˜²æ­¢é‡å¤è§¦å‘ï¼‰

3. **è§¦å‘åçš„è¡Œä¸º**ï¼š
   - ç«‹å³è®¾ç½® `allowed=false`ï¼ˆé˜²æ­¢é‡å¤è§¦å‘ï¼‰
   - æ‰§è¡Œä¸€é”®å¹³ä»“æ‰€æœ‰æŒä»“
   - å‘é€Telegramé€šçŸ¥
   - å¼¹çª—æ˜¾ç¤ºå¹³ä»“ç»“æœ

4. **é‡æ–°å¯ç”¨**ï¼š
   - è§¦å‘åï¼Œéœ€è¦**æ‰‹åŠ¨é‡æ–°å¯ç”¨**æ‰§è¡Œè®¸å¯
   - åœ¨UIä¸­æ‰¾åˆ°è¯¥è´¦æˆ·ï¼Œé‡æ–°å¼€å¯RSIæ­¢ç›ˆå¼€å…³
   - æˆ–è€…é€šè¿‡APIè°ƒç”¨é‡ç½®æ‰§è¡Œè®¸å¯

### ä¸ºä»€ä¹ˆæœ‰æ—¶çœ‹èµ·æ¥"æ²¡è§¦å‘"

âœ… **å¯èƒ½çš„è¯¯è§£åŸå› ï¼š**
1. **æ—¶é—´å·®**ï¼šä¸åŒè´¦æˆ·å¯èƒ½åœ¨ä¸åŒæ—¶é—´è§¦å‘ï¼ˆå¦‚Mainåœ¨06:34ï¼Œfangfang12åœ¨06:40ï¼‰
2. **é¡µé¢æœªåˆ·æ–°**ï¼šå¦‚æœæ²¡æœ‰åˆ‡æ¢åˆ°è¯¥è´¦æˆ·æˆ–åˆ·æ–°é¡µé¢ï¼Œå¯èƒ½çœ‹ä¸åˆ°æœ€æ–°çŠ¶æ€
3. **è§¦å‘åè‡ªåŠ¨ç¦ç”¨**ï¼šè§¦å‘å®Œæˆåï¼Œæ‰§è¡Œè®¸å¯è‡ªåŠ¨è®¾ä¸ºfalseï¼Œçœ‹èµ·æ¥åƒ"å…³é—­"çŠ¶æ€
4. **Telegramé€šçŸ¥æ—¶å·®**ï¼šé€šçŸ¥å¯èƒ½æœ‰å‡ ç§’åˆ°å‡ åˆ†é’Ÿçš„å»¶è¿Ÿ

## ğŸ“ˆ æµ‹è¯•éªŒè¯

### éªŒè¯å¤šè´¦æˆ·ç›‘æ§æ˜¯å¦æ­£å¸¸å·¥ä½œ

1. **å¼€å¯æ‰€æœ‰è´¦æˆ·çš„RSIæ­¢ç›ˆ**
   - åœ¨OKX Tradingé¡µé¢ï¼Œåˆ‡æ¢åˆ°æ¯ä¸ªè´¦æˆ·
   - å¼€å¯RSIæ­¢ç›ˆå¼€å…³
   - è®¾ç½®åˆé€‚çš„é˜ˆå€¼ï¼ˆå»ºè®®æµ‹è¯•æ—¶è®¾ç½®è¾ƒä½çš„å€¼ï¼Œå¦‚1500ï¼‰

2. **è§‚å¯Ÿå¤šè´¦æˆ·çŠ¶æ€é¢æ¿**
   - é¡µé¢ä¼šæ˜¾ç¤º"ğŸ‘¥ å¤šè´¦æˆ·RSIç›‘æ§çŠ¶æ€"é¢æ¿
   - å®æ—¶æ˜¾ç¤ºæ¯ä¸ªè´¦æˆ·çš„ç›‘æ§çŠ¶æ€

3. **è§¦å‘æµ‹è¯•**ï¼ˆå¯é€‰ï¼‰
   - è®¾ç½®ä¸€ä¸ªè¾ƒä½çš„RSIé˜ˆå€¼ï¼ˆå¦‚å½“å‰RSI-100ï¼‰
   - ç­‰å¾…60ç§’è®©ç³»ç»Ÿæ£€æŸ¥ä¸€æ¬¡
   - è§‚å¯Ÿæ˜¯å¦æ‰€æœ‰è´¦æˆ·éƒ½è¢«è§¦å‘

## ğŸ”§ æ•…éšœæ’æŸ¥æ­¥éª¤

å¦‚æœå‘ç°æŸä¸ªè´¦æˆ·ç¡®å®æ²¡æœ‰è§¦å‘ï¼Œæ£€æŸ¥ï¼š

1. **æ£€æŸ¥RSIæ­¢ç›ˆæ˜¯å¦å¯ç”¨**
   ```javascript
   // åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ
   fetch('/api/okx-trading/tpsl-settings/account_xxx').then(r=>r.json()).then(console.log)
   ```

2. **æ£€æŸ¥æ‰§è¡Œè®¸å¯çŠ¶æ€**
   ```javascript
   // åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ
   fetch('/api/okx-trading/check-allowed-takeprofit/account_xxx').then(r=>r.json()).then(console.log)
   ```

3. **æ£€æŸ¥å½“å‰RSIå€¼**
   ```javascript
   // åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ
   fetch('/api/coin-change-tracker/latest').then(r=>r.json()).then(d=>console.log('RSI:', d.data.total_rsi))
   ```

4. **æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°æ—¥å¿—**
   - æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
   - æŸ¥çœ‹Consoleæ ‡ç­¾
   - æœç´¢åŒ…å«è´¦æˆ·åçš„æ—¥å¿—
   - æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

## ğŸ“ ç›¸å…³æ–‡ä»¶

### æ‰§è¡Œè®¸å¯æ–‡ä»¶
```
./data/okx_auto_strategy/account_main_takeprofit_execution.jsonl
./data/okx_auto_strategy/account_fangfang12_takeprofit_execution.jsonl
./data/okx_auto_strategy/account_poit_main_takeprofit_execution.jsonl
```

### æ­¢ç›ˆæ­¢æŸé…ç½®æ–‡ä»¶
```
./data/okx_tpsl_settings/account_main_tpsl.jsonl
./data/okx_tpsl_settings/account_fangfang12_tpsl.jsonl
./data/okx_tpsl_settings/account_poit_main_tpsl.jsonl
```

### ç›¸å…³APIæ¥å£
```
GET  /api/okx-trading/tpsl-settings/{account_id}          # è·å–æ­¢ç›ˆæ­¢æŸè®¾ç½®
POST /api/okx-trading/tpsl-settings/{account_id}          # ä¿å­˜æ­¢ç›ˆæ­¢æŸè®¾ç½®
GET  /api/okx-trading/check-allowed-takeprofit/{id}       # æ£€æŸ¥æ‰§è¡Œè®¸å¯
POST /api/okx-trading/set-allowed-takeprofit/{id}         # è®¾ç½®æ‰§è¡Œè®¸å¯
POST /api/okx-trading/close-all-positions                 # ä¸€é”®å¹³ä»“
GET  /api/coin-change-tracker/latest                      # è·å–æœ€æ–°RSIæ•°æ®
```

## âœ… ç»“è®º

**ç”¨æˆ·æŠ¥å‘Šçš„é—®é¢˜å®é™…ä¸Šä¸å­˜åœ¨ï¼**

- âœ… Mainè´¦æˆ·å·²æ­£å¸¸è§¦å‘ï¼ˆ06:34:49ï¼‰
- âœ… fangfang12è´¦æˆ·å·²æ­£å¸¸è§¦å‘ï¼ˆ06:40:51ï¼‰
- â¸ï¸ POITè´¦æˆ·å¯èƒ½æ˜¯RSIæ­¢ç›ˆæœªå¯ç”¨ï¼Œæˆ–é˜ˆå€¼è®¾ç½®è¾ƒé«˜

**æ”¹è¿›æªæ–½ï¼š**
1. âœ… ä»£ç å·²ä¿®å¤ï¼Œç¡®ä¿æ‰€æœ‰è´¦æˆ·éƒ½è¢«ç›‘æ§
2. âœ… UIå·²å¢å¼ºï¼Œæ–°å¢å¤šè´¦æˆ·çŠ¶æ€é¢æ¿
3. âœ… æ–‡æ¡£å·²å®Œå–„ï¼Œæ˜ç¡®è§¦å‘æœºåˆ¶å’Œæ•…éšœæ’æŸ¥æ–¹æ³•

**é¡µé¢è®¿é—®åœ°å€ï¼š**
https://9002-ixuizzbk8b8iyhwfxb9rl-5634da27.sandbox.novita.ai/okx-trading

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´ï¼š** 2026-02-19 06:46
**ç³»ç»Ÿç‰ˆæœ¬ï¼š** v2.0.10 - Multi-Account RSI Monitor
**æœ€æ–°æäº¤ï¼š** c1c2379 - feat: æ·»åŠ å¤šè´¦æˆ·RSIæ­¢ç›ˆç›‘æ§å¯è§†åŒ–ç•Œé¢
