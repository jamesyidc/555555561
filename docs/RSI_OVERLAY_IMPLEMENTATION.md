# RSIä¹‹å’Œå åŠ æ˜¾ç¤ºå®ç°æ–‡æ¡£

## ğŸ“Š åŠŸèƒ½æ¦‚è¿°

åœ¨27å¸æ¶¨è·Œå¹…è¿½è¸ªç³»ç»Ÿçš„è¶‹åŠ¿å›¾ä¸Šå åŠ æ˜¾ç¤ºRSIä¹‹å’Œæ›²çº¿ï¼Œä½¿ç”¨åŒYè½´è®¾è®¡ï¼Œå·¦ä¾§æ˜¾ç¤ºæ¶¨è·Œå¹…ç™¾åˆ†æ¯”ï¼Œå³ä¾§æ˜¾ç¤ºRSIä¹‹å’Œï¼ˆ0-2700èŒƒå›´ï¼‰ã€‚

## ğŸ¨ è§†è§‰è®¾è®¡

### åŒYè½´é…ç½®

**å·¦ä¾§Yè½´ï¼ˆæ¶¨è·Œå¹…ï¼‰**
- é¢œè‰²ï¼šè“è‰² `#3B82F6`
- å•ä½ï¼šç™¾åˆ†æ¯” `%`
- æ˜¾ç¤ºï¼šä»·æ ¼æ¶¨è·Œå¹…å˜åŒ–æ›²çº¿

**å³ä¾§Yè½´ï¼ˆRSIä¹‹å’Œï¼‰**
- é¢œè‰²ï¼šç´«è‰² `#9333EA`
- èŒƒå›´ï¼š0 - 2700
- åˆ»åº¦é—´éš”ï¼š270
- è¯´æ˜ï¼š27ä¸ªå¸ç§çš„RSI(14)ä¹‹å’Œ

### RSIæ›²çº¿æ ·å¼

```javascript
{
    name: 'RSIä¹‹å’Œ',
    type: 'line',
    yAxisIndex: 1,  // ä½¿ç”¨å³ä¾§Yè½´
    smooth: true,
    lineStyle: {
        width: 2,
        type: 'dashed',  // è™šçº¿
        color: '#9333EA'  // æµ…ç´«è‰²
    },
    symbol: 'circle',
    symbolSize: 4
}
```

### RSIå‚è€ƒçº¿

ä½¿ç”¨ `markLine` é…ç½®ä¸‰æ¡å‚è€ƒçº¿ï¼š

| å‚è€ƒçº¿ | Yå€¼ | å¹³å‡RSI | å«ä¹‰ | é¢œè‰² |
|--------|-----|---------|------|------|
| è¶…ä¹°çº¿ | 1890 | 70 | å¸‚åœºè¿‡çƒ­ï¼Œå¯èƒ½å›è°ƒ | çº¢è‰² `#EF4444` |
| ä¸­æ€§çº¿ | 1350 | 50 | å¸‚åœºå¹³è¡¡çŠ¶æ€ | ç°è‰² `#6B7280` |
| è¶…å–çº¿ | 810 | 30 | å¸‚åœºè¶…å–ï¼Œå¯èƒ½åå¼¹ | ç»¿è‰² `#10B981` |

**è®¡ç®—å…¬å¼**ï¼š
- è¶…ä¹°çº¿ï¼š27 Ã— 70 = 1890
- ä¸­æ€§çº¿ï¼š27 Ã— 50 = 1350
- è¶…å–çº¿ï¼š27 Ã— 30 = 810

## ğŸ’¾ æ•°æ®å­˜å‚¨

### RSIæ•°æ®æ–‡ä»¶æ ¼å¼

```jsonl
{
    "timestamp": 1771396250056,
    "beijing_time": "2026-02-18 14:30:30",
    "rsi_values": {
        "BTC-USDT-SWAP": 46.33,
        "ETH-USDT-SWAP": 57.12,
        ...ï¼ˆå…¶ä»–25ä¸ªå¸ç§ï¼‰
    },
    "total_rsi": 1289.88,
    "count": 27
}
```

### æ–‡ä»¶è·¯å¾„

```
data/coin_change_tracker/rsi_YYYYMMDD.jsonl
```

ä¾‹å¦‚ï¼š
- `rsi_20260218.jsonl` - 2026å¹´2æœˆ18æ—¥çš„RSIæ•°æ®
- `rsi_20260217.jsonl` - 2026å¹´2æœˆ17æ—¥çš„RSIæ•°æ®

### é‡‡é›†é¢‘ç‡

- **RSIé‡‡é›†**ï¼šæ¯5åˆ†é’Ÿä¸€æ¬¡ï¼ˆ5åˆ†é’ŸKçº¿æ•°æ®ï¼‰
- **ä»·æ ¼é‡‡é›†**ï¼šæ¯1åˆ†é’Ÿä¸€æ¬¡
- **æ•°æ®æ—¶æ•ˆ**ï¼šRSIæ•°æ®é—´éš”æ›´å¤§ï¼Œä½†æ›´èƒ½åæ˜ å¸‚åœºè¶‹åŠ¿

## ğŸ”Œ APIæ¥å£

### RSIå†å²æ•°æ®æ¥å£

```
GET /api/coin-change-tracker/rsi-history
```

**å‚æ•°**ï¼š
- `date` (å¯é€‰): æ—¥æœŸï¼Œæ ¼å¼ `YYYYMMDD` æˆ– `YYYY-MM-DD`ï¼Œé»˜è®¤ä»Šå¤©
- `limit` (å¯é€‰): è¿”å›æœ€è¿‘Næ¡è®°å½•ï¼Œé»˜è®¤1440ï¼ˆä¸€å¤©çš„5åˆ†é’Ÿæ•°æ®çº¦288æ¡ï¼‰

**è¿”å›ç¤ºä¾‹**ï¼š
```json
{
    "success": true,
    "date": "20260218",
    "count": 2,
    "data": [
        {
            "timestamp": 1771396250056,
            "beijing_time": "2026-02-18 14:30:30",
            "rsi_values": {...},
            "total_rsi": 1289.88,
            "count": 27
        }
    ]
}
```

## ğŸ“ˆ å‰ç«¯å®ç°

### å›¾è¡¨åˆå§‹åŒ–

åœ¨ `initCharts()` ä¸­é…ç½®åŒYè½´ï¼š

```javascript
yAxis: [
    {
        type: 'value',
        name: 'æ¶¨è·Œå¹…(%)',
        position: 'left',
        axisLabel: { formatter: '{value}%' },
        axisLine: { lineStyle: { color: '#3B82F6' } }
    },
    {
        type: 'value',
        name: 'RSIä¹‹å’Œ',
        position: 'right',
        min: 0,
        max: 2700,
        interval: 270,
        axisLine: { lineStyle: { color: '#9333EA' } },
        splitLine: { show: false }
    }
]
```

### æ•°æ®åŠ è½½

åœ¨ `updateHistoryData()` ä¸­å¹¶è¡ŒåŠ è½½ä»·æ ¼å’ŒRSIæ•°æ®ï¼š

```javascript
// åŠ è½½ä»·æ ¼å˜åŒ–æ•°æ®
const response = await fetch('/api/coin-change-tracker/history?limit=1440');
const historyData = await response.json();

// åŠ è½½RSIæ•°æ®
const rsiResponse = await fetch('/api/coin-change-tracker/rsi-history?limit=1440');
const rsiData = await rsiResponse.json();

// æ›´æ–°å›¾è¡¨
trendChart.setOption({
    xAxis: { data: times },
    series: [
        { name: '27å¸æ¶¨è·Œå¹…ä¹‹å’Œ', data: changes, yAxisIndex: 0 },
        { name: 'RSIä¹‹å’Œ', data: rsiValues, yAxisIndex: 1 }
    ]
});
```

### Tooltipé…ç½®

æ˜¾ç¤ºä»·æ ¼å˜åŒ–å’ŒRSIæ•°æ®ï¼š

```javascript
tooltip: {
    trigger: 'axis',
    formatter: function(params) {
        // ä»·æ ¼å˜åŒ–ç³»åˆ—
        const changeParam = params.find(p => p.seriesName === '27å¸æ¶¨è·Œå¹…ä¹‹å’Œ');
        
        // RSIç³»åˆ—
        const rsiParam = params.find(p => p.seriesName === 'RSIä¹‹å’Œ');
        if (rsiParam) {
            const avgRsi = (rsiParam.value / 27).toFixed(2);
            let status = rsiParam.value >= 1890 ? 'è¶…ä¹°' : 
                        rsiParam.value <= 810 ? 'è¶…å–' : 'ä¸­æ€§';
        }
    }
}
```

## ğŸ”§ åç«¯é‡‡é›†å™¨

### RSIè®¡ç®—é€»è¾‘

æ–‡ä»¶ï¼š`source_code/coin_change_tracker_collector.py`

```python
def calculate_rsi(prices, period=14):
    """è®¡ç®—RSIæŒ‡æ ‡"""
    if len(prices) < period + 1:
        return None
    
    deltas = np.diff(prices)
    gains = np.where(deltas > 0, deltas, 0)
    losses = np.where(deltas < 0, -deltas, 0)
    
    avg_gain = np.mean(gains[-period:])
    avg_loss = np.mean(losses[-period:])
    
    if avg_loss == 0:
        return 100.0
    
    rs = avg_gain / avg_loss
    rsi = 100 - (100 / (1 + rs))
    return rsi

def get_5min_candles(symbol, limit=15):
    """è·å–5åˆ†é’ŸKçº¿æ•°æ®ï¼ˆéœ€è¦15æ ¹Kçº¿è®¡ç®—RSI14ï¼‰"""
    url = f"https://www.okx.com/api/v5/market/candles"
    params = {
        'instId': symbol,
        'bar': '5m',
        'limit': limit
    }
    # è¿”å›æ”¶ç›˜ä»·åˆ—è¡¨
```

### RSIæ•°æ®é‡‡é›†

```python
# æ¯5åˆ†é’Ÿé‡‡é›†ä¸€æ¬¡
if (current_time - last_rsi_collection).total_seconds() >= 300:
    rsi_values = get_all_rsi_values()
    total_rsi = sum(rsi_values.values())
    
    # ä¿å­˜åˆ°å•ç‹¬çš„RSIæ–‡ä»¶
    save_rsi_to_jsonl({
        'timestamp': timestamp,
        'beijing_time': beijing_time,
        'rsi_values': rsi_values,
        'total_rsi': total_rsi,
        'count': len(rsi_values)
    })
```

### æ•°æ®å®Œæ•´æ€§æ£€æŸ¥

```python
# ç¡®ä¿è‡³å°‘20ä¸ªå¸ç§æœ‰RSIæ•°æ®
if len(rsi_values) < 20:
    print(f'[è­¦å‘Š] RSIæ•°æ®ä¸å®Œæ•´ï¼Œä»…è·å–åˆ° {len(rsi_values)}/27 ä¸ªå¸ç§')
    continue
```

## ğŸ“Š æ•°æ®è§£è¯»

### RSIä¹‹å’ŒèŒƒå›´

| RSIä¹‹å’Œ | å¹³å‡RSI | å¸‚åœºçŠ¶æ€ | æ“ä½œå»ºè®® |
|---------|---------|----------|----------|
| > 1890 | > 70 | ä¸¥é‡è¶…ä¹° | è€ƒè™‘å‡ä»“æˆ–è§‚æœ› |
| 1620-1890 | 60-70 | è½»åº¦è¶…ä¹° | è°¨æ…åŠ ä»“ |
| 1350-1620 | 50-60 | åå¼ºåŠ¿ | æ­£å¸¸æŒä»“ |
| 1080-1350 | 40-50 | åå¼±åŠ¿ | æ­£å¸¸æŒä»“ |
| 810-1080 | 30-40 | è½»åº¦è¶…å– | å¯è€ƒè™‘åŠ ä»“ |
| < 810 | < 30 | ä¸¥é‡è¶…å– | ç§¯æå¯»æ‰¾æœºä¼š |

### å¸‚åœºçŠ¶æ€åˆ¤æ–­

**è¶…ä¹°ä¿¡å·ï¼ˆRSIä¹‹å’Œ > 1890ï¼‰**ï¼š
- 27ä¸ªå¸ç§å¹³å‡RSIè¶…è¿‡70
- å¸‚åœºæƒ…ç»ªè¿‡çƒ­
- çŸ­æœŸå¯èƒ½é¢ä¸´å›è°ƒå‹åŠ›
- é€‚åˆæ­¢ç›ˆæˆ–å‡ä»“

**ä¸­æ€§åŒºé—´ï¼ˆ810 < RSIä¹‹å’Œ < 1890ï¼‰**ï¼š
- å¸‚åœºå¤„äºæ­£å¸¸æ³¢åŠ¨èŒƒå›´
- å¯æ ¹æ®ä¸ªè‚¡æƒ…å†µæ“ä½œ
- å…³æ³¨è¶‹åŠ¿å»¶ç»­æ€§

**è¶…å–ä¿¡å·ï¼ˆRSIä¹‹å’Œ < 810ï¼‰**ï¼š
- 27ä¸ªå¸ç§å¹³å‡RSIä½äº30
- å¸‚åœºæƒ…ç»ªæåº¦æ‚²è§‚
- çŸ­æœŸå¯èƒ½å‡ºç°æŠ€æœ¯æ€§åå¼¹
- é€‚åˆåˆ†æ‰¹å»ºä»“

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. å¸‚åœºçƒ­åº¦ç›‘æ§

é€šè¿‡RSIä¹‹å’Œå¿«é€Ÿåˆ¤æ–­æ•´ä½“å¸‚åœºçƒ­åº¦ï¼š
- RSIæ›²çº¿ä¸Šå‡ â†’ å¸‚åœºçƒ­åº¦å‡æ¸©
- RSIæ›²çº¿ä¸‹é™ â†’ å¸‚åœºçƒ­åº¦é™æ¸©
- RSIåœ¨é«˜ä½å¾˜å¾Š â†’ è­¦æƒ•å›è°ƒé£é™©
- RSIåœ¨ä½ä½ç›˜æ•´ â†’ å…³æ³¨åå¼¹æœºä¼š

### 2. è¶…ä¹°è¶…å–åˆ¤æ–­

ç»“åˆä»·æ ¼æ¶¨è·Œå¹…å’ŒRSIä¹‹å’Œï¼š
- **ä»·æ ¼å¤§æ¶¨ + RSIè¶…ä¹°** â†’ å¼ºçƒˆå–å‡ºä¿¡å·
- **ä»·æ ¼å¤§è·Œ + RSIè¶…å–** â†’ å¼ºçƒˆä¹°å…¥ä¿¡å·
- **ä»·æ ¼ä¸Šæ¶¨ + RSIæœªè¶…ä¹°** â†’ ä¸Šæ¶¨ç©ºé—´å……è¶³
- **ä»·æ ¼ä¸‹è·Œ + RSIæœªè¶…å–** â†’ ä¸‹è·Œç©ºé—´ä»å­˜åœ¨

### 3. èƒŒç¦»ä¿¡å·

- **é¡¶èƒŒç¦»**ï¼šä»·æ ¼åˆ›æ–°é«˜ï¼ŒRSIæœªåˆ›æ–°é«˜ â†’ çœ‹è·Œä¿¡å·
- **åº•èƒŒç¦»**ï¼šä»·æ ¼åˆ›æ–°ä½ï¼ŒRSIæœªåˆ›æ–°ä½ â†’ çœ‹æ¶¨ä¿¡å·

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°æ®å»¶è¿Ÿ**ï¼šRSIé‡‡é›†å‘¨æœŸä¸º5åˆ†é’Ÿï¼Œå­˜åœ¨æ•°æ®å»¶è¿Ÿ
2. **æ•°æ®å®Œæ•´æ€§**ï¼šä¸ªåˆ«å¸ç§å¯èƒ½è·å–å¤±è´¥ï¼ˆå¦‚MATICï¼‰ï¼Œä¸å½±å“æ•´ä½“åˆ¤æ–­
3. **å‚è€ƒçº¿è°ƒæ•´**ï¼šå¯æ ¹æ®å®é™…å¸‚åœºæƒ…å†µè°ƒæ•´è¶…ä¹°/è¶…å–å‚è€ƒçº¿ä½ç½®
4. **ç»¼åˆåˆ¤æ–­**ï¼šå»ºè®®ç»“åˆä»·æ ¼èµ°åŠ¿ã€ä¸Šæ¶¨å æ¯”ç­‰å¤šä¸ªæŒ‡æ ‡ç»¼åˆåˆ†æ
5. **æ—¶é—´å‘¨æœŸ**ï¼šRSIåŸºäº5åˆ†é’ŸKçº¿ï¼Œé€‚åˆçŸ­æœŸè¶‹åŠ¿åˆ¤æ–­ï¼Œä¸é€‚åˆæ—¥çº¿çº§åˆ«åˆ†æ

## ğŸš€ ä¼˜åŒ–å»ºè®®

### 1. è‡ªé€‚åº”å‚è€ƒçº¿

æ ¹æ®å†å²æ•°æ®åŠ¨æ€è°ƒæ•´è¶…ä¹°/è¶…å–çº¿ï¼š
```python
# è®¡ç®—è¿‘30å¤©RSIä¹‹å’Œçš„ç»Ÿè®¡æ•°æ®
mean_rsi = np.mean(rsi_history)
std_rsi = np.std(rsi_history)
overbought = mean_rsi + 1.5 * std_rsi
oversold = mean_rsi - 1.5 * std_rsi
```

### 2. RSIåˆ†ç»„å±•ç¤º

æŒ‰æ¿å—åˆ†ç±»æ˜¾ç¤ºRSIï¼š
- **ä¸»æµå¸RSI**ï¼šBTCã€ETHã€BNBç­‰
- **DeFiæ¿å—RSI**ï¼šUNIã€AAVEã€CRVç­‰
- **Layer1 RSI**ï¼šSOLã€DOTã€NEARç­‰

### 3. RSIé€Ÿç‡æŒ‡æ ‡

æ·»åŠ RSIå˜åŒ–é€Ÿç‡ï¼š
```python
rsi_change_rate = (current_rsi - previous_rsi) / 5  # æ¯åˆ†é’Ÿå˜åŒ–ç‡
```

### 4. å¤šå‘¨æœŸRSI

æä¾›15åˆ†é’Ÿã€30åˆ†é’Ÿã€1å°æ—¶RSIé€‰é¡¹ï¼Œæ»¡è¶³ä¸åŒäº¤æ˜“å‘¨æœŸéœ€æ±‚ã€‚

## ğŸ“ æ›´æ–°æ—¥å¿—

### 2026-02-18
- âœ… å®ç°RSIä¹‹å’Œå åŠ æ˜¾ç¤º
- âœ… é…ç½®åŒYè½´ï¼ˆæ¶¨è·Œå¹…+RSIï¼‰
- âœ… æ·»åŠ è¶…ä¹°/ä¸­æ€§/è¶…å–å‚è€ƒçº¿
- âœ… RSIæ•°æ®å•ç‹¬å­˜å‚¨ä¸ºJSONLæ ¼å¼
- âœ… æ¯5åˆ†é’Ÿé‡‡é›†ä¸€æ¬¡RSIæ•°æ®
- âœ… ç¡®ä¿27ä¸ªå¸ç§RSIæ•°æ®å®Œæ•´æ€§

### æœªæ¥è§„åˆ’
- [ ] æ·»åŠ RSIåˆ†ç»„å±•ç¤º
- [ ] å®ç°è‡ªé€‚åº”å‚è€ƒçº¿
- [ ] å¢åŠ å¤šå‘¨æœŸRSIé€‰é¡¹
- [ ] æ·»åŠ RSIé€Ÿç‡æŒ‡æ ‡
- [ ] æä¾›RSIå†å²å¯¹æ¯”åŠŸèƒ½

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [RSIå•ç‹¬å­˜å‚¨å®ç°è¿›åº¦](./RSI_SEPARATE_STORAGE_PROGRESS.md)
- [RSIå›¾è¡¨å®ç°æ–‡æ¡£](./RSI_CHART_IMPLEMENTATION.md)
- [27å¸æ¶¨è·Œå¹…è¿½è¸ªç³»ç»Ÿè¯´æ˜](../README.md)

---

**æœ€åæ›´æ–°**ï¼š2026-02-18  
**ç»´æŠ¤è€…**ï¼šGenSpark AI Developer
