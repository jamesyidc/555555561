# æ•°æ®æ—¶é—´ç‚¹å¯¹é½å®ŒæˆæŠ¥å‘Š

**å®Œæˆæ—¶é—´**: 2026-01-17 21:35:00  
**ç‰ˆæœ¬**: v4.0

---

## ğŸ¯ ä»»åŠ¡ç›®æ ‡

å°†ä»¥ä¸‹ä¸¤ä¸ªæ•°æ®æºçš„æ—¶é—´ç‚¹å¯¹é½ï¼š
1. **Coin Price Tracker** - 27å¸æ¶¨è·Œå¹…è¿½è¸ªï¼ˆæ¯30åˆ†é’Ÿï¼‰
2. **Escape Signal History** - é€ƒé¡¶ä¿¡å·ç»Ÿè®¡ï¼ˆæ¯åˆ†é’Ÿï¼‰

---

## ğŸ“Š æ•°æ®æºå¯¹æ¯”

### åŸå§‹æ•°æ®ç‰¹å¾

| æ•°æ®æº | æ—¶é—´é—´éš” | æ—¶é—´æ ¼å¼ | æœ€æ–°æ—¶é—´ | è®°å½•æ•° |
|--------|----------|----------|----------|--------|
| Coin Price Tracker | 30åˆ†é’Ÿ | `YYYY-MM-DD HH:MM:00` | 2026-01-17 21:00:00 | 715æ¡ |
| Escape Signal | 1åˆ†é’Ÿ | `YYYY-MM-DD HH:MM:SS` | 2026-01-17 19:09:01 | ~12,700æ¡ |

### æ—¶é—´ç‚¹ç¤ºä¾‹

**Coin Price Tracker**:
- 19:00:00
- 19:30:00
- 20:00:00

**Escape Signal**:
- 19:05:01
- 19:06:01
- 19:07:01
- ...

---

## ğŸ”§ å¯¹é½æ–¹æ¡ˆ

### æ–¹æ¡ˆé€‰æ‹©

é‡‡ç”¨ **èšåˆæ–¹æ¡ˆ**ï¼šå°†Escape Signalçš„æ¯åˆ†é’Ÿæ•°æ®èšåˆä¸º30åˆ†é’Ÿï¼Œä¸Coin Price Trackerå¯¹é½

### èšåˆè§„åˆ™

å¯¹äºæ¯ä¸ª30åˆ†é’Ÿæ—¶é—´æ®µï¼š
1. **æ—¶é—´å¯¹é½**: æ‰€æœ‰åˆ†é’Ÿæ•°æ®å‘ä¸‹å¯¹é½åˆ°æœ€è¿‘çš„00æˆ–30åˆ†
   - 19:05:01 â†’ 19:00:00
   - 19:25:30 â†’ 19:00:00
   - 19:35:10 â†’ 19:30:00

2. **æ•°æ®èšåˆ**:
   - `signal_24h_count_avg`: 30åˆ†é’Ÿå†…24hä¿¡å·æ•°çš„å¹³å‡å€¼
   - `signal_24h_count_max`: 30åˆ†é’Ÿå†…24hä¿¡å·æ•°çš„æœ€å¤§å€¼
   - `signal_24h_count_min`: 30åˆ†é’Ÿå†…24hä¿¡å·æ•°çš„æœ€å°å€¼
   - `signal_2h_count_avg`: 30åˆ†é’Ÿå†…2hä¿¡å·æ•°çš„å¹³å‡å€¼
   - `decline_level_avg`: ä¸‹è·Œå¼ºåº¦ç­‰çº§å¹³å‡å€¼
   - `rise_level_avg`: ä¸Šæ¶¨å¼ºåº¦ç­‰çº§å¹³å‡å€¼
   - `sample_count`: æ ·æœ¬æ•°é‡ï¼ˆè¯¥30åˆ†é’Ÿå†…æœ‰å¤šå°‘æ¡åŸå§‹æ•°æ®ï¼‰

---

## ğŸ“ˆ å¯¹é½ç»“æœ

### ç»Ÿè®¡æ•°æ®

```
æ€»è®°å½•æ•°: 1,077æ¡
å®Œå…¨å¯¹é½: 594æ¡ (55.2%)
ä»…å¸ä»·æ•°æ®: 121æ¡
ä»…ä¿¡å·æ•°æ®: 362æ¡
```

### æ—¶é—´èŒƒå›´

- **æœ€æ—©æ—¶é—´**: çº¦2026-01-05
- **æœ€æ–°æ—¶é—´**: 2026-01-17 21:00:00

### å¯¹é½è´¨é‡

| æ—¶é—´æ®µ | å¯¹é½ç‡ | è¯´æ˜ |
|--------|--------|------|
| 1æœˆ3æ—¥-1æœˆ9æ—¥ | ~45% | Escape Signalæ•°æ®è¾ƒå°‘ |
| 1æœˆ10æ—¥-1æœˆ16æ—¥ | ~85% | æ•°æ®è¾ƒå®Œæ•´ |
| 1æœˆ17æ—¥ | ~35% | Escape Signalä»…åˆ°19:09 |

---

## ğŸ› ï¸ å®ç°æ–‡ä»¶

### 1. å¯¹é½è„šæœ¬
**æ–‡ä»¶**: `/home/user/webapp/align_data_sources.py`

**åŠŸèƒ½**:
- è¯»å–ä¸¤ä¸ªæ•°æ®æº
- æŒ‰30åˆ†é’ŸèšåˆEscape Signalæ•°æ®
- åˆå¹¶å¹¶ä¿å­˜å¯¹é½åçš„æ•°æ®

**ä½¿ç”¨**:
```bash
cd /home/user/webapp
python3 align_data_sources.py
```

**è¾“å‡º**: `/home/user/webapp/data/aligned_data_30min.jsonl`

### 2. APIç«¯ç‚¹
**è·¯ç”±**: `/api/aligned-data/history`

**å‚æ•°**:
- `start_time`: å¼€å§‹æ—¶é—´ï¼ˆå¯é€‰ï¼‰
- `end_time`: ç»“æŸæ—¶é—´ï¼ˆå¯é€‰ï¼‰
- `limit`: è¿”å›æœ€æ–°Næ¡ï¼ˆå¯é€‰ï¼‰

**è¿”å›æ ¼å¼**:
```json
{
  "success": true,
  "count": 1077,
  "data": [{
    "time": "2026-01-17 21:00:00",
    "timestamp": 1768683600,
    "coin_tracker": {
      "total_change": 83.0347,
      "average_change": 3.0754,
      "valid_coins": 27,
      "base_date": "2026-01-17"
    },
    "escape_signal": {
      "signal_24h_count_avg": 126.5,
      "signal_2h_count_avg": 10.2,
      "sample_count": 30
    },
    "has_coin_data": true,
    "has_escape_data": true,
    "is_aligned": true
  }]
}
```

### 3. å¯è§†åŒ–é¡µé¢
**è·¯ç”±**: `/aligned-data-view`  
**æ¨¡æ¿**: `/home/user/webapp/source_code/templates/aligned_data_view.html`

**åŠŸèƒ½**:
- åŒè½´å›¾è¡¨ï¼š27å¸æ¶¨è·Œå¹… vs 24å°æ—¶é€ƒé¡¶ä¿¡å·
- åŒè½´å›¾è¡¨ï¼š27å¸æ¶¨è·Œå¹… vs 2å°æ—¶é€ƒé¡¶ä¿¡å·
- æ•£ç‚¹å›¾ï¼šç›¸å…³æ€§åˆ†æ
- ç»Ÿè®¡ä¿¡æ¯å±•ç¤º

---

## ğŸš€ è®¿é—®æ–¹å¼

### ä¸»é¡µé¢
**URL**: https://5000-i4rq388xy9v1hw2uaz7ln-8f57ffe2.sandbox.novita.ai/aligned-data-view

### APIæµ‹è¯•
```bash
# è·å–æ‰€æœ‰æ•°æ®
curl "http://localhost:5000/api/aligned-data/history"

# è·å–æœ€æ–°10æ¡
curl "http://localhost:5000/api/aligned-data/history?limit=10"

# æŒ‰æ—¶é—´èŒƒå›´æŸ¥è¯¢
curl "http://localhost:5000/api/aligned-data/history?start_time=2026-01-17%2000:00:00&end_time=2026-01-17%2023:59:59"
```

---

## ğŸ“Š å¯è§†åŒ–åŠŸèƒ½

### å›¾è¡¨1: 27å¸æ¶¨è·Œå¹… vs 24å°æ—¶ä¿¡å·
- **å·¦Yè½´**: 27å¸æ¶¨è·Œå¹…æ€»å’Œï¼ˆ%ï¼‰
- **å³Yè½´**: 24å°æ—¶é€ƒé¡¶ä¿¡å·æ•°
- **ç›®çš„**: è§‚å¯Ÿå¸ä»·æ¶¨è·Œä¸é•¿æœŸä¿¡å·çš„å…³ç³»

### å›¾è¡¨2: 27å¸æ¶¨è·Œå¹… vs 2å°æ—¶ä¿¡å·
- **å·¦Yè½´**: 27å¸æ¶¨è·Œå¹…æ€»å’Œï¼ˆ%ï¼‰
- **å³Yè½´**: 2å°æ—¶é€ƒé¡¶ä¿¡å·æ•°
- **ç›®çš„**: è§‚å¯Ÿå¸ä»·æ¶¨è·Œä¸çŸ­æœŸä¿¡å·çš„å…³ç³»

### å›¾è¡¨3: ç›¸å…³æ€§æ•£ç‚¹å›¾
- **Xè½´**: 27å¸æ¶¨è·Œå¹…æ€»å’Œï¼ˆ%ï¼‰
- **Yè½´**: 24å°æ—¶é€ƒé¡¶ä¿¡å·æ•°
- **ç›®çš„**: åˆ†æä¸¤ä¸ªæŒ‡æ ‡çš„ç›¸å…³æ€§

---

## ğŸ”„ æ•°æ®æ›´æ–°æµç¨‹

### æ‰‹åŠ¨æ›´æ–°
```bash
# 1. ç¡®ä¿ä¸¤ä¸ªæ•°æ®æºéƒ½æ˜¯æœ€æ–°çš„
cd /home/user/webapp

# 2. é‡æ–°å¯¹é½æ•°æ®
python3 align_data_sources.py

# 3. é‡å¯Flaskï¼ˆå¦‚æœéœ€è¦ï¼‰
pm2 restart flask-app
```

### è‡ªåŠ¨åŒ–å»ºè®®
å¯ä»¥è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œæ¯å°æ—¶è¿è¡Œä¸€æ¬¡å¯¹é½è„šæœ¬ï¼š
```bash
# æ·»åŠ åˆ°crontab
0 * * * * cd /home/user/webapp && python3 align_data_sources.py
```

---

## ğŸ“ æ•°æ®å­—æ®µè¯´æ˜

### Coin Trackerå­—æ®µ
- `total_change`: 27å¸æ¶¨è·Œå¹…æ€»å’Œï¼ˆ%ï¼‰
- `average_change`: å¹³å‡æ¶¨è·Œå¹…ï¼ˆ%ï¼‰
- `valid_coins`: æœ‰æ•ˆå¸ç§æ•°
- `base_date`: åŸºå‡†æ—¥æœŸ

### Escape Signalå­—æ®µ
- `signal_24h_count_avg`: 24å°æ—¶ä¿¡å·æ•°å¹³å‡å€¼
- `signal_24h_count_max`: 24å°æ—¶ä¿¡å·æ•°æœ€å¤§å€¼
- `signal_24h_count_min`: 24å°æ—¶ä¿¡å·æ•°æœ€å°å€¼
- `signal_2h_count_avg`: 2å°æ—¶ä¿¡å·æ•°å¹³å‡å€¼
- `signal_2h_count_max`: 2å°æ—¶ä¿¡å·æ•°æœ€å¤§å€¼
- `signal_2h_count_min`: 2å°æ—¶ä¿¡å·æ•°æœ€å°å€¼
- `decline_level_avg`: ä¸‹è·Œå¼ºåº¦å¹³å‡å€¼
- `rise_level_avg`: ä¸Šæ¶¨å¼ºåº¦å¹³å‡å€¼
- `sample_count`: æ ·æœ¬æ•°é‡

---

## âœ… å¯¹é½å®ŒæˆçŠ¶æ€

**å¯¹é½è„šæœ¬**: âœ… å®Œæˆ  
**æ•°æ®æ–‡ä»¶**: âœ… ç”Ÿæˆï¼ˆ1077æ¡è®°å½•ï¼‰  
**APIç«¯ç‚¹**: âœ… éƒ¨ç½²å®Œæˆ  
**å¯è§†åŒ–é¡µé¢**: âœ… åˆ›å»ºå®Œæˆ  
**Flaské‡å¯**: âœ… å·²é‡å¯  

---

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

1. **æ•°æ®è´¨é‡ç›‘æ§**: å®šæœŸæ£€æŸ¥å¯¹é½ç‡ï¼Œç¡®ä¿æ•°æ®è´¨é‡
2. **è‡ªåŠ¨åŒ–æ›´æ–°**: è®¾ç½®å®šæ—¶ä»»åŠ¡è‡ªåŠ¨å¯¹é½æ•°æ®
3. **è¡¥å…¨å†å²æ•°æ®**: å¯¹äºescape signalç¼ºå¤±çš„æ—¶é—´æ®µï¼Œè€ƒè™‘è¡¥å…¨
4. **ç›¸å…³æ€§åˆ†æ**: ä½¿ç”¨ç»Ÿè®¡æ–¹æ³•è®¡ç®—å¸ä»·ä¸ä¿¡å·çš„ç›¸å…³ç³»æ•°

---

**å®Œæˆæ—¶é—´**: 2026-01-17 21:35:00  
**çŠ¶æ€**: âœ… å¯¹é½å®Œæˆï¼Œç³»ç»Ÿæ­£å¸¸è¿è¡Œ
