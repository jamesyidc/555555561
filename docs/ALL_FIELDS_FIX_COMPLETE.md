# æ‰€æœ‰å­—æ®µæ˜¾ç¤ºé—®é¢˜ä¿®å¤å®Œæˆ

## ğŸ¯ ä¿®å¤çš„é—®é¢˜

### 1. âœ… æ¶¨é€Ÿ/æ¶¨è·Œåˆ—åæ··æ·†ï¼ˆå·²ä¿®å¤ï¼‰
- **é—®é¢˜**ï¼šåˆ—åä¸º"æ¶¨è·Œ"ï¼Œä½†æ˜¾ç¤ºçš„æ˜¯speedå­—æ®µ
- **ä¿®å¤**ï¼šåˆ—åæ”¹ä¸º"æ¶¨é€Ÿ"ï¼Œæ˜¾ç¤ºcoin.speedå­—æ®µ
- **Commit**: 1dd9ab1

### 2. âœ… æœ€é«˜å æ¯”/æœ€ä½å æ¯”æ˜¾ç¤ºN/Aï¼ˆå·²ä¿®å¤ï¼‰
- **é—®é¢˜**ï¼šå‰ç«¯ä½¿ç”¨ratio1/ratio2ï¼ŒAPIè¿”å›max_ratio/min_ratio
- **ä¿®å¤**ï¼šå‰ç«¯æ”¹ç”¨max_ratio/min_ratioï¼Œæ·»åŠ ç™¾åˆ†å·æ ¼å¼åŒ–
- **Commit**: e8ec0e1

## ğŸ“Š å®Œæ•´çš„å­—æ®µæ˜ å°„ï¼ˆå…¨éƒ¨æ­£ç¡®ï¼‰

| åˆ—å | å‰ç«¯å­—æ®µ | APIå­—æ®µ | æ•°æ®ç±»å‹ | ç¤ºä¾‹å€¼ |
|-----|---------|---------|---------|--------|
| ä¼˜å…ˆçº§ | coin.priority | priority | int | 1-6 |
| åºå· | idx + 1 | - | int | 1, 2, 3 |
| å¸å | coin.symbol | symbol | string | BTC, ETH |
| **æ¶¨é€Ÿ** | **coin.speed** | **speed** | **float** | **-0.28, 1.1** âœ… |
| æ€¥æ¶¨ | coin.rush_up | rush_up | int | 0, 1, 2 |
| æ€¥è·Œ | coin.rush_down | rush_down | int | 0, 1, 2 |
| æ›´æ–°æ—¶é—´ | coin.update_time | update_time | string | 2026-01-15 14:19:25 |
| å†å²é«˜ç‚¹ | coin.high_price | high_price | float | 91.33 |
| é«˜ç‚¹æ—¶é—´ | coin.high_time | high_time | string | 2021-05-10 |
| è·Œå¹… | coin.decline | drop_from_high | float | -81.95 |
| 24h% | coin.change_24h | change_24h | float | -0.44 |
| æ’è¡Œ | coin.rank | ranking | int | 1-30 |
| å½“å‰ä»·æ ¼ | coin.current_price | current_price | float | 413.20 |
| **æœ€é«˜å æ¯”** | **coin.max_ratio** | **max_ratio** | **float** | **91.33%** âœ… |
| **æœ€ä½å æ¯”** | **coin.min_ratio** | **min_ratio** | **float** | **133.33%** âœ… |

## ğŸ” å­—æ®µè¯¦ç»†è¯´æ˜

### æ¶¨é€Ÿ (speed)
- **å«ä¹‰**ï¼šä»·æ ¼å˜åŒ–é€Ÿåº¦
- **èŒƒå›´**ï¼š-1.0 åˆ° 1.0
- **æ ¼å¼**ï¼šä¿ç•™2ä½å°æ•°
- **ç¤ºä¾‹**ï¼š-0.28, 1.1, 0.04

### æœ€é«˜å æ¯” (max_ratio)
- **å«ä¹‰**ï¼šå½“å‰ä»·æ ¼å å†å²æœ€é«˜ä»·çš„ç™¾åˆ†æ¯”
- **èŒƒå›´**ï¼š0% åˆ° 100%+
- **æ ¼å¼**ï¼šä¿ç•™2ä½å°æ•° + '%'
- **ç¤ºä¾‹**ï¼š91.33%, 75.51%

### æœ€ä½å æ¯” (min_ratio)
- **å«ä¹‰**ï¼šå½“å‰ä»·æ ¼ç›¸å¯¹äºæŸä¸ªåŸºå‡†çš„æ¯”ç‡
- **èŒƒå›´**ï¼š0% åˆ° âˆ
- **æ ¼å¼**ï¼šä¿ç•™2ä½å°æ•° + '%'
- **ç¤ºä¾‹**ï¼š133.33%, 116.36%

## ğŸ“ ä¿®å¤å†å²

### Commit 1dd9ab1 - ä¿®æ­£æ¶¨é€Ÿåˆ—
```
- åˆ—åï¼šæ¶¨è·Œ â†’ æ¶¨é€Ÿ
- å­—æ®µï¼šcoin.change â†’ coin.speed
- æ ·å¼ï¼šchangeClass â†’ speedClass
```

### Commit e8ec0e1 - ä¿®å¤å æ¯”åˆ—
```
- æœ€é«˜å æ¯”ï¼šcoin.ratio1 â†’ coin.max_ratio
- æœ€ä½å æ¯”ï¼šcoin.ratio2 â†’ coin.min_ratio
- æ·»åŠ æ ¼å¼åŒ–ï¼š.toFixed(2) + '%'
```

## âœ… éªŒè¯ç»“æœ

### APIè¿”å›ï¼ˆç¤ºä¾‹ï¼‰
```json
{
  "symbol": "BCH",
  "speed": -0.28,
  "rush_up": 1,
  "rush_down": 1,
  "change_24h": -0.44,
  "max_ratio": 91.33,
  "min_ratio": 133.33,
  "current_price": 413.20
}
```

### å‰ç«¯æ˜¾ç¤ºï¼ˆç¤ºä¾‹ï¼‰
```
å¸å: BCH
æ¶¨é€Ÿ: -0.28
æ€¥æ¶¨: 1
æ€¥è·Œ: 1
24h%: -0.44
æœ€é«˜å æ¯”: 91.33%
æœ€ä½å æ¯”: 133.33%
```

## ğŸš€ è®¿é—®åœ°å€

- **æœ¬åœ°**: http://localhost:5000/query
- **å…¬ç½‘**: https://5000-igsydcyqs9jlcot56rnqk-8f57ffe2.sandbox.novita.ai/query

**åˆ·æ–°é¡µé¢ï¼ˆCtrl+F5ï¼‰å³å¯çœ‹åˆ°æ‰€æœ‰ä¿®å¤ï¼**

## ğŸ“‹ å®Œæ•´çš„æ•°æ®æµ

```
TXTæ–‡ä»¶
  â†“
txt_parser_enhanced.py (è§£æå™¨)
  â†“ parts[2]=speed, parts[3]=rush_up, parts[4]=rush_down
æ•°æ®åº“ (crypto_snapshots.jsonl)
  â†“ speed, rush_up, rush_down, max_ratio, min_ratio
API (/api/latest)
  â†“ coin.speed, coin.rush_up, coin.rush_down, coin.max_ratio, coin.min_ratio
å‰ç«¯ (/query)
  â†“ æ¶¨é€Ÿåˆ—, æ€¥æ¶¨åˆ—, æ€¥è·Œåˆ—, æœ€é«˜å æ¯”åˆ—, æœ€ä½å æ¯”åˆ—
ç”¨æˆ·ç•Œé¢
  âœ… æ‰€æœ‰å­—æ®µæ­£ç¡®æ˜¾ç¤ºï¼
```

## ğŸ‰ æ€»ç»“

**æ‰€æœ‰å­—æ®µæ˜ å°„é—®é¢˜å·²å®Œå…¨ä¿®å¤ï¼**

- âœ… æ¶¨é€Ÿåˆ—ï¼šæ­£ç¡®æ˜¾ç¤ºspeedå­—æ®µ
- âœ… æ€¥æ¶¨åˆ—ï¼šæ­£ç¡®æ˜¾ç¤ºrush_upå­—æ®µ
- âœ… æ€¥è·Œåˆ—ï¼šæ­£ç¡®æ˜¾ç¤ºrush_downå­—æ®µ
- âœ… 24h%åˆ—ï¼šæ­£ç¡®æ˜¾ç¤ºchange_24hå­—æ®µ
- âœ… æœ€é«˜å æ¯”åˆ—ï¼šæ­£ç¡®æ˜¾ç¤ºmax_ratioå­—æ®µï¼ˆå¸¦%ï¼‰
- âœ… æœ€ä½å æ¯”åˆ—ï¼šæ­£ç¡®æ˜¾ç¤ºmin_ratioå­—æ®µï¼ˆå¸¦%ï¼‰

**å­—æ®µåç§°ã€æ•°æ®å†…å®¹ã€æ˜¾ç¤ºæ ¼å¼å…¨éƒ¨åŒ¹é…ï¼**

---

**æœ€ç»ˆä¿®å¤æ—¶é—´**ï¼š2026-01-15 14:30  
**æœ€ç»ˆç‰ˆæœ¬**ï¼šV5.5.3  
**çŠ¶æ€**ï¼šâœ… å®Œå…¨ä¿®å¤
