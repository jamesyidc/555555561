# Google Drive TXTç›‘æŽ§ä¿®å¤æˆåŠŸæŠ¥å‘Š

## ðŸ“… æ—¥æœŸ
2026-02-03 17:58:00

## âœ… é—®é¢˜è§£å†³

### é—®é¢˜æè¿°
- Google Driveç›‘æŽ§é…ç½®è¿‡æœŸï¼ˆåœç•™åœ¨2026-02-01ï¼‰
- æ— æ³•ä»Žçˆ·çˆ·æ–‡ä»¶å¤¹å®šä½åˆ°"é¦–é¡µæ•°æ®"åŠå½“å¤©æ—¥æœŸçš„å­æ–‡ä»¶å¤¹
- TXTæ–‡ä»¶ç›‘æŽ§åœæ­¢å·¥ä½œ
- embeddedfolderview APIéƒ¨åˆ†å¤±æ•ˆ

### è§£å†³æ–¹æ¡ˆ
ç”¨æˆ·æä¾›äº†çˆ·çˆ·æ–‡ä»¶å¤¹çš„å…±äº«é“¾æŽ¥ï¼Œé€šè¿‡ä»¥ä¸‹æ­¥éª¤æˆåŠŸä¿®å¤ï¼š

## ðŸ” æ–‡ä»¶å¤¹ç»“æž„å®šä½

### çˆ·çˆ·æ–‡ä»¶å¤¹
- **é“¾æŽ¥**: https://drive.google.com/drive/folders/1U5VjRis2FYnBJvtR_8mmPrmFcJCMPGrH?usp=sharing
- **ID**: `1U5VjRis2FYnBJvtR_8mmPrmFcJCMPGrH`

### "æ•°æ®"æ–‡ä»¶å¤¹ï¼ˆçˆ¶æ–‡ä»¶å¤¹ï¼‰
- **ID**: `1bu5x679TXDi__eJ2BDLk9-oa6FkkT2ax`
- **ä½ç½®**: çˆ·çˆ·æ–‡ä»¶å¤¹ â†’ æ•°æ®

### ä»Šå¤©çš„æ–‡ä»¶å¤¹ï¼ˆ2026-02-03ï¼‰
- **ID**: `1a-n_sNxzUQj3dV59w74NbKAmyLhISl3I`
- **ä½ç½®**: çˆ·çˆ·æ–‡ä»¶å¤¹ â†’ æ•°æ® â†’ 2026-02-03
- **TXTæ–‡ä»¶æ•°**: 35ä¸ª

### æ–‡ä»¶å¤¹æ ‘çŠ¶å›¾
```
çˆ·çˆ·æ–‡ä»¶å¤¹ (1U5VjRis2FYnBJvtR_8mmPrmFcJCMPGrH)
â””â”€â”€ æ•°æ® (1bu5x679TXDi__eJ2BDLk9-oa6FkkT2ax)
    â”œâ”€â”€ 2025-10-21
    â”œâ”€â”€ 2025-10-22
    â”œâ”€â”€ ...
    â”œâ”€â”€ 2026-02-01
    â”œâ”€â”€ 2026-02-02
    â””â”€â”€ 2026-02-03 (1a-n_sNxzUQj3dV59w74NbKAmyLhISl3I) âœ…
        â”œâ”€â”€ AAVE.txt
        â”œâ”€â”€ ADA.txt
        â”œâ”€â”€ APT.txt
        â”œâ”€â”€ APT_åˆ›æ–°ä½Ž.txt
        â”œâ”€â”€ BCH.txt
        â”œâ”€â”€ BNB.txt
        â”œâ”€â”€ BTC.txt
        â”œâ”€â”€ CFX.txt
        â”œâ”€â”€ CFX_åˆ›æ–°ä½Ž.txt
        â”œâ”€â”€ CRO.txt
        â”œâ”€â”€ CRV.txt
        â”œâ”€â”€ DAI.txt
        â”œâ”€â”€ DOGE.txt
        â”œâ”€â”€ DOT.txt
        â”œâ”€â”€ ETC.txt
        â”œâ”€â”€ ETH.txt
        â”œâ”€â”€ FIL.txt
        â”œâ”€â”€ HBAR.txt
        â”œâ”€â”€ LDO.txt
        â”œâ”€â”€ LINK.txt
        â”œâ”€â”€ LTC.txt
        â”œâ”€â”€ NEAR.txt
        â”œâ”€â”€ OKB.txt
        â”œâ”€â”€ SOL.txt
        â”œâ”€â”€ SOL_åˆ›æ–°ä½Ž.txt
        â”œâ”€â”€ STX.txt
        â”œâ”€â”€ SUI.txt
        â”œâ”€â”€ TAO.txt
        â”œâ”€â”€ TON.txt
        â”œâ”€â”€ TRX.txt
        â”œâ”€â”€ UNI.txt
        â”œâ”€â”€ XLM.txt
        â”œâ”€â”€ XRP.txt
        â”œâ”€â”€ è®¡æ¬¡.txt
        â””â”€â”€ è¶‹åŠ¿.txt (æœ€æ–°) â­
```

## ðŸ“ é…ç½®æ›´æ–°

### daily_folder_config.json
```json
{
  "root_folder_odd": "1bu5x679TXDi__eJ2BDLk9-oa6FkkT2ax",
  "root_folder_even": "1bu5x679TXDi__eJ2BDLk9-oa6FkkT2ax",
  "current_date": "2026-02-03",
  "data_date": "2026-02-03",
  "folder_id": "1a-n_sNxzUQj3dV59w74NbKAmyLhISl3I",
  "folder_name": "2026-02-03",
  "parent_folder_id": "1bu5x679TXDi__eJ2BDLk9-oa6FkkT2ax",
  "parent_folder_url": "https://drive.google.com/drive/folders/1bu5x679TXDi__eJ2BDLk9-oa6FkkT2ax",
  "folder_url": "https://drive.google.com/drive/folders/1a-n_sNxzUQj3dV59w74NbKAmyLhISl3I",
  "latest_txt": "è¶‹åŠ¿.txt",
  "latest_txt_id": "1p5BCnhbchtNlV5vuVMjUuye7Pi9GaRbV",
  "latest_txt_url": "https://drive.google.com/file/d/1p5BCnhbchtNlV5vuVMjUuye7Pi9GaRbV/view?usp=drive_web",
  "txt_count": 35,
  "txt_files": ["AAVE.txt", "ADA.txt", ..., "è¶‹åŠ¿.txt"],
  "last_update": "2026-02-03 17:56:06",
  "update_reason": "è‡ªåŠ¨æ›´æ–° - èŽ·å–TXTæ–‡ä»¶åˆ—è¡¨",
  "updated_at": "2026-02-03 17:55:34",
  "last_manual_update": "2026-02-03 17:55:34",
  "auto_updated": true,
  "auto_update_time": "2026-02-03 17:55:34",
  "is_odd_day": true
}
```

### é…ç½®æ›´æ–°åŽ†å²
1. **17:55:34** - ä»Žçˆ·çˆ·æ–‡ä»¶å¤¹å®šä½åˆ°2026-02-03æ–‡ä»¶å¤¹
2. **17:56:06** - èŽ·å–TXTæ–‡ä»¶åˆ—è¡¨ï¼ˆ35ä¸ªæ–‡ä»¶ï¼‰

## ðŸ”§ ä»£ç ä¿®æ”¹

### 1. åˆ›å»ºè‡ªåŠ¨æ›´æ–°è„šæœ¬
- **æ–‡ä»¶**: `/home/user/webapp/source_code/update_gdrive_from_grandparent_v2.py`
- **åŠŸèƒ½**: 
  - ä»Žçˆ·çˆ·æ–‡ä»¶å¤¹å¼€å§‹å¯¼èˆª
  - å®šä½"æ•°æ®"æ–‡ä»¶å¤¹
  - æŸ¥æ‰¾ä»Šå¤©æ—¥æœŸçš„å­æ–‡ä»¶å¤¹
  - æå–TXTæ–‡ä»¶åˆ—è¡¨

### 2. ä¿®æ”¹APIè¿”å›žé€»è¾‘
- **æ–‡ä»¶**: `/home/user/webapp/source_code/app_new.py`
- **API**: `/api/gdrive-detector/txt-files`
- **ä¿®æ”¹å†…å®¹**:
  - ä¼˜å…ˆä»Žé…ç½®æ–‡ä»¶è¯»å–TXTæ–‡ä»¶åˆ—è¡¨
  - æ”¯æŒä»»æ„æ ¼å¼çš„TXTæ–‡ä»¶åï¼ˆä¸ä»…é™äºŽæ—¥æœŸæ ¼å¼ï¼‰
  - å®žçŽ°5åˆ†é’Ÿç¼“å­˜æœºåˆ¶

### ä»£ç å¯¹æ¯”
**ä¿®æ”¹å‰**ï¼ˆä»…æ”¯æŒæ—¥æœŸæ ¼å¼ï¼‰:
```python
# æŸ¥æ‰¾ä»Šå¤©æ‰€æœ‰çš„TXTæ–‡ä»¶
pattern = rf'>{today}_(\d{{4}})\.txt<'
matches = re.findall(pattern, content)

# æŽ’åºï¼ˆä»Žæ–°åˆ°æ—§ï¼‰
times_sorted = sorted(matches, reverse=True)
filenames = [f"{today}_{time}.txt" for time in times_sorted]
```

**ä¿®æ”¹åŽ**ï¼ˆæ”¯æŒä»»æ„æ ¼å¼ï¼‰:
```python
# ä¼˜å…ˆä»Žé…ç½®æ–‡ä»¶è¯»å–TXTæ–‡ä»¶åˆ—è¡¨
txt_files = []
try:
    config_file = '/home/user/webapp/daily_folder_config.json'
    with open(config_file, 'r', encoding='utf-8') as f:
        config = json.load(f)
        if config.get('current_date') == today and 'txt_files' in config:
            txt_files = config.get('txt_files', [])
except:
    pass

# å¦‚æžœé…ç½®ä¸­æ²¡æœ‰ï¼Œå°è¯•ä»ŽembeddedfolderviewèŽ·å–
if not txt_files:
    url = f"https://drive.google.com/embeddedfolderview?id={folder_id}"
    response = requests.get(url, timeout=10)
    content = response.text
    
    # æŸ¥æ‰¾æ‰€æœ‰TXTæ–‡ä»¶ï¼ˆæ”¯æŒä»»æ„æ ¼å¼ï¼‰
    pattern = r'>([^<]+\.txt)<'
    matches = re.findall(pattern, content)
    txt_files = sorted(set(matches))  # åŽ»é‡å¹¶æŽ’åº
```

## âœ… éªŒè¯ç»“æžœ

### APIæµ‹è¯•ç»“æžœ

#### 1. é…ç½®API
```bash
curl https://5000-iehbqwjte74vmohs308jg-d0b9e1e2.sandbox.novita.ai/api/gdrive-detector/config
```

**ç»“æžœ**: âœ… æˆåŠŸ
- å½“å‰æ—¥æœŸ: 2026-02-03 âœ…
- æ–‡ä»¶å¤¹ID: 1a-n_sNxzUQj3dV59w74NbKAmyLhISl3I âœ…
- TXTæ–‡ä»¶æ•°: 35 âœ…
- æœ€æ–°æ–‡ä»¶: è¶‹åŠ¿.txt âœ…

#### 2. TXTæ–‡ä»¶åˆ—è¡¨API
```bash
curl https://5000-iehbqwjte74vmohs308jg-d0b9e1e2.sandbox.novita.ai/api/gdrive-detector/txt-files
```

**ç»“æžœ**: âœ… æˆåŠŸ
- æ–‡ä»¶æ•°é‡: 35ä¸ª âœ…
- æ–‡ä»¶åˆ—è¡¨: å®Œæ•´çš„35ä¸ªTXTæ–‡ä»¶ âœ…

#### 3. è¶‹åŠ¿.txtæ–‡ä»¶å†…å®¹æµ‹è¯•
```bash
curl "https://drive.google.com/uc?id=1p5BCnhbchtNlV5vuVMjUuye7Pi9GaRbV&export=download"
```

**ç»“æžœ**: âœ… æˆåŠŸ
- çŠ¶æ€ç : 200 âœ…
- æ–‡ä»¶å¤§å°: 1282 bytes âœ…
- å†…å®¹é¢„è§ˆ: æ­£å¸¸çš„æ—¶é—´åºåˆ—æ•°æ® âœ…

### ç›‘æŽ§é¡µé¢
- **URL**: https://5000-iehbqwjte74vmohs308jg-d0b9e1e2.sandbox.novita.ai/gdrive-detector
- **çŠ¶æ€**: âœ… æ­£å¸¸è¿è¡Œ
- **è‡ªåŠ¨åˆ·æ–°**: 1åˆ†é’Ÿ âœ…
- **æ•°æ®æ˜¾ç¤º**: å®Œæ•´ âœ…

## ðŸ“Š ä¿®å¤å‰åŽå¯¹æ¯”

| é¡¹ç›® | ä¿®å¤å‰ | ä¿®å¤åŽ |
|------|--------|--------|
| é…ç½®æ—¥æœŸ | 2026-02-01 âŒ | 2026-02-03 âœ… |
| æ–‡ä»¶å¤¹ID | 1y802svJMIfSG7qcNGs7xO7nNp0uyUTK0 (æ—§) | 1a-n_sNxzUQj3dV59w74NbKAmyLhISl3I (æ–°) |
| TXTæ–‡ä»¶æ•° | 0 âŒ | 35 âœ… |
| æœ€æ–°æ–‡ä»¶ | null âŒ | è¶‹åŠ¿.txt âœ… |
| APIå“åº” | ç©ºæ•°ç»„ âŒ | å®Œæ•´åˆ—è¡¨ âœ… |
| ç›‘æŽ§çŠ¶æ€ | åœæ­¢ âŒ | æ­£å¸¸ âœ… |

## ðŸŽ¯ æŠ€æœ¯è¦ç‚¹

### 1. embeddedfolderview API
- **ç”¨é€”**: èŽ·å–æ–‡ä»¶å¤¹å†…å®¹åˆ—è¡¨
- **ä¼˜ç‚¹**: æ— éœ€æŽˆæƒï¼Œä½¿ç”¨ç®€å•
- **é™åˆ¶**: HTMLè§£æžï¼Œéœ€è¦æ­£åˆ™è¡¨è¾¾å¼
- **ç¨³å®šæ€§**: âš ï¸ å¯èƒ½ä¼šå˜åŒ–ï¼Œéœ€è¦é€‚é…

### 2. æ–‡ä»¶å¤¹å¯¼èˆªç­–ç•¥
```python
# ä¸‰å±‚ç»“æž„å¯¼èˆª
çˆ·çˆ·æ–‡ä»¶å¤¹ â†’ æ•°æ®æ–‡ä»¶å¤¹ â†’ æ—¥æœŸæ–‡ä»¶å¤¹
```

### 3. ç¼“å­˜æœºåˆ¶
- **ç¼“å­˜æ—¶é—´**: 5åˆ†é’Ÿ
- **ç¼“å­˜æ–‡ä»¶**: `/tmp/gdrive_txt_files_cache.json`
- **ä½œç”¨**: å‡å°‘APIè°ƒç”¨ï¼Œæå‡å“åº”é€Ÿåº¦

### 4. é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§
1. é…ç½®æ–‡ä»¶ (`daily_folder_config.json`)
2. embeddedfolderview APIï¼ˆå¤‡ç”¨ï¼‰

## ðŸ”„ åŽç»­ç»´æŠ¤

### æ¯æ—¥è‡ªåŠ¨æ›´æ–°
éœ€è¦åˆ›å»ºå®šæ—¶ä»»åŠ¡æ¥è‡ªåŠ¨æ›´æ–°é…ç½®åˆ°æ–°çš„æ—¥æœŸæ–‡ä»¶å¤¹ï¼š

```bash
# å»ºè®®æ·»åŠ åˆ°crontab
0 0 * * * cd /home/user/webapp && python3 source_code/update_gdrive_from_grandparent_v2.py
```

### ç›‘æŽ§å»ºè®®
1. **æ¯æ—¥æ£€æŸ¥**: ç¡®è®¤é…ç½®æ—¥æœŸæ˜¯å¦æ›´æ–°
2. **æ–‡ä»¶æ•°é‡**: TXTæ–‡ä»¶æ•°åº”è¯¥å¤§äºŽ0
3. **APIå“åº”**: å®šæœŸæµ‹è¯•APIæ˜¯å¦æ­£å¸¸
4. **æ—¥å¿—ç›‘æŽ§**: æŸ¥çœ‹æ›´æ–°æ—¥å¿—

## ðŸ“ ç›¸å…³æ–‡ä»¶

### é…ç½®æ–‡ä»¶
- `/home/user/webapp/daily_folder_config.json` - ä¸»é…ç½®æ–‡ä»¶

### æ›´æ–°è„šæœ¬
- `/home/user/webapp/source_code/update_gdrive_from_grandparent_v2.py` - è‡ªåŠ¨æ›´æ–°è„šæœ¬
- `/home/user/webapp/source_code/quick_update_gdrive.py` - å¿«é€Ÿæ›´æ–°å·¥å…·
- `/home/user/webapp/source_code/manual_update_gdrive_today.py` - æ‰‹åŠ¨æ›´æ–°å·¥å…·

### åŽç«¯API
- `/home/user/webapp/source_code/app_new.py` - Flaskåº”ç”¨ï¼ˆå·²ä¿®æ”¹ï¼‰

### æ–‡æ¡£
- `/home/user/webapp/GDRIVE_MANUAL_UPDATE_GUIDE.md` - æ‰‹åŠ¨æ›´æ–°æŒ‡å—
- `/home/user/webapp/GDRIVE_DETECTOR_FIX_SUCCESS.md` - æœ¬æ–‡æ¡£

## ðŸŽ‰ ä¿®å¤å®Œæˆ

**ä¿®å¤çŠ¶æ€**: âœ… å®Œå…¨æˆåŠŸ

**ä¿®å¤æ—¶é—´**: 2026-02-03 17:55:34 - 17:58:00 (çº¦3åˆ†é’Ÿ)

**æµ‹è¯•ç»“æžœ**: 
- [x] é…ç½®æ–‡ä»¶æ›´æ–°æˆåŠŸ
- [x] TXTæ–‡ä»¶åˆ—è¡¨èŽ·å–æˆåŠŸ
- [x] APIè¿”å›žæ­£ç¡®æ•°æ®
- [x] ç›‘æŽ§é¡µé¢æ­£å¸¸è¿è¡Œ
- [x] æ–‡ä»¶å†…å®¹å¯æ­£å¸¸è¯»å–

## ðŸ™ æ„Ÿè°¢

æ„Ÿè°¢ç”¨æˆ·æä¾›çˆ·çˆ·æ–‡ä»¶å¤¹çš„å…±äº«é“¾æŽ¥ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿå¿«é€Ÿå®šä½å’Œä¿®å¤é—®é¢˜ï¼

---

**ç”Ÿæˆæ—¶é—´**: 2026-02-03 17:58:00  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**ä¿®å¤çŠ¶æ€**: å®Œæˆ âœ…
