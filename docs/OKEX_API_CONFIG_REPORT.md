# OKEx APIé…ç½®å®ŒæˆæŠ¥å‘Š

**é…ç½®æ—¥æœŸ**: 2026-01-05  
**é…ç½®æ—¶é—´**: 05:25 UTC

## âœ… é…ç½®å®ŒæˆçŠ¶æ€

### ğŸ”‘ APIå‡­è¯é…ç½®
- **API Key**: 0b05a729-40eb-4809-b3eb-eb2de75b7e9e
- **Secret Key**: 4E4DA8BE3B18D01AA07185A006BF9F8E  
- **Passphrase**: Tencent@123
- **è´¦æˆ·ç±»å‹**: ä¸»è´¦æˆ·
- **äº¤æ˜“æ¨¡å¼**: å®ç›˜ (SIMULATED = False)

### ğŸ“ é…ç½®æ–‡ä»¶
1. `/home/user/webapp/source_code/okex_api_config.py` - APIå¯†é’¥é…ç½® âœ…
2. `/home/user/webapp/source_code/anchor_config.json` - é”šç‚¹ç³»ç»Ÿé…ç½® âœ…

### ğŸ”§ ä¿®å¤å†…å®¹
1. âœ… ä¿®å¤ç©ºå­—ç¬¦ä¸²è½¬floaté”™è¯¯ (marginå­—æ®µ)
2. âœ… ä¿®å¤æ•°æ®åº“è·¯å¾„ (databases/å­ç›®å½•)
3. âœ… åˆ›å»ºanchor_config.jsoné…ç½®æ–‡ä»¶
4. âœ… é…ç½®trade_modeä¸º"real"

## ğŸ“Š APIæµ‹è¯•ç»“æœ

### ç›´æ¥APIæµ‹è¯•
```bash
python3 æµ‹è¯•: âœ… æˆåŠŸ
è·å–ä»“ä½æ•°: 30ä¸ª
å“åº”æ—¶é—´: <1ç§’
```

### Web APIæµ‹è¯•  
```
URL: /api/anchor-system/current-positions?trade_mode=real
çŠ¶æ€: âœ… æˆåŠŸ
è¿”å›æ•°æ®: 30ä¸ªå®æ—¶ä»“ä½
æ•°æ®æ¥æº: OKEx API (å®æ—¶)
```

### å®æ—¶ä»“ä½ç¤ºä¾‹ (å‰5ä¸ª)
| # | å¸ç§ | æ–¹å‘ | æ•°é‡ | å¼€ä»“ä»· | æ”¶ç›Šç‡ | é”šç‚¹ |
|---|------|------|------|--------|--------|------|
| 1 | STX-USDT | short | 1.0 | 0.2673 | -91.14% | âœ… |
| 2 | NEAR-USDT | short | 0.5 | 1.7845 | +15.40% | âŒ |
| 3 | AAVE-USDT | short | 0.6 | 164.60 | +5.65% | âŒ |
| 4 | DOGE-USDT | short | 0.06 | 0.1522 | +9.31% | âŒ |
| 5 | TON-USDT | short | 4.0 | 1.6836 | +6.47% | âœ… |

## ğŸ¯ åŠŸèƒ½å¯¹æ¯”

### ä¿®å¤å‰
- âŒ å®ç›˜æ¨¡å¼è¯»å–æ•°æ®åº“ï¼ˆé™æ€æ•°æ®ï¼‰
- âŒ æ— æ³•è·å–å®æ—¶å¸‚åœºä»·æ ¼
- âŒ ä»“ä½æ•°æ®ä¸æ›´æ–°

### ä¿®å¤å  
- âœ… å®ç›˜æ¨¡å¼è°ƒç”¨OKEx APIï¼ˆå®æ—¶æ•°æ®ï¼‰
- âœ… å®æ—¶å¸‚åœºä»·æ ¼å’Œç›ˆäº
- âœ… 30ä¸ªä»“ä½å®æ—¶ç›‘æ§
- âœ… é”šç‚¹å•æ ‡è®°ä¿ç•™ï¼ˆæ•°æ®åº“+APIç»“åˆï¼‰
- âœ… ç»´æŠ¤ä»·æ ¼æ”¯æŒï¼ˆä»æ•°æ®åº“è¯»å–ï¼‰

## ğŸ”„ æ•°æ®æµç¨‹

### æ¨¡æ‹Ÿç›˜ (trade_mode=paper)
```
æ•°æ®åº“ (trading_decision.db)
  â†“
position_opensè¡¨
  â†“
APIè¿”å›
```

### å®ç›˜ (trade_mode=real)
```
OKEx API
  â†“
å®æ—¶æŒä»“æ•°æ® (30ä¸ªä»“ä½)
  â†“
åˆå¹¶æ•°æ®åº“æ ‡è®° (é”šç‚¹å•ã€ç»´æŠ¤ä»·æ ¼)
  â†“
APIè¿”å›
```

## ğŸŒ è®¿é—®åœ°å€

**å®ç›˜é”šç‚¹ç³»ç»Ÿé¡µé¢**:
```
https://5000-igsydcyqs9jlcot56rnqk-8f57ffe2.sandbox.novita.ai/anchor-system-real
```

## ğŸ’¡ ä½¿ç”¨è¯´æ˜

### åˆ‡æ¢äº¤æ˜“æ¨¡å¼
åœ¨URLä¸­æ·»åŠ å‚æ•°ï¼š
- æ¨¡æ‹Ÿç›˜: `?trade_mode=paper`
- å®ç›˜: `?trade_mode=real`

### APIè°ƒç”¨ç¤ºä¾‹
```bash
# è·å–å®ç›˜ä»“ä½
curl "http://localhost:5000/api/anchor-system/current-positions?trade_mode=real"

# è·å–æ¨¡æ‹Ÿç›˜ä»“ä½  
curl "http://localhost:5000/api/anchor-system/current-positions?trade_mode=paper"
```

## ğŸ“ é…ç½®æ–‡ä»¶å†…å®¹

### anchor_config.json
```json
{
  "monitor": {
    "trade_mode": "real",
    "profit_target": 40.0,
    "loss_limit": -10.0
  },
  "database": {
    "path": "/home/user/webapp/databases/anchor_system.db"
  }
}
```

## âœ… éªŒè¯æ¸…å•

- [x] APIå‡­è¯é…ç½®æ­£ç¡®
- [x] OKEx APIè¿æ¥æˆåŠŸ
- [x] å®æ—¶è·å–30ä¸ªä»“ä½
- [x] é”šç‚¹å•æ ‡è®°ä¿ç•™
- [x] ç»´æŠ¤ä»·æ ¼è®¡ç®—æ­£ç¡®
- [x] æ”¶ç›Šç‡å®æ—¶è®¡ç®—
- [x] Webç•Œé¢æ˜¾ç¤ºæ­£å¸¸
- [x] æ¨¡æ‹Ÿç›˜/å®ç›˜åˆ‡æ¢æ­£å¸¸

## ğŸŠ é…ç½®å®Œæˆï¼

ç³»ç»Ÿç°åœ¨å¯ä»¥ï¼š
1. âœ… å®æ—¶ä»OKExè·å–30ä¸ªä»“ä½æ•°æ®
2. âœ… ç»“åˆæ•°æ®åº“çš„é”šç‚¹å•æ ‡è®°å’Œç»´æŠ¤ä»·æ ¼
3. âœ… å®æ—¶è®¡ç®—æ”¶ç›Šç‡å’Œç›ˆäº
4. âœ… æ”¯æŒæ¨¡æ‹Ÿç›˜å’Œå®ç›˜åˆ‡æ¢
5. âœ… Webç•Œé¢å®æ—¶æ˜¾ç¤º

---
**é…ç½®å®Œæˆ**: âœ… æˆåŠŸ  
**OKEx API**: ğŸŸ¢ åœ¨çº¿  
**å®æ—¶æ•°æ®**: ğŸŸ¢ 30ä¸ªä»“ä½  
**æ›´æ–°æ—¶é—´**: 2026-01-05 05:25 UTC
