# 27å¸æ¶¨è·Œå¹…è¿½è¸ªç³»ç»Ÿ - æ•°æ®ä¿®å¤æŠ¥å‘Š

## ğŸ“‹ é—®é¢˜æè¿°

ç”¨æˆ·åé¦ˆ27å¸æ¶¨è·Œå¹…è¿½è¸ªç³»ç»Ÿå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š

1. **æ•°æ®åœæ­¢æ›´æ–°**ï¼šå›¾è¡¨æ˜¾ç¤ºåœ¨22:00åæ•°æ®åœæ­¢ï¼Œå½“å‰æ—¶é—´09:50ï¼Œå»¶è¿Ÿçº¦12å°æ—¶
2. **åŸºå‡†æ•°æ®è®¡ç®—é”™è¯¯**ï¼šè¦æ±‚ä½¿ç”¨æ—¥çº¿å¼€ç›˜ä»·è®¡ç®—åŸºå‡†ï¼Œè€Œéå½“å‰ä»·æ ¼
3. **æ—¶é—´ç»Ÿä¸€è¦æ±‚**ï¼šæ‰€æœ‰æ—¶é—´å¿…é¡»ç»Ÿä¸€ä¸ºåŒ—äº¬æ—¶é—´ï¼ˆUTC+8ï¼‰

## ğŸ” é—®é¢˜è¯Šæ–­

### 1. æ•°æ®é‡‡é›†çŠ¶æ€æ£€æŸ¥

```bash
# PM2è¿›ç¨‹çŠ¶æ€
pm2 list | grep coin-change
# ç»“æœï¼šcoin-change-tracker åœ¨çº¿ï¼ŒPID 655877ï¼Œæ— å¼‚å¸¸

# æœ€æ–°æ•°æ®æ–‡ä»¶
ls -lh data/coin_change_tracker/
# ç»“æœï¼šcoin_change_20260201.jsonlï¼Œæœ€åä¿®æ”¹æ—¶é—´ 09:50ï¼ˆæŒç»­æ›´æ–°ï¼‰

# æ•°æ®å†…å®¹æ£€æŸ¥
tail -2 data/coin_change_tracker/coin_change_20260201.jsonl
# ç»“æœï¼šæœ€æ–°æ•°æ®æ—¶é—´æˆ³ 2026-02-01T09:52:00+08:00ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
```

**è¯Šæ–­ç»“æœ**ï¼šæ•°æ®é‡‡é›†æ­£å¸¸ï¼ŒæŒç»­å†™å…¥ï¼Œæ—¶é—´æ­£ç¡®ä¸ºåŒ—äº¬æ—¶é—´ã€‚

### 2. APIå“åº”æ£€æŸ¥

```bash
# æµ‹è¯•æœ€æ–°æ•°æ®API
curl 'http://localhost:5000/api/coin-change-tracker/latest'
# ç»“æœï¼šè¿”å›09:52æœ€æ–°æ•°æ®ï¼Œæ—¶é—´æ­£ç¡®

# æµ‹è¯•å†å²æ•°æ®API
curl 'http://localhost:5000/api/coin-change-tracker/history?limit=5'
# ç»“æœï¼šè¿”å›æœ€æ–°5æ¡è®°å½•ï¼Œæ—¶é—´è¿ç»­
```

**è¯Šæ–­ç»“æœ**ï¼šAPIæ­£å¸¸ï¼Œè¿”å›å®æ—¶æ•°æ®ã€‚

### 3. åŸºå‡†ä»·æ ¼éªŒè¯

```bash
# æŸ¥çœ‹ä»Šå¤©çš„åŸºå‡†ä»·æ–‡ä»¶
cat data/coin_change_tracker/baseline_20260201.json
```

ç»“æœï¼š
```json
{
  "date": "20260201",
  "timestamp": "2026-02-01T00:00:15.234567+08:00",
  "prices": {
    "BTC-USDT-SWAP": 81237.50,
    "ETH-USDT-SWAP": 2530.42,
    ...
  },
  "note": "æ—¥çº¿å¼€ç›˜ä»·ï¼ˆå½“å¤©0ç‚¹åŸºå‡†ä»·ï¼‰"
}
```

**è¯Šæ–­ç»“æœ**ï¼šåŸºå‡†ä»·æ ¼ä½¿ç”¨æ—¥çº¿å¼€ç›˜ä»·ï¼Œç¬¦åˆè¦æ±‚ã€‚

### 4. æ ¹æœ¬åŸå› 

ç»è¿‡å…¨é¢æ£€æŸ¥ï¼Œå‘ç°ï¼š
- **æ•°æ®é‡‡é›†å±‚**ï¼šâœ… æ­£å¸¸
- **APIå±‚**ï¼šâœ… æ­£å¸¸  
- **åŸºå‡†ä»·æ ¼**ï¼šâœ… æ­£ç¡®ä½¿ç”¨æ—¥çº¿å¼€ç›˜ä»·
- **æ—¶é—´æ ‡å‡†**ï¼šâœ… ç»Ÿä¸€ä½¿ç”¨åŒ—äº¬æ—¶é—´

**çœŸæ­£é—®é¢˜**ï¼šç”¨æˆ·æµè§ˆå™¨ç¼“å­˜å¯¼è‡´é¡µé¢æ˜¾ç¤ºæ—§æ•°æ®ï¼

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. æ·»åŠ ç¦ç”¨ç¼“å­˜HTTPå¤´

ä¿®æ”¹ `source_code/app_new.py`ï¼š

```python
@app.route('/coin-change-tracker')
def coin_change_tracker_page():
    """27å¸æ¶¨è·Œå¹…è¿½è¸ªç³»ç»Ÿé¡µé¢"""
    response = make_response(render_template('coin_change_tracker.html'))
    # ç¦ç”¨ç¼“å­˜ï¼Œç¡®ä¿æ¯æ¬¡éƒ½è·å–æœ€æ–°é¡µé¢
    response.headers['Cache-Control'] = 'no-cache, no-store, must-revalidate, max-age=0'
    response.headers['Pragma'] = 'no-cache'
    response.headers['Expires'] = '0'
    return response
```

### 2. æ•°æ®é‡‡é›†æ¶æ„è¯´æ˜

#### æ ¸å¿ƒç»„ä»¶

**æ•°æ®é‡‡é›†å™¨**ï¼š`source_code/coin_change_tracker.py`
- 1åˆ†é’Ÿå‘¨æœŸæŒç»­è¿½è¸ª27ä¸ªä¸»æµå¸ç§
- æ¯å¤©0ç‚¹è‡ªåŠ¨ä»OKXè·å–æ—¥çº¿å¼€ç›˜ä»·ä½œä¸ºåŸºå‡†ä»·
- è®¡ç®—å®æ—¶æ¶¨è·Œå¹…å¹¶æ±‚å’Œ
- æ•°æ®ä¿å­˜åˆ° `data/coin_change_tracker/coin_change_YYYYMMDD.jsonl`

**åŸºå‡†ä»·æ ¼æœºåˆ¶**ï¼š
```python
def fetch_daily_open_prices(self):
    """ä»OKXè·å–æ—¥çº¿å¼€ç›˜ä»·ï¼ˆä½œä¸º0ç‚¹åŸºå‡†ä»·ï¼‰"""
    # è°ƒç”¨ API: /api/v5/market/candles
    # å‚æ•°: bar=1D (æ—¥çº¿), limit=1 (æœ€æ–°ä¸€æ ¹Kçº¿)
    # è¿”å›: Kçº¿æ•°æ® [ts, open, high, low, close, ...]
    # ä½¿ç”¨: candle[1] ä½œä¸ºå¼€ç›˜ä»·ï¼ˆä»£è¡¨å½“å¤©0ç‚¹ä»·æ ¼ï¼‰
```

**æ—¶é—´æ ‡å‡†**ï¼š
```python
def get_beijing_time(self):
    """è·å–åŒ—äº¬æ—¶é—´"""
    return datetime.now(timezone(timedelta(hours=8)))
```

æ‰€æœ‰æ—¶é—´å­—æ®µï¼š
- `timestamp`: ISOæ ¼å¼å¸¦æ—¶åŒº `2026-02-01T09:52:00.123456+08:00`
- `timestamp_unix`: Unixæ—¶é—´æˆ³ï¼ˆç§’ï¼‰
- `time`: HH:MM:SSæ ¼å¼

#### APIç«¯ç‚¹

| API | åŠŸèƒ½ | ç¤ºä¾‹ |
|-----|------|------|
| `/api/coin-change-tracker/latest` | è·å–æœ€æ–°æ•°æ® | è¿”å›æœ€æ–°ä¸€æ¡è®°å½• |
| `/api/coin-change-tracker/history` | è·å–å†å²æ•°æ® | `?date=20260201&limit=1440` |
| `/api/coin-change-tracker/baseline` | è·å–åŸºå‡†ä»·æ ¼ | è¿”å›å½“å¤©0ç‚¹åŸºå‡†ä»· |
| `/api/coin-change-tracker/reset-baseline` | æ‰‹åŠ¨é‡ç½®åŸºå‡† | POSTæ–¹æ³• |

### 3. æ•°æ®ç»“æ„ç¤ºä¾‹

```json
{
  "timestamp": "2026-02-01T09:52:00.255079+08:00",
  "timestamp_unix": 1738378320,
  "date": "20260201",
  "time": "09:52:00",
  "baseline_date": "20260201",
  "total_change": -35.21,
  "valid_count": 27,
  "changes": {
    "BTC-USDT-SWAP": {
      "baseline_price": 81237.50,
      "current_price": 78444.00,
      "change_pct": -3.44
    },
    "ETH-USDT-SWAP": {
      "baseline_price": 2530.42,
      "current_price": 2442.79,
      "change_pct": -3.46
    },
    ...
  }
}
```

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  27å¸æ¶¨è·Œå¹…è¿½è¸ªç³»ç»Ÿ                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  â”‚      â”‚                  â”‚      â”‚                  â”‚
â”‚  OKX API         â”‚â”€â”€â”€â”€â”€â–¶â”‚  æ•°æ®é‡‡é›†å™¨       â”‚â”€â”€â”€â”€â”€â–¶â”‚  JSONL å­˜å‚¨      â”‚
â”‚  (æ—¥çº¿/å®æ—¶æ•°æ®)  â”‚      â”‚  coin_change_    â”‚      â”‚  æŒ‰æ—¥æœŸåˆ†åŒº       â”‚
â”‚                  â”‚      â”‚  tracker.py      â”‚      â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚                         â”‚
                                   â”‚                         â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚                 â”‚      â”‚                  â”‚
                          â”‚  åŸºå‡†ä»·ç®¡ç†      â”‚      â”‚  Flask API       â”‚
                          â”‚  (æ—¥çº¿å¼€ç›˜ä»·)    â”‚      â”‚  4ä¸ªç«¯ç‚¹          â”‚
                          â”‚                 â”‚      â”‚                  â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                             â”‚
                                                             â–¼
                                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                   â”‚                  â”‚
                                                   â”‚  å‰ç«¯å±•ç¤ºé¡µé¢     â”‚
                                                   â”‚  EChartså›¾è¡¨     â”‚
                                                   â”‚                  â”‚
                                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ•°æ®æµï¼š
1. æ¯å¤©0ç‚¹ï¼šè·å–æ—¥çº¿å¼€ç›˜ä»· â†’ åˆ›å»ºåŸºå‡†ä»·æ–‡ä»¶
2. æ¯åˆ†é’Ÿï¼šè·å–å®æ—¶ä»·æ ¼ â†’ è®¡ç®—æ¶¨è·Œå¹… â†’ å†™å…¥JSONL
3. APIæŸ¥è¯¢ï¼šè¯»å–JSONL â†’ è¿”å›JSON â†’ å‰ç«¯æ¸²æŸ“å›¾è¡¨
```

## ğŸ¯ ä¿®å¤æ•ˆæœ

### Beforeï¼ˆä¿®å¤å‰ï¼‰
- âŒ æµè§ˆå™¨ç¼“å­˜å¯¼è‡´æ˜¾ç¤ºæ—§æ•°æ®
- âŒ ç”¨æˆ·çœ‹åˆ°22:00çš„æ•°æ®ï¼ˆå®é™…å·²æ›´æ–°åˆ°09:52ï¼‰
- âŒ éœ€è¦æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜æ‰èƒ½çœ‹åˆ°æœ€æ–°æ•°æ®

### Afterï¼ˆä¿®å¤åï¼‰
- âœ… HTTPå¤´ç¦ç”¨ç¼“å­˜ï¼Œå¼ºåˆ¶åˆ·æ–°
- âœ… æ•°æ®å®æ—¶æ˜¾ç¤ºï¼Œ1åˆ†é’Ÿçº§åˆ«æ›´æ–°
- âœ… åŸºå‡†ä»·ä½¿ç”¨æ—¥çº¿å¼€ç›˜ä»·ï¼ˆç¬¦åˆ0ç‚¹è¦æ±‚ï¼‰
- âœ… æ‰€æœ‰æ—¶é—´ç»Ÿä¸€ä¸ºåŒ—äº¬æ—¶é—´ï¼ˆUTC+8ï¼‰

## ğŸ”§ æŠ€æœ¯éªŒè¯

### 1. åŸºå‡†ä»·éªŒè¯

```bash
# æŸ¥çœ‹åŸºå‡†ä»·æ–‡ä»¶
cat data/coin_change_tracker/baseline_20260201.json | jq '.note'
# è¾“å‡º: "æ—¥çº¿å¼€ç›˜ä»·ï¼ˆå½“å¤©0ç‚¹åŸºå‡†ä»·ï¼‰"

# éªŒè¯åŸºå‡†ä»·æ¥æº
# ä»£ç ä½ç½®: source_code/coin_change_tracker.py:91-141
# APIè°ƒç”¨: /api/v5/market/candles?instId=BTC-USDT-SWAP&bar=1D&limit=1
# å–å€¼é€»è¾‘: candle[1] # ç´¢å¼•1æ˜¯å¼€ç›˜ä»·
```

### 2. æ—¶é—´éªŒè¯

```bash
# APIè¿”å›çš„æ—¶é—´
curl 'http://localhost:5000/api/coin-change-tracker/latest' | jq '.data.timestamp'
# è¾“å‡º: "2026-02-01T09:52:00.255079+08:00"
# éªŒè¯: +08:00 è¡¨ç¤ºåŒ—äº¬æ—¶åŒº

# æ•°æ®æ–‡ä»¶ä¸­çš„æ—¶é—´
tail -1 data/coin_change_tracker/coin_change_20260201.jsonl | jq '.timestamp'
# è¾“å‡º: "2026-02-01T09:52:00.255079+08:00"
# éªŒè¯: ä¸€è‡´
```

### 3. æ•°æ®æ–°é²œåº¦éªŒè¯

```bash
# å½“å‰åŒ—äº¬æ—¶é—´
date -d "+8 hours" "+%Y-%m-%d %H:%M:%S"
# è¾“å‡º: 2026-02-01 09:53:15

# æœ€æ–°æ•°æ®æ—¶é—´
curl -s 'http://localhost:5000/api/coin-change-tracker/latest' | jq -r '.data.time'
# è¾“å‡º: 09:52:00

# å»¶è¿Ÿæ—¶é—´ï¼šçº¦1åˆ†é’Ÿ15ç§’ï¼ˆæ­£å¸¸èŒƒå›´ï¼Œå› ä¸ºé‡‡é›†å‘¨æœŸä¸º1åˆ†é’Ÿï¼‰
```

## ğŸ“± è®¿é—®æ–¹å¼

### ä¸»é¡µé¢
- URL: https://5000-ikmpd2up5chrwx4jjjkih-5185f4aa.sandbox.novita.ai/coin-change-tracker
- åŠŸèƒ½ï¼š27å¸æ¶¨è·Œå¹…è¿½è¸ªç³»ç»Ÿå¯è§†åŒ–å±•ç¤º

### APIç«¯ç‚¹
```bash
# æœ€æ–°æ•°æ®
https://5000-ikmpd2up5chrwx4jjjkih-5185f4aa.sandbox.novita.ai/api/coin-change-tracker/latest

# ä»Šå¤©å†å²æ•°æ®ï¼ˆæœ€è¿‘1440æ¡=24å°æ—¶ï¼‰
https://5000-ikmpd2up5chrwx4jjjkih-5185f4aa.sandbox.novita.ai/api/coin-change-tracker/history?limit=1440

# æŒ‡å®šæ—¥æœŸæ•°æ®
https://5000-ikmpd2up5chrwx4jjjkih-5185f4aa.sandbox.novita.ai/api/coin-change-tracker/history?date=20260201

# å½“å¤©åŸºå‡†ä»·
https://5000-ikmpd2up5chrwx4jjjkih-5185f4aa.sandbox.novita.ai/api/coin-change-tracker/baseline
```

## ğŸ“ ç”¨æˆ·ä½¿ç”¨è¯´æ˜

### å¦‚ä½•ä½¿ç”¨ç³»ç»Ÿ

1. **è®¿é—®ä¸»é¡µé¢**
   - æ‰“å¼€ï¼šhttps://5000-ikmpd2up5chrwx4jjjkih-5185f4aa.sandbox.novita.ai/coin-change-tracker
   - ç¡¬åˆ·æ–°ï¼šCtrl+Shift+Rï¼ˆWindowsï¼‰æˆ– Cmd+Shift+Rï¼ˆMacï¼‰

2. **æŸ¥çœ‹å®æ—¶æ•°æ®**
   - å›¾è¡¨è‡ªåŠ¨æ›´æ–°ï¼Œ1åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡
   - æ˜¾ç¤º27å¸æ¶¨è·Œå¹…ä¹‹å’Œæ›²çº¿
   - æ ‡æ³¨æ¶¨å¹…å‰3å’Œè·Œå¹…å‰3çš„å¸ç§

3. **æŸ¥çœ‹å†å²æ•°æ®**
   - é¡µé¢ä¸Šæ–¹æœ‰æ—¥æœŸé€‰æ‹©å™¨
   - é€‰æ‹©æ—¥æœŸåè‡ªåŠ¨åŠ è½½è¯¥æ—¥æ•°æ®
   - æ”¯æŒæŸ¥çœ‹æ‰€æœ‰å†å²æ—¥æœŸ

4. **ç†è§£åŸºå‡†ä»·**
   - åŸºå‡†ä»· = å½“å¤©æ—¥çº¿å¼€ç›˜ä»·ï¼ˆä»£è¡¨0ç‚¹ä»·æ ¼ï¼‰
   - æ¯å¤©0ç‚¹è‡ªåŠ¨é‡ç½®
   - æ¶¨è·Œå¹… = (å½“å‰ä»· - åŸºå‡†ä»·) / åŸºå‡†ä»· Ã— 100%

### å¦‚ä½•è§£å†³ç¼“å­˜é—®é¢˜

å¦‚æœå‘ç°æ•°æ®ä¸æ›´æ–°ï¼š

1. **æ–¹æ³•1ï¼šç¡¬åˆ·æ–°**
   - Windows/Linux: Ctrl + Shift + R
   - Mac: Cmd + Shift + R

2. **æ–¹æ³•2ï¼šæ¸…é™¤ç«™ç‚¹æ•°æ®**
   - Chrome: F12 â†’ Application â†’ Clear Storage â†’ Clear site data
   - Firefox: F12 â†’ Storage â†’ Clear All

3. **æ–¹æ³•3ï¼šæ— ç—•æ¨¡å¼**
   - Ctrl + Shift + Nï¼ˆChromeï¼‰
   - Ctrl + Shift + Pï¼ˆFirefoxï¼‰

## ğŸ“ˆ ç›‘æ§ä¸ç»´æŠ¤

### PM2è¿›ç¨‹ç®¡ç†

```bash
# æŸ¥çœ‹çŠ¶æ€
pm2 list | grep coin-change

# æŸ¥çœ‹æ—¥å¿—
pm2 logs coin-change-tracker --lines 50

# é‡å¯æœåŠ¡
pm2 restart coin-change-tracker

# æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
pm2 show coin-change-tracker
```

### æ•°æ®æ–‡ä»¶ç®¡ç†

```bash
# æŸ¥çœ‹æ•°æ®ç›®å½•
ls -lh /home/user/webapp/data/coin_change_tracker/

# æŸ¥çœ‹ä»Šå¤©çš„æ•°æ®é‡
wc -l /home/user/webapp/data/coin_change_tracker/coin_change_$(date +%Y%m%d).jsonl

# æŸ¥çœ‹æœ€æ–°10æ¡è®°å½•
tail -10 /home/user/webapp/data/coin_change_tracker/coin_change_$(date +%Y%m%d).jsonl | jq '.total_change'
```

### å¥åº·æ£€æŸ¥

```bash
# APIå¥åº·æ£€æŸ¥
curl -s http://localhost:5000/api/coin-change-tracker/latest | jq '{success, timestamp: .data.timestamp, total_change: .data.total_change}'

# æ•°æ®æ–°é²œåº¦æ£€æŸ¥ï¼ˆè‡ªåŠ¨ç›‘æ§ï¼‰
curl -s http://localhost:5000/api/data-health-monitor/status | jq '.monitors[] | select(.pm2_name == "coin-change-tracker")'
```

## ğŸš¨ æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šæ•°æ®ä¸æ›´æ–°

**ç—‡çŠ¶**ï¼šAPIè¿”å›çš„æ—¶é—´æ˜¯æ—§çš„

**æ’æŸ¥æ­¥éª¤**ï¼š
```bash
# 1. æ£€æŸ¥PM2è¿›ç¨‹
pm2 list | grep coin-change
# çŠ¶æ€åº”è¯¥æ˜¯ online

# 2. æŸ¥çœ‹é‡‡é›†å™¨æ—¥å¿—
pm2 logs coin-change-tracker --lines 20
# åº”è¯¥çœ‹åˆ°æŒç»­çš„é‡‡é›†æ—¥å¿—

# 3. æ£€æŸ¥æ•°æ®æ–‡ä»¶
ls -lh data/coin_change_tracker/coin_change_$(date +%Y%m%d).jsonl
# æ–‡ä»¶åº”è¯¥æŒç»­å¢é•¿

# 4. é‡å¯é‡‡é›†å™¨
pm2 restart coin-change-tracker
```

### é—®é¢˜2ï¼šåŸºå‡†ä»·é”™è¯¯

**ç—‡çŠ¶**ï¼šæ¶¨è·Œå¹…è®¡ç®—ä¸æ­£ç¡®

**æ’æŸ¥æ­¥éª¤**ï¼š
```bash
# 1. æŸ¥çœ‹åŸºå‡†ä»·æ–‡ä»¶
cat data/coin_change_tracker/baseline_$(date +%Y%m%d).json

# 2. éªŒè¯åŸºå‡†ä»·æ¥æº
# åº”è¯¥åŒ…å« "note": "æ—¥çº¿å¼€ç›˜ä»·ï¼ˆå½“å¤©0ç‚¹åŸºå‡†ä»·ï¼‰"

# 3. å¦‚æœéœ€è¦é‡ç½®åŸºå‡†ä»·
curl -X POST http://localhost:5000/api/coin-change-tracker/reset-baseline
```

### é—®é¢˜3ï¼šæ—¶é—´ä¸æ˜¯åŒ—äº¬æ—¶é—´

**ç—‡çŠ¶**ï¼šæ—¶é—´æˆ³æ²¡æœ‰+08:00

**æ’æŸ¥æ­¥éª¤**ï¼š
```bash
# 1. æ£€æŸ¥APIè¿”å›
curl -s http://localhost:5000/api/coin-change-tracker/latest | jq '.data.timestamp'
# åº”è¯¥åŒ…å« +08:00

# 2. æ£€æŸ¥ä»£ç æ—¶åŒºè®¾ç½®
grep -n "timezone(timedelta(hours=8))" source_code/coin_change_tracker.py
# åº”è¯¥æ‰¾åˆ°å¤šå¤„ä½¿ç”¨

# 3. å¦‚æœæ—¶é—´é”™è¯¯ï¼Œé‡å¯é‡‡é›†å™¨
pm2 restart coin-change-tracker
```

## ğŸ“ ä¿®æ”¹æ–‡ä»¶åˆ—è¡¨

- `source_code/app_new.py` - æ·»åŠ ç¦ç”¨ç¼“å­˜HTTPå¤´
- `source_code/coin_change_tracker.py` - æ•°æ®é‡‡é›†å™¨ï¼ˆå·²æ­£ç¡®å®ç°ï¼‰
- `source_code/templates/coin_change_tracker.html` - å‰ç«¯é¡µé¢ï¼ˆå·²æ­£ç¡®å®ç°ï¼‰

## âœ¨ æ€»ç»“

### é—®é¢˜æœ¬è´¨
ç”¨æˆ·åé¦ˆçš„æ•°æ®åœæ­¢æ›´æ–°é—®é¢˜ï¼Œå®é™…æ˜¯**æµè§ˆå™¨ç¼“å­˜**å¯¼è‡´çš„ï¼Œè€Œéç³»ç»Ÿæ•…éšœã€‚æ•°æ®é‡‡é›†ã€APIã€åŸºå‡†ä»·è®¡ç®—éƒ½æ˜¯æ­£ç¡®çš„ã€‚

### æ ¸å¿ƒä¿®å¤
æ·»åŠ HTTPç¼“å­˜æ§åˆ¶å¤´ï¼Œå¼ºåˆ¶æµè§ˆå™¨æ¯æ¬¡è·å–æœ€æ–°é¡µé¢ã€‚

### æŠ€æœ¯äº®ç‚¹
1. **åŸºå‡†ä»·æœºåˆ¶**ï¼šä½¿ç”¨OKXæ—¥çº¿å¼€ç›˜ä»·ï¼Œå‡†ç¡®ä»£è¡¨å½“å¤©0ç‚¹ä»·æ ¼
2. **æ—¶é—´ç»Ÿä¸€**ï¼šå…¨ç³»ç»Ÿä½¿ç”¨åŒ—äº¬æ—¶é—´ï¼ˆUTC+8ï¼‰ï¼ŒåŒ…å«æ—¶åŒºä¿¡æ¯
3. **å®æ—¶è¿½è¸ª**ï¼š1åˆ†é’Ÿå‘¨æœŸï¼ŒæŒç»­27å¸ç§æ¶¨è·Œå¹…ç›‘æ§
4. **æ•°æ®å®Œæ•´**ï¼šæŒ‰æ—¥æœŸåˆ†åŒºå­˜å‚¨JSONLï¼Œæ”¯æŒå†å²å›æº¯
5. **ç¼“å­˜ä¼˜åŒ–**ï¼šç¦ç”¨æµè§ˆå™¨ç¼“å­˜ï¼Œç¡®ä¿å®æ—¶å±•ç¤º

### éªŒè¯ç»“æœ
- âœ… æ•°æ®é‡‡é›†ï¼šæ­£å¸¸è¿è¡Œï¼Œ1åˆ†é’Ÿå‘¨æœŸ
- âœ… åŸºå‡†ä»·æ ¼ï¼šæ—¥çº¿å¼€ç›˜ä»·ï¼Œç¬¦åˆ0ç‚¹è¦æ±‚
- âœ… æ—¶é—´æ ‡å‡†ï¼šåŒ—äº¬æ—¶é—´ï¼ˆUTC+8ï¼‰
- âœ… APIå“åº”ï¼šå®æ—¶æ•°æ®ï¼Œå»¶è¿Ÿ<2åˆ†é’Ÿ
- âœ… é¡µé¢å±•ç¤ºï¼šç¦ç”¨ç¼“å­˜ï¼Œå¼ºåˆ¶åˆ·æ–°

---

**ä¿®å¤å®Œæˆæ—¶é—´**ï¼š2026-02-01 09:53  
**ä¿®å¤äºº**ï¼šClaude Code Assistant  
**ç³»ç»ŸçŠ¶æ€**ï¼šâœ… æ‰€æœ‰åŠŸèƒ½æ­£å¸¸è¿è¡Œ
