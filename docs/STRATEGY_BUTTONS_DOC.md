# 策略筛选器快捷按钮功能说明

**开发时间**: 2026-02-08 16:00  
**开发者**: GenSpark AI Developer  
**版本**: v1.0  
**状态**: ✅ 已部署

---

## 📋 功能概述

在**27币涨跌幅追踪系统**页面添加了**4个快捷策略按钮**，用于快速筛选和配置交易策略。

---

## 🎯 4个策略按钮

### 1. 📉 前8做空（红色）
- **选择范围**: 涨幅前8名
- **触发条件**: 再涨 1.5%
- **杠杆**: 10倍
- **操作**: 开空单

### 2. 📈 前8做多（绿色）
- **选择范围**: 涨幅前8名
- **触发条件**: 再涨 1.5%
- **杠杆**: 10倍
- **操作**: 开多单

### 3. 📈 后8做多（蓝色）
- **选择范围**: 跌幅后8名（即跌幅最大的8个）
- **触发条件**: 再跌 1.5%
- **杠杆**: 10倍
- **操作**: 开多单

### 4. 📉 后8做空（紫色）
- **选择范围**: 跌幅后8名（即跌幅最大的8个）
- **触发条件**: 再跌 1.5%
- **杠杆**: 10倍
- **操作**: 开空单

---

## 📊 策略说明

### 术语解释

| 术语 | 说明 |
|------|------|
| **前8** | 在流通盘中选涨幅前8名的币种 |
| **后8** | 在流通盘中选跌幅后8名的币种（即跌幅最大的8个） |
| **涨幅后** | 等待币种在当前价格基础上再涨1.5%后开仓 |
| **跌幅后** | 等待币种在当前价格基础上再跌1.5%后开仓 |
| **10x** | 使用10倍杠杆进行交易 |
| **做多/做空** | 选择开多单或空单的方向 |

### 策略逻辑

#### 前8做空策略
```
1. 选择当前涨幅前8名的币种
2. 这些币种已经涨得很高
3. 等待它们再涨1.5%（追高）
4. 开空单（看跌），10倍杠杆
5. 预期：高位回调，获利平仓
```

#### 前8做多策略
```
1. 选择当前涨幅前8名的币种
2. 这些币种处于上涨趋势
3. 等待它们再涨1.5%（突破）
4. 开多单（看涨），10倍杠杆
5. 预期：继续上涨，追涨获利
```

#### 后8做多策略
```
1. 选择当前跌幅最大的8个币种
2. 这些币种已经跌得很低
3. 等待它们再跌1.5%（抄底）
4. 开多单（看涨），10倍杠杆
5. 预期：低位反弹，获利平仓
```

#### 后8做空策略
```
1. 选择当前跌幅最大的8个币种
2. 这些币种处于下跌趋势
3. 等待它们再跌1.5%（继续下跌）
4. 开空单（看跌），10倍杠杆
5. 预期：继续下跌，顺势获利
```

---

## 🎨 界面设计

### 按钮样式

```
┌─────────────────────────────────────────┐
│  ⚡ 流通盘6名策略                         │
│  点击按钮快速筛选策略                     │
├─────────────────────────────────────────┤
│  ┌─────────┐ ┌─────────┐                │
│  │📉 前8做空│ │📈 前8做多│                │
│  │涨幅后1.5%│ │涨幅后1.5%│                │
│  │  10倍    │ │  10倍    │                │
│  └─────────┘ └─────────┘                │
│                                          │
│  ┌─────────┐ ┌─────────┐                │
│  │📈 后8做多│ │📉 后8做空│                │
│  │跌幅后1.5%│ │跌幅后1.5%│                │
│  │  10倍    │ │  10倍    │                │
│  └─────────┘ └─────────┘                │
├─────────────────────────────────────────┤
│  📌 策略说明                             │
│  • 前8: 涨幅前8名                        │
│  • 后8: 跌幅后8名（跌幅最大的8个）        │
│  • 涨幅后: 再涨1.5%后开仓                │
│  • 跌幅后: 再跌1.5%后开仓                │
│  • 10x: 10倍杠杆                        │
└─────────────────────────────────────────┘
```

### 按钮配色

- 📉 **前8做空**: 红色渐变 (from-red-500 to-red-600)
- 📈 **前8做多**: 绿色渐变 (from-green-500 to-green-600)
- 📈 **后8做多**: 蓝色渐变 (from-blue-500 to-blue-600)
- 📉 **后8做空**: 紫色渐变 (from-purple-500 to-purple-600)

---

## 🚀 使用方法

### 1. 访问页面

访问27币涨跌幅追踪系统：
```
https://5000-idfgz76cf9poiqtgzfhan-c81df28e.sandbox.novita.ai/coin-change-tracker
```

### 2. 查看实时数据

等待页面加载完成，查看：
- 27币涨跌幅之和
- 有效币种数
- 单币涨跌幅排行

### 3. 点击策略按钮

根据市场情况，点击4个策略按钮之一：
- 看好上涨 → 点击"前8做多"或"后8做多"
- 看好下跌 → 点击"前8做空"或"后8做空"

### 4. 查看策略详情

点击后会显示：
- 选中的8个币种及其当前涨跌幅
- 策略触发条件
- 杠杆倍数
- 开仓方向

### 5. 执行交易

策略详情会提示：
```
📌 下一步操作:
请前往 OKX交易页面 手动为以上币种设置 
再涨/跌1.5% 的 做多/做空 订单（10x杠杆）
```

点击链接跳转到OKX交易页面，手动下单。

---

## 📊 示例场景

### 场景1: 追涨策略（前8做多）

**市场情况**: 多数币种上涨，前8名涨幅均超过5%

**策略选择**: 点击"📈 前8做多"

**结果显示**:
```
📈 做多（开多单）
选择范围: 涨幅前8名

触发条件: 等待再涨 1.5% 后开仓 | 杠杆: 10x

选中的币种（8个）:
1. SOL +8.5%
2. BNB +7.2%
3. ETH +6.8%
4. LINK +6.5%
5. DOT +5.9%
6. UNI +5.7%
7. AVAX +5.4%
8. ATOM +5.1%
```

**下一步**: 
- 前往OKX交易页面
- 为这8个币种设置：当价格上涨1.5%时自动开多单，10倍杠杆

---

### 场景2: 抄底策略（后8做多）

**市场情况**: 多数币种下跌，后8名跌幅均超过-5%

**策略选择**: 点击"📈 后8做多"

**结果显示**:
```
📈 做多（开多单）
选择范围: 跌幅后8名（跌幅最大的8个）

触发条件: 等待再跌 1.5% 后开仓 | 杠杆: 10x

选中的币种（8个）:
1. XRP -8.5%
2. ADA -7.8%
3. DOGE -7.2%
4. MATIC -6.9%
5. SHIB -6.5%
6. TRX -6.1%
7. LTC -5.8%
8. BCH -5.4%
```

**下一步**: 
- 前往OKX交易页面
- 为这8个币种设置：当价格下跌1.5%时自动开多单，10倍杠杆

---

## 🎯 策略优势

### 1. 快速筛选
- 一键选出涨幅前8名或跌幅后8名
- 无需手动逐个查看和对比

### 2. 标准化策略
- 统一的触发条件（1.5%）
- 统一的杠杆倍数（10倍）
- 清晰的开仓方向

### 3. 可视化展示
- 实时显示选中币种的涨跌幅
- 一目了然的策略详情
- 明确的下一步操作指引

### 4. 策略保存
- 自动保存到localStorage
- 24小时内可恢复查看
- 避免遗忘策略配置

---

## ⚠️ 风险提示

### 1. 高杠杆风险
- 10倍杠杆意味着10倍的盈亏
- 市场波动可能导致快速爆仓
- 建议谨慎设置仓位大小

### 2. 追高追低风险
- "再涨1.5%"可能是高位追涨
- "再跌1.5%"可能继续下跌
- 需要结合整体市场趋势判断

### 3. 手动执行
- 策略仅提供筛选和建议
- 需要手动到OKX页面下单
- 不支持自动执行交易

### 4. 市场变化
- 策略基于当前时刻的排名
- 市场快速变化可能导致排名变动
- 建议在执行前再次确认

---

## 🔧 技术实现

### 前端实现

**文件**: `templates/coin_change_tracker.html`

**核心函数**:
```javascript
function applyStrategy(range, threshold, leverage, direction) {
    // 获取当前数据
    const sortedCoins = [...window.currentCoinsData]
        .sort((a, b) => b.change - a.change);
    
    // 选择目标币种
    let targetCoins = [];
    if (range === 'top8') {
        targetCoins = sortedCoins.slice(0, 8);  // 前8名
    } else if (range === 'bottom8') {
        targetCoins = sortedCoins.slice(-8).reverse();  // 后8名
    }
    
    // 显示策略详情
    displayStrategyDetails(targetCoins, threshold, leverage, direction);
    
    // 保存到localStorage
    saveStrategyToStorage(targetCoins, threshold, leverage, direction);
}
```

**数据来源**: 
- API: `/api/coin-change-tracker/latest`
- 实时更新的27币涨跌幅数据
- 保存到全局变量 `window.currentCoinsData`

---

## 📱 访问信息

**页面地址**: https://5000-idfgz76cf9poiqtgzfhan-c81df28e.sandbox.novita.ai/coin-change-tracker

**位置**: 在"总涨跌幅趋势"图表之后，"单币涨跌幅排行"之前

---

## 🎓 使用技巧

### 1. 结合趋势判断
- 上涨趋势：优先考虑"前8做多"或"后8做多"
- 下跌趋势：优先考虑"前8做空"或"后8做空"

### 2. 观察总涨跌幅
- 总和>+50: 市场过热，考虑"前8做空"
- 总和<-50: 市场超跌，考虑"后8做多"

### 3. 分批执行
- 不要一次性全部开仓
- 可以分2-3批执行策略
- 降低单次风险

### 4. 及时止损
- 设置止损位（如-3%）
- 避免单次亏损过大
- 保护本金安全

---

## 📝 Git提交

```
commit f067114
feat: add 4 quick strategy buttons for top/bottom 8 coins

- Add strategy selector with 4 preset buttons:
  * Top 8 short (前8做空): 1.5% threshold, 10x leverage
  * Top 8 long (前8做多): 1.5% threshold, 10x leverage
  * Bottom 8 long (后8做多): 1.5% threshold, 10x leverage
  * Bottom 8 short (后8做空): 1.5% threshold, 10x leverage
- Display selected strategy with coin list and details
- Add strategy explanation and next steps
- Save strategy to localStorage for reference
- Gradient colored buttons with hover effects
```

---

## 🚧 后续优化

### 计划功能

- [ ] 自动同步到OKX交易页面
- [ ] 支持自定义阈值（不仅限于1.5%）
- [ ] 支持自定义杠杆倍数
- [ ] 支持自定义选择数量（不仅限于8个）
- [ ] 历史策略回测功能
- [ ] 策略收益统计
- [ ] 一键执行交易（需API对接）

---

**🎉 4个快捷策略按钮已上线！现在可以快速筛选和配置交易策略了！**
