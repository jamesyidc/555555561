# BCH SAR-Slope é—®é¢˜è¯Šæ–­ä¸è§£å†³æ–¹æ¡ˆæŠ¥å‘Š

## ğŸ“‹ é—®é¢˜æ€»ç»“
**é—®é¢˜æè¿°**: `/sar-slope/BCH` è·¯ç”±æ— æ³•æ­£å¸¸æ˜¾ç¤ºæœ€æ–°æ•°æ®

**æ—¶é—´**: 2026-01-24 11:46 åŒ—äº¬æ—¶é—´

---

## ğŸ” é—®é¢˜è¯Šæ–­è¿‡ç¨‹

### 1. åˆæ­¥æ£€æŸ¥
- âœ… Flask åº”ç”¨è¿è¡Œæ­£å¸¸ï¼ˆç«¯å£ 5000ï¼‰
- âœ… `/sar-slope/BCH` è·¯ç”±å­˜åœ¨ä¸”å¯è®¿é—®
- âœ… æ¨¡æ¿æ–‡ä»¶ `sar_slope_detail.html` å­˜åœ¨
- âœ… API ç«¯ç‚¹ `/api/sar-slope/current-cycle/BCH` å¯è®¿é—®

### 2. æ•°æ®æºè¿½è¸ª
- âŒ **é—®é¢˜å‘ç°**: BCH æ•°æ®æ—¶é—´åœç•™åœ¨ `2026-01-19 23:00:00`
- âŒ **æ ¹æœ¬åŸå› **: SAR åŸå§‹æ•°æ®é‡‡é›†å™¨æœªè¿è¡Œ

### 3. é‡‡é›†å™¨çŠ¶æ€æ£€æŸ¥
```
æ•°æ®æµæ¶æ„:
OKX API â†’ sar_jsonl_collector.py â†’ sar_slope_data.jsonl â†’ Flask API â†’ Web é¡µé¢
           (åŸºç¡€ SAR æ•°æ®)           (åŸå§‹æ•°æ®)

çŠ¶æ€æ£€æŸ¥ç»“æœ:
- âŒ sar_jsonl_collector.py: æœªè¿è¡Œï¼ˆåœæ­¢äº 2026-01-19 15:05ï¼‰
- âŒ sar_slope_jsonl_collector.py: æœªè¿è¡Œ
```

---

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. å¯åŠ¨åŸºç¡€ SAR æ•°æ®é‡‡é›†å™¨
```bash
pm2 start source_code/sar_jsonl_collector.py --name sar-jsonl-collector --interpreter python3
```

**ç‰¹ç‚¹**:
- é‡‡é›†é—´éš”: 5 åˆ†é’Ÿ
- é‡‡é›†ç­–ç•¥: å»¶è¿Ÿ5åˆ†é’Ÿé‡‡é›†ï¼ˆç­‰Kçº¿å®Œå…¨å½¢æˆï¼‰
- é¦–æ¬¡é‡‡é›†: 2026-01-24 11:55:00ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰

### 2. å¯åŠ¨ SAR Slope æ•°æ®é‡‡é›†å™¨
```bash
pm2 start source_code/sar_slope_jsonl_collector.py --name sar-slope-collector --interpreter python3
```

**ç‰¹ç‚¹**:
- é‡‡é›†é—´éš”: 60 ç§’
- æ•°æ®æº: Flask API `/api/sar-slope/latest`
- ä¾èµ–: sar_jsonl_collectorï¼ˆå¿…é¡»å…ˆè¿è¡Œï¼‰

### 3. ä¿å­˜ PM2 é…ç½®
```bash
pm2 save
```

---

## ğŸ“Š å½“å‰çŠ¶æ€

### PM2 è¿›ç¨‹åˆ—è¡¨
```
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name                   â”‚ pid    â”‚ uptime â”‚ status    â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0  â”‚ sar-slope-collector    â”‚ 2353   â”‚ 2m     â”‚ online    â”‚
â”‚ 1  â”‚ sar-jsonl-collector    â”‚ 2765   â”‚ 21s    â”‚ online    â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æ›´æ–°æ—¶é—´çº¿
- **æ—§æ•°æ®**: 2026-01-19 23:00:00ï¼ˆåœæ­¢å‰æœ€åæ›´æ–°ï¼‰
- **é‡‡é›†å™¨å¯åŠ¨**: 2026-01-24 11:45:47ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
- **é¦–æ¬¡é‡‡é›†é¢„è®¡**: 2026-01-24 11:55:00ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
- **æ•°æ®å¯ç”¨é¢„è®¡**: 2026-01-24 11:56:00ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰

---

## ğŸ¯ éªŒè¯æ­¥éª¤

### 1. ç­‰å¾…é¦–æ¬¡é‡‡é›†å®Œæˆï¼ˆçº¦10åˆ†é’Ÿï¼‰
```bash
# å®æ—¶æŸ¥çœ‹é‡‡é›†å™¨æ—¥å¿—
pm2 logs sar-jsonl-collector
```

### 2. æ£€æŸ¥ BCH æœ€æ–°æ•°æ®
```bash
# æ£€æŸ¥ latest_sar_slope.jsonl
grep "BCH" /home/user/webapp/data/sar_slope_jsonl/latest_sar_slope.jsonl

# æµ‹è¯• API
curl -s "http://localhost:5000/api/sar-slope/current-cycle/BCH" | python3 -m json.tool
```

### 3. è®¿é—® Web é¡µé¢
```
URL: https://5000-iz51witudb16wj96d1wvr-a402f90a.sandbox.novita.ai/sar-slope/BCH
```

é¢„æœŸç»“æœ: åº”æ˜¾ç¤º `2026-01-24 11:50:00` æˆ–æ›´æ–°çš„æ•°æ®

---

## ğŸ”§ æ•…éšœæ’æŸ¥æŒ‡å—

### å¦‚æœæ•°æ®ä»æœªæ›´æ–°

1. **æ£€æŸ¥é‡‡é›†å™¨çŠ¶æ€**
```bash
pm2 list
pm2 logs sar-jsonl-collector --lines 50
```

2. **æ£€æŸ¥æ•°æ®æ–‡ä»¶**
```bash
ls -lh /home/user/webapp/data/sar_slope_jsonl/
tail -10 /home/user/webapp/data/sar_slope_jsonl/sar_slope_data.jsonl
```

3. **æ‰‹åŠ¨è§¦å‘é‡‡é›†**
```bash
cd /home/user/webapp/source_code
timeout 30 python3 sar_jsonl_collector.py
```

4. **æ£€æŸ¥ OKX API è¿æ¥**
```bash
# æµ‹è¯• OKX MarketData æ¨¡å—
python3 -c "import okx.MarketData as MarketData; print('OK')"
```

---

## ğŸ“ ç»´æŠ¤å»ºè®®

### 1. è®¾ç½®ç›‘æ§å‘Šè­¦
- ç›‘æ§é‡‡é›†å™¨è¿›ç¨‹çŠ¶æ€
- ç›‘æ§æ•°æ®æ›´æ–°æ—¶é—´
- è®¾ç½®æ•°æ®å»¶è¿Ÿå‘Šè­¦ï¼ˆè¶…è¿‡10åˆ†é’Ÿï¼‰

### 2. å®šæœŸæ£€æŸ¥
```bash
# æ¯æ—¥æ£€æŸ¥é‡‡é›†å™¨çŠ¶æ€
pm2 list

# æ¯å‘¨æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
ls -lh /home/user/webapp/data/sar_slope_jsonl/

# æ¯æœˆæ¸…ç†æ—§æ—¥å¿—
pm2 flush
```

### 3. æ•°æ®å¤‡ä»½
- SAR æ•°æ®ä¿ç•™30å¤©
- å®šæœŸå¤‡ä»½ `/home/user/webapp/data/sar_slope_jsonl/`
- ä¿ç•™é‡‡é›†å™¨é…ç½®å’Œæ—¥å¿—

---

## ğŸ‰ è§£å†³æ–¹æ¡ˆæ€»ç»“

**é—®é¢˜æ ¹æº**: SAR åŸºç¡€æ•°æ®é‡‡é›†å™¨åœæ­¢è¿è¡Œ

**è§£å†³æ–¹æ³•**: 
1. å¯åŠ¨ `sar-jsonl-collector`ï¼ˆåŸºç¡€æ•°æ®ï¼‰
2. å¯åŠ¨ `sar-slope-collector`ï¼ˆæ–œç‡æ•°æ®ï¼‰
3. ä¿å­˜ PM2 é…ç½®

**é¢„è®¡æ¢å¤æ—¶é—´**: 2026-01-24 11:56:00ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰

**è®¿é—®é“¾æ¥**: https://5000-iz51witudb16wj96d1wvr-a402f90a.sandbox.novita.ai/sar-slope/BCH

---

ç”Ÿæˆæ—¶é—´: 2026-01-24 11:46 åŒ—äº¬æ—¶é—´
