# OKX APIé…ç½®å®ŒæˆæŠ¥å‘Š

## âœ… é…ç½®å®Œæˆæ—¶é—´
2026-02-02 08:15 (åŒ—äº¬æ—¶é—´)

---

## ğŸ“‹ é…ç½®å†…å®¹

### 1. APIå¯†é’¥ä¿¡æ¯
- **API Key**: `e5867a9a-93b7-476f-81ce-093c3aacae0d`
- **Secret Key**: `4624EE63A9BF3F84250AC71C9A37F47D`
- **Passphrase**: `Tencent@123`
- **Base URL**: `https://www.okx.com`

### 2. é…ç½®æ–‡ä»¶
- **è·¯å¾„**: `/home/user/webapp/configs/okx_api_config.json`
- **æƒé™**: `600` (ä»…æ‰€æœ‰è€…å¯è¯»å†™)
- **æ ¼å¼**: JSON

---

## ğŸ”§ ä¿®æ”¹çš„æ–‡ä»¶

### 1. æ–°å»ºé…ç½®æ–‡ä»¶
**æ–‡ä»¶**: `/home/user/webapp/configs/okx_api_config.json`
```json
{
  "api_key": "e5867a9a-93b7-476f-81ce-093c3aacae0d",
  "secret_key": "4624EE63A9BF3F84250AC71C9A37F47D",
  "passphrase": "Tencent@123",
  "base_url": "https://www.okx.com",
  "trade_mode": "real"
}
```

### 2. ä¿®æ”¹Flaskåº”ç”¨
**æ–‡ä»¶**: `/home/user/webapp/source_code/app_new.py`

**æ–°å¢å‡½æ•°**ï¼ˆç¬¬14747è¡Œå‰ï¼‰:
```python
def load_okx_api_config():
    """åŠ è½½OKX APIé…ç½®"""
    config_path = os.path.join(os.path.dirname(__file__), '..', 'configs', 'okx_api_config.json')
    try:
        if os.path.exists(config_path):
            with open(config_path, 'r') as f:
                config = json.load(f)
                return {
                    'api_key': config.get('api_key', ''),
                    'secret_key': config.get('secret_key', ''),
                    'passphrase': config.get('passphrase', ''),
                    'base_url': config.get('base_url', 'https://www.okx.com')
                }
    except Exception as e:
        print(f"åŠ è½½OKX APIé…ç½®å¤±è´¥: {e}")
    return None
```

**ä¿®æ”¹ place_okx_order å‡½æ•°**ï¼ˆç¬¬14757-14759è¡Œï¼‰:
```python
# ä¼˜å…ˆä½¿ç”¨å‰ç«¯ä¼ é€’çš„APIå¯†é’¥ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä»é…ç½®æ–‡ä»¶è¯»å–
api_key = data.get('apiKey', '')
secret_key = data.get('apiSecret', '')
passphrase = data.get('passphrase', '')

# å¦‚æœå‰ç«¯æ²¡æœ‰ä¼ é€’ï¼Œå°è¯•ä»é…ç½®æ–‡ä»¶è¯»å–
if not api_key or not secret_key or not passphrase:
    config = load_okx_api_config()
    if config:
        api_key = api_key or config['api_key']
        secret_key = secret_key or config['secret_key']
        passphrase = passphrase or config['passphrase']
```

---

## âœ… éªŒè¯ç»“æœ

### é…ç½®æ–‡ä»¶éªŒè¯
```
âœ… OKX APIé…ç½®åŠ è½½æˆåŠŸ:
   API Key: e5867a9a-9...cae0d
   Secret Key: 4624EE63A9...7F47D
   Passphrase: ***********
   Base URL: https://www.okx.com
```

### Flaskåº”ç”¨çŠ¶æ€
- âœ… Flaskåº”ç”¨å·²é‡å¯
- âœ… PID: 1151603
- âœ… çŠ¶æ€: online
- âœ… é…ç½®åŠ è½½åŠŸèƒ½å·²å¯ç”¨

---

## ğŸ¯ åŠŸèƒ½è¯´æ˜

### APIå¯†é’¥åŠ è½½é€»è¾‘
1. **ä¼˜å…ˆçº§1**: å‰ç«¯ä¼ é€’çš„APIå¯†é’¥ï¼ˆå¦‚æœæœ‰ï¼‰
2. **ä¼˜å…ˆçº§2**: é…ç½®æ–‡ä»¶ä¸­çš„APIå¯†é’¥
3. **å®¹é”™æœºåˆ¶**: å¦‚æœä¸¤è€…éƒ½æ²¡æœ‰ï¼Œè¿”å›"APIå‡­è¯ä¸å®Œæ•´"é”™è¯¯

### æ”¯æŒçš„æ“ä½œ
- âœ… æ‰¹é‡å¼€ä»“
- âœ… å¸‚ä»·å•/é™ä»·å•
- âœ… åšå¤š/åšç©º
- âœ… è‡ªåŠ¨è®¾ç½®æ æ†
- âœ… é€ä»“æ¨¡å¼

### é»˜è®¤å‚æ•°
- **æ æ†å€æ•°**: 10x
- **ä¿è¯é‡‘æ¨¡å¼**: é€ä»“ (Isolated)
- **è®¢å•ç±»å‹**: å¸‚ä»·å• (Market)

---

## ğŸ“Š å¼€ä»“æµç¨‹

### ç°åœ¨å¯ä»¥è¿›è¡Œå¼€ä»“æ“ä½œ
1. è®¿é—®é¡µé¢ï¼š
   ```
   https://5000-ikmpd2up5chrwx4jjjkih-5634da27.sandbox.novita.ai/anchor-system-real
   ```

2. é€‰æ‹©è¦å¼€ä»“çš„å¸ç§

3. ç‚¹å‡»"æ‰¹é‡å¼€ä»“A"æˆ–"æ‰¹é‡å¼€ä»“B"

4. ç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š
   - ä»é…ç½®æ–‡ä»¶è¯»å–APIå¯†é’¥
   - è®¾ç½®æ æ†å€æ•°
   - ä¸‹å•å¼€ä»“
   - è¿”å›è®¢å•ç»“æœ

---

## ğŸš¨ å®‰å…¨æç¤º

### APIå¯†é’¥å®‰å…¨
- âœ… é…ç½®æ–‡ä»¶æƒé™å·²è®¾ç½®ä¸º `600`
- âœ… åªæœ‰ç³»ç»Ÿç”¨æˆ·å¯ä»¥è¯»å–
- âš ï¸ **ä¸è¦å°†é…ç½®æ–‡ä»¶æäº¤åˆ°Gitä»“åº“**
- âš ï¸ **å®šæœŸæ›´æ¢APIå¯†é’¥ï¼ˆå»ºè®®æ¯æœˆä¸€æ¬¡ï¼‰**

### äº¤æ˜“é£é™©
- âš ï¸ **æ°¸ç»­åˆçº¦ä½¿ç”¨æ æ†ï¼Œé£é™©æé«˜**
- âš ï¸ **å¯èƒ½å¯¼è‡´æœ¬é‡‘å…¨éƒ¨æŸå¤±**
- âš ï¸ **å»ºè®®å…ˆç”¨å°é¢æµ‹è¯•**
- âš ï¸ **è®¾ç½®æ­¢æŸç­–ç•¥**
- âš ï¸ **ä¸è¦æ»¡ä»“æ“ä½œ**

---

## ğŸ” æ•…éšœæ’æŸ¥

### å¦‚æœå¼€ä»“ä»ç„¶å¤±è´¥

#### 1. æ£€æŸ¥APIæƒé™
- ç™»å½•OKX
- è¿›å…¥ **APIç®¡ç†**
- ç¡®è®¤APIå·²å¼€å¯ **"äº¤æ˜“"æƒé™**

#### 2. æ£€æŸ¥é…ç½®æ–‡ä»¶
```bash
cat /home/user/webapp/configs/okx_api_config.json
```

#### 3. æŸ¥çœ‹Flaskæ—¥å¿—
```bash
pm2 logs flask-app --lines 50
```

#### 4. æµ‹è¯•APIè¿æ¥
```bash
curl -X POST http://localhost:5000/api/okx-trading/test-connection \
  -H "Content-Type: application/json"
```

#### 5. æ£€æŸ¥è´¦æˆ·ä½™é¢
ç¡®ä¿OKXè´¦æˆ·æœ‰è¶³å¤Ÿçš„USDTä½™é¢

---

## ğŸ“ å¸¸è§é”™è¯¯

### é”™è¯¯1: APIå‡­è¯ä¸å®Œæ•´
**åŸå› **: é…ç½®æ–‡ä»¶è¯»å–å¤±è´¥æˆ–APIå¯†é’¥ä¸ºç©º
**è§£å†³**: æ£€æŸ¥é…ç½®æ–‡ä»¶æ ¼å¼å’Œå†…å®¹

### é”™è¯¯2: æƒé™ä¸è¶³ (code: 50111)
**åŸå› **: APIæœªå¼€å¯äº¤æ˜“æƒé™
**è§£å†³**: åœ¨OKX APIè®¾ç½®ä¸­å¼€å¯"äº¤æ˜“"æƒé™

### é”™è¯¯3: Invalid signature (code: 50100)
**åŸå› **: Secret Keyé”™è¯¯æˆ–ç­¾åç®—æ³•é—®é¢˜
**è§£å†³**: é‡æ–°ç”ŸæˆAPIå¯†é’¥

### é”™è¯¯4: IPåœ°å€æœªæˆæƒ (code: 50113)
**åŸå› **: IPä¸åœ¨ç™½åå•
**è§£å†³**: åœ¨OKX APIè®¾ç½®ä¸­æ·»åŠ æœåŠ¡å™¨IPæˆ–è®¾ç½®"ä¸é™åˆ¶IP"

---

## ğŸ“ˆ ä¸‹ä¸€æ­¥

### å»ºè®®æ“ä½œ
1. âœ… **å°é¢æµ‹è¯•**: å…ˆç”¨æœ€å°é‡‘é¢æµ‹è¯•å¼€ä»“
2. âœ… **ç›‘æ§æŒä»“**: è§‚å¯ŸæŒä»“æƒ…å†µå’Œç›ˆäº
3. âœ… **è®¾ç½®æ­¢æŸ**: é…ç½®è‡ªåŠ¨æ­¢æŸç­–ç•¥
4. âœ… **Telegramé€šçŸ¥**: é…ç½®å¼€ä»“/å¹³ä»“é€šçŸ¥

### é«˜çº§é…ç½®ï¼ˆå¯é€‰ï¼‰
- é…ç½®IPç™½åå•ï¼ˆæé«˜å®‰å…¨æ€§ï¼‰
- é…ç½®è‡ªåŠ¨æ­¢ç›ˆæ­¢æŸ
- é…ç½®ä»“ä½ç®¡ç†ç­–ç•¥
- é…ç½®é£é™©æ§åˆ¶å‚æ•°

---

## âœ… é…ç½®å®Œæˆæ¸…å•

- [x] OKX APIå¯†é’¥å·²åˆ›å»º
- [x] é…ç½®æ–‡ä»¶å·²åˆ›å»º
- [x] æ–‡ä»¶æƒé™å·²è®¾ç½®
- [x] Flaskåº”ç”¨å·²æ›´æ–°
- [x] Flaskåº”ç”¨å·²é‡å¯
- [x] é…ç½®éªŒè¯é€šè¿‡
- [ ] å°é¢æµ‹è¯•å¼€ä»“ï¼ˆå¾…æµ‹è¯•ï¼‰
- [ ] è®¾ç½®æ­¢æŸç­–ç•¥ï¼ˆå¾…é…ç½®ï¼‰
- [ ] é…ç½®Telegramé€šçŸ¥ï¼ˆå¯é€‰ï¼‰

---

## ğŸ‰ é…ç½®æˆåŠŸï¼

**OKX APIé…ç½®å·²å®Œæˆï¼Œç°åœ¨å¯ä»¥è¿›è¡Œå¼€ä»“æ“ä½œäº†ï¼**

âš ï¸ **é‡è¦æç¤º**ï¼š
- å»ºè®®å…ˆç”¨å°é¢ï¼ˆå¦‚10-20 USDTï¼‰æµ‹è¯•
- è§‚å¯Ÿæ˜¯å¦èƒ½æˆåŠŸå¼€ä»“å’Œå¹³ä»“
- ç¡®è®¤æ— è¯¯åå†å¢åŠ ä»“ä½

**ç¥äº¤æ˜“é¡ºåˆ©ï¼** ğŸš€

---

**åˆ›å»ºæ—¶é—´**: 2026-02-02 08:15
**ç³»ç»Ÿç‰ˆæœ¬**: v2.0
**é…ç½®æ–‡ä»¶**: /home/user/webapp/configs/okx_api_config.json
