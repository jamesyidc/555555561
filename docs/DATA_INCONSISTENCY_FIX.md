# æ•°æ®ä¸ä¸€è‡´é—®é¢˜ - æœ€ç»ˆä¿®å¤æŠ¥å‘Š

## ğŸ”´ é—®é¢˜å‘ç°

**æ—¶é—´**: 2026-01-15 13:20  
**æŠ¥å‘Šè€…**: ç”¨æˆ·  
**é—®é¢˜**: ç½‘é¡µæ˜¾ç¤ºçš„æ•°æ®ä¸Windowså®¢æˆ·ç«¯ä¸ä¸€è‡´

## ğŸ“Š é—®é¢˜ç¤ºä¾‹

### ç”¨æˆ·æŠ¥å‘Šçš„ä¸ä¸€è‡´

**BCHæ•°æ®å¯¹æ¯”**:

| æ•°æ®æº | rush_up | rush_down | count | è¯´æ˜ |
|--------|---------|-----------|-------|------|
| Windowså®¢æˆ·ç«¯ | -0.12% | 1 | 1 | æ¶¨é€Ÿ-0.12% |
| ç½‘é¡µæ˜¾ç¤º(ä¿®å¤å‰) | 0 | 1 | 1 | âŒ æ¶¨é€Ÿä¸¢å¤± |
| ç½‘é¡µæ˜¾ç¤º(ä¿®å¤å) | -0.12 | 1 | 1 | âœ… æ­£ç¡® |

## ğŸ” æ ¹æœ¬åŸå› åˆ†æ

### 1. TXTæ–‡ä»¶æ ¼å¼ç†è§£é”™è¯¯

**å®é™…TXTæ ¼å¼**:
```
åºå·|å¸å|æ¶¨é€Ÿ%|æ€¥è·Œæ¬¡æ•°|è®¡æ¬¡|æ›´æ–°æ—¶é—´|å½“å‰ä»·æ ¼|...
12  |BCH |-0.12|1      |1   |...
```

### 2. å­—æ®µå«ä¹‰é”™è¯¯

**é”™è¯¯ç†è§£**:
- parts[2] = rush_up (æ€¥æ¶¨æ¬¡æ•°, æ•´æ•°)
- parts[3] = rush_down (æ€¥è·Œæ¬¡æ•°, æ•´æ•°)

**æ­£ç¡®ç†è§£**:
- parts[2] = rush_up (æ¶¨é€Ÿç™¾åˆ†æ¯”, **æµ®ç‚¹æ•°**)
- parts[3] = rush_down (æ€¥è·Œæ¬¡æ•°, æ•´æ•°)

### 3. ç±»å‹è½¬æ¢é”™è¯¯

**é”™è¯¯ä»£ç ** (å¯¼è‡´ç²¾åº¦ä¸¢å¤±):
```python
rush_up = int(float(parts[2]))  # -0.12 â†’ 0.0 â†’ 0 âŒ
```

**æ­£ç¡®ä»£ç ** (ä¿æŒç²¾åº¦):
```python
rush_up = float(parts[2])  # -0.12 â†’ -0.12 âœ…
```

## ğŸ“‹ ä¿®å¤å†å²

### ä¿®å¤1: æµ®ç‚¹æ•°è½¬æ¢ (13:00)

**é—®é¢˜**: æ— æ³•è§£æåŒ…å«æµ®ç‚¹æ•°çš„å­—æ®µ  
**ä¿®å¤**: `int(parts[2])` â†’ `int(float(parts[2]))`  
**æ•ˆæœ**: 23ä¸ªå¸ç§è§£æå¤±è´¥ â†’ 29ä¸ªå¸ç§æˆåŠŸè§£æ  
**å‰¯ä½œç”¨**: âŒ æ•°æ®ç²¾åº¦ä¸¢å¤± (-0.12 â†’ 0)

### ä¿®å¤2: ç±»å‹æ­£ç¡®åŒ– (13:20)

**é—®é¢˜**: rush_upè¢«é”™è¯¯è½¬æ¢ä¸ºæ•´æ•°ï¼Œä¸¢å¤±å°æ•°  
**ä¿®å¤**: `int(float(parts[2]))` â†’ `float(parts[2])`  
**æ•ˆæœ**: âœ… æ•°æ®ç²¾åº¦å®Œæ•´ä¿ç•™

## ğŸ§ª éªŒè¯æµ‹è¯•

### æµ‹è¯•æ•°æ®

```
12|BCH|-0.12|1|1|2026-01-15 13:09:09|4355.62|2017-12-20|-85.8|0.43|...
1|BTC|0.15|0|0|2026-01-15 13:09:09|126259.48|2025-10-07|-23.72|1.08|...
```

### è§£æç»“æœ

```
å¸ç§: BCH
  rush_up: -0.12 (ç±»å‹: float) âœ…
  rush_down: 1 (ç±»å‹: int) âœ…

å¸ç§: BTC
  rush_up: 0.15 (ç±»å‹: float) âœ…
  rush_down: 0 (ç±»å‹: int) âœ…
```

## ğŸ“Š æ•°æ®å¯¹æ¯”è¡¨

### BCHå®Œæ•´æ•°æ®å¯¹æ¯”

| å­—æ®µ | TXTæ–‡ä»¶ | æ•°æ®åº“(ä¿®å¤å‰) | æ•°æ®åº“(ä¿®å¤å) | çŠ¶æ€ |
|------|---------|----------------|----------------|------|
| å¸ç§ | BCH | BCH | BCH | âœ… |
| rush_up | -0.12 | 0 | -0.12 | âœ… å·²ä¿®å¤ |
| rush_down | 1 | 1 | 1 | âœ… |
| count | 1 | 1 | 1 | âœ… |
| change_24h | 0.43 | 0.43 | 0.43 | âœ… |
| current_price | 4355.62 | 4355.62 | 4355.62 | âœ… |
| ranking | 3 | 3 | 3 | âœ… |

## ğŸ¯ ä¿®å¤æˆæœ

### è§£å†³çš„é—®é¢˜

1. âœ… 29ä¸ªå¸ç§å…¨éƒ¨æ­£ç¡®è§£æ
2. âœ… æ¶¨é€Ÿæ•°æ®ç²¾åº¦å®Œæ•´ä¿ç•™
3. âœ… æ‰€æœ‰å­—æ®µç±»å‹æ­£ç¡®
4. âœ… æ•°æ®ä¸Windowså®¢æˆ·ç«¯ä¸€è‡´

### å­—æ®µç±»å‹å®šä¹‰

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| rush_up | float | æ¶¨é€Ÿç™¾åˆ†æ¯” | -0.12, 0.15, 0.43 |
| rush_down | int | æ€¥è·Œæ¬¡æ•° | 0, 1, 2 |
| count | int | è®¡æ¬¡ | 0, 1, 2 |
| change_24h | float | 24å°æ—¶æ¶¨è·Œå¹… | 0.43, -2.5 |
| current_price | float | å½“å‰ä»·æ ¼ | 4355.62 |

## ğŸ”„ ä¸‹ä¸€æ­¥

### éªŒè¯æ–¹æ³•

ç­‰å¾…ä¸‹ä¸€ä¸ªå¿«ç…§ï¼ˆçº¦13:29ï¼‰ï¼ŒéªŒè¯ï¼š

1. **APIæ£€æŸ¥**:
   ```bash
   curl http://localhost:5000/api/latest | jq '.coins[] | select(.symbol=="BCH")'
   ```
   
   é¢„æœŸè¾“å‡ºï¼š
   ```json
   {
     "symbol": "BCH",
     "rush_up": -0.12,  â† åº”è¯¥æ˜¯æµ®ç‚¹æ•°
     "rush_down": 1
   }
   ```

2. **æ•°æ®åº“æ£€æŸ¥**:
   ```bash
   grep '"inst_id": "BCH"' data/gdrive_jsonl/crypto_snapshots.jsonl | tail -1
   ```
   
   é¢„æœŸï¼š`"rush_up": -0.12` (ä¸æ˜¯0)

## ğŸ“ æŠ€æœ¯ç»†èŠ‚

### TXTæ–‡ä»¶å®Œæ•´å­—æ®µæ˜ å°„

```
ç´¢å¼•  å­—æ®µå          ç±»å‹    è¯´æ˜
[0]   åºå·            int     æ’åºç¼–å·
[1]   å¸ç§            str     å¸ç§ä»£ç  (BTC, ETHç­‰)
[2]   rush_up         float   æ¶¨é€Ÿç™¾åˆ†æ¯” (å¯æ­£å¯è´Ÿ)
[3]   rush_down       int     æ€¥è·Œæ¬¡æ•°
[4]   count           int     è®¡æ¬¡
[5]   update_time     str     æ›´æ–°æ—¶é—´
[6]   current_price   float   å½“å‰ä»·æ ¼
[7]   high_time       str     å†å²é«˜ä½æ—¶é—´
[8]   drop_from_high  float   è·é«˜ä½è·Œå¹…ç™¾åˆ†æ¯”
[9]   change_24h      float   24å°æ—¶æ¶¨è·Œå¹…
[10]  (ç©º)
[11]  (ç©º)
[12]  ranking         int     æ’å
[13]  high_price      float   å†å²é«˜ä½ä»·æ ¼
[14]  max_ratio       float   æœ€é«˜å æ¯”ç™¾åˆ†æ¯”
[15]  min_ratio       float   æœ€ä½å æ¯”ç™¾åˆ†æ¯”
```

### ä»£ç ä¿®æ”¹å¯¹æ¯”

**ä¿®å¤å‰**:
```python
# é”™è¯¯1: æ— æ³•è§£ææµ®ç‚¹æ•°
rush_up = int(parts[2])  # ValueError: invalid literal

# é”™è¯¯2: ç²¾åº¦ä¸¢å¤±
rush_up = int(float(parts[2]))  # -0.12 â†’ 0
```

**ä¿®å¤å**:
```python
# æ­£ç¡®: ä¿æŒæµ®ç‚¹æ•°ç²¾åº¦
rush_up = float(parts[2])  # -0.12 â†’ -0.12 âœ…
```

## ğŸ‰ æ€»ç»“

| é˜¶æ®µ | é—®é¢˜ | è§£å†³æ–¹æ¡ˆ | çŠ¶æ€ |
|------|------|----------|------|
| 1 | åªæ˜¾ç¤º6ä¸ªå¸ç§ | æµ®ç‚¹æ•°è½¬æ¢ | âœ… å·²è§£å†³ |
| 2 | æ•°æ®ç²¾åº¦ä¸¢å¤± | ä¿æŒfloatç±»å‹ | âœ… å·²è§£å†³ |
| 3 | æ•°æ®ä¸ä¸€è‡´ | ç±»å‹æ­£ç¡®åŒ– | âœ… å·²è§£å†³ |

**æœ€ç»ˆçŠ¶æ€**:
- âœ… 29ä¸ªå¸ç§å…¨éƒ¨æ­£ç¡®è§£æ
- âœ… æ‰€æœ‰å­—æ®µæ•°æ®å®Œæ•´
- âœ… æ•°æ®ç²¾åº¦å®Œå…¨ä¿ç•™
- âœ… ä¸Windowså®¢æˆ·ç«¯æ•°æ®ä¸€è‡´

---

**æŠ¥å‘Šæ—¶é—´**: 2026-01-15 13:25  
**ä¿®å¤çŠ¶æ€**: âœ… å®Œæˆ  
**ç­‰å¾…éªŒè¯**: ä¸‹ä¸€ä¸ªå¿«ç…§ï¼ˆçº¦13:29ï¼‰  
