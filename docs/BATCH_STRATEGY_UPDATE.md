# 批量开仓策略更新 - 6个策略上线

## 📅 更新时间
**2026-02-03 15:00:00**（北京时间）

## ✅ 更新内容

### 1️⃣ 策略配置更新
- ✅ 从4个策略扩展到**6个策略**
- ✅ 统一空单仓位为**3%**
- ✅ 统一多单仓位为**8%**
- ✅ 所有策略使用**10倍杠杆**
- ✅ 所有策略选择**涨幅前6名**币种

### 2️⃣ 前端页面更新
- ✅ 添加**空单策略C**按钮
- ✅ 添加**多单策略C**按钮
- ✅ 更新所有策略描述为"X%留仓金"
- ✅ 调整仓位参数匹配后端配置

---

## 📊 6个策略详情

### 🔴 空单策略（做空强势币）

| 策略名称 | 选币规则 | 仓位 | 杠杆 | 止损 | 按钮颜色 |
|----------|----------|------|------|------|----------|
| 空单策略A | 涨幅前6 | 3% | 10x | -30% | 红色 |
| 空单策略B | 涨幅前6 | 3% | 10x | -30% | 红色 |
| 空单策略C | 涨幅前6 | 3% | 10x | -30% | 红色 |

**单次开仓**：选择6个币，每个币3%仓位，共18%仓位（杠杆后180%）

### 🟢 多单策略（做多强势币）

| 策略名称 | 选币规则 | 仓位 | 杠杆 | 止损 | 按钮颜色 |
|----------|----------|------|------|------|----------|
| 多单策略A | 涨幅前6 | 8% | 10x | -20% | 绿色 |
| 多单策略B | 涨幅前6 | 8% | 10x | -20% | 绿色 |
| 多单策略C | 涨幅前6 | 8% | 10x | -20% | 绿色 |

**单次开仓**：选择6个币，每个币8%仓位，共48%仓位（杠杆后480%）

---

## 🎨 页面布局

```
┌─────────────────────────────────────────┐
│      ⚡ 批量开仓策略                    │
├─────────────────┬───────────────────────┤
│  📉 空单策略 A   │  📉 空单策略 B        │
│  涨幅前6·3%·10x  │  涨幅前6·3%·10x       │
├─────────────────┼───────────────────────┤
│  📉 空单策略 C   │  📈 多单策略 A        │
│  涨幅前6·3%·10x  │  涨幅前6·8%·10x       │
├─────────────────┼───────────────────────┤
│  📈 多单策略 B   │  📈 多单策略 C        │
│  涨幅前6·8%·10x  │  涨幅前6·8%·10x       │
└─────────────────┴───────────────────────┘
```

**布局说明**：
- 2列网格布局，每行2个按钮
- 空单策略：红色按钮（short）
- 多单策略：绿色按钮（long）
- 所有按钮大小一致，清晰易用

---

## 🔧 技术实现

### 前端更新
**文件**：`templates/okx_trading.html`

**修改点**：
1. 添加空单策略C按钮
2. 添加多单策略C按钮
3. 统一描述格式为"涨幅前6 · X%留仓金 · 10x"
4. 调整onClick参数：
   - 空单策略：`batchOrder('short', 3)`
   - 多单策略：`batchOrder('long', 8)`

### 后端配置
**文件**：`data/tpsl_strategy_config.json`

**配置结构**：
```json
{
  "空单策略A": { "max_position_percent": 3, "leverage": 10 },
  "空单策略B": { "max_position_percent": 3, "leverage": 10 },
  "空单策略C": { "max_position_percent": 3, "leverage": 10 },
  "多单策略A": { "max_position_percent": 8, "leverage": 10 },
  "多单策略B": { "max_position_percent": 8, "leverage": 10 },
  "多单策略C": { "max_position_percent": 8, "leverage": 10 }
}
```

---

## 💰 资金使用分析

### 单个策略资金使用

| 开仓方式 | 选币数量 | 单币仓位 | 总仓位 | 杠杆后 |
|----------|----------|----------|--------|--------|
| 空单策略 | 6个币 | 3% | 18% | 180% |
| 多单策略 | 6个币 | 8% | 48% | 480% |

### 多策略组合（如果同时使用）

**谨慎使用场景示例**：
- 3个空单策略同时开仓：54%仓位（杠杆后540%）
- 3个多单策略同时开仓：144%仓位（杠杆后1440%）
- 全部6个策略：198%仓位（杠杆后1980%）

⚠️ **风险警告**：
- 总曝险可达本金的20倍
- 建议**分批使用**，不要同时开启所有策略
- 建议单日最多使用2-3个策略

---

## 🎯 使用场景建议

### 场景1：保守型（建议）
- 使用1个空单策略 + 1个多单策略
- 总仓位：18% + 48% = 66%（杠杆后660%）
- 风险等级：⭐⭐⭐

### 场景2：积极型
- 使用2个空单策略 + 2个多单策略
- 总仓位：36% + 96% = 132%（杠杆后1320%）
- 风险等级：⭐⭐⭐⭐

### 场景3：激进型（高风险）
- 使用3个空单策略 + 3个多单策略
- 总仓位：54% + 144% = 198%（杠杆后1980%）
- 风险等级：⭐⭐⭐⭐⭐

---

## 📝 操作说明

### 1. 准备工作
✅ 确保账户有足够USDT余额  
✅ 至少收藏6个常用币种  
✅ 了解10倍杠杆风险

### 2. 选择策略
- 根据市场判断选择做多或做空
- 根据风险偏好选择策略数量
- 建议从单个策略开始测试

### 3. 执行开仓
- 点击对应策略按钮
- 系统自动选择涨幅前6的币种
- 自动计算每个币种的开仓金额
- 批量提交市价单

### 4. 监控仓位
- 实时查看持仓盈亏
- 关注强平价格
- 及时调整止损止盈

---

## 🛡️ 风险控制

### 止损设置
- **空单策略**：-30%自动止损
- **多单策略**：-20%自动止损

### 分批止盈
所有策略都配置了分批止盈规则：
- 空单：5%/10%/20%/30%分批平仓
- 多单：10%/20%/30%/40%分批平仓

### 保证金预留
- 每个策略预留对应仓位比例的保证金
- 避免因市场波动导致爆仓

---

## 📚 相关文档
- `STRATEGY_CONFIG_6_STRATEGIES.md` - 详细策略配置说明
- `data/tpsl_strategy_config.json` - 策略配置文件
- `templates/okx_trading.html` - 前端页面代码

---

## 👨‍💻 更新人员
**GenSpark AI Developer**

## ✅ 更新状态
**已完成并上线**

### 更新清单
1. ✅ 后端配置文件：6个策略配置完成
2. ✅ 前端页面：6个按钮显示完成
3. ✅ 参数匹配：前后端参数一致
4. ✅ Flask重启：服务已生效
5. ✅ 文档更新：说明文档已生成

---

**更新时间**：2026-02-03 15:00:00  
**更新状态**：✅ 已完成  
**访问页面**：OKX交易页面 → 批量开仓策略区域
