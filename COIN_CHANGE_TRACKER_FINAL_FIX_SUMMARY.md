# Coin Change Tracker ä¿®å¤å®Œæˆæ€»ç»“

## ä¿®å¤æ—¶é—´
**2026-02-18 00:25 UTC (åŒ—äº¬æ—¶é—´ 08:25)**

---

## âœ… é—®é¢˜å·²å®Œå…¨è§£å†³

### é—®é¢˜1ï¼šå–å€¼é”™è¯¯ - ä½¿ç”¨äº†é”™è¯¯çš„æ—¥çº¿å¼€ç›˜ä»· âŒ
**ç°è±¡**ï¼šç³»ç»Ÿä½¿ç”¨äº†æ˜¨å¤©ï¼ˆ2026-02-17ï¼‰çš„å¼€ç›˜ä»· 67493.1 USDTï¼Œè€Œä¸æ˜¯ä»Šå¤©ï¼ˆ2026-02-18ï¼‰çš„çœŸå®å¼€ç›˜ä»· 67349.9 USDTã€‚

**å½±å“**ï¼š
- æ¶¨è·Œå¹…è®¡ç®—ä¸å‡†ç¡®ï¼ˆå·®è· -143.2 USDTï¼Œ-0.21%ï¼‰
- ç”¨æˆ·çœ‹åˆ°çš„ä¸æ˜¯çœŸå®çš„ä»Šæ—¥æ¶¨è·Œå¹…
- é¢„è­¦ç³»ç»Ÿå¯èƒ½è¯¯è§¦å‘

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. âœ… ä» OKX API è·å–ä»Šå¤©çš„çœŸå®å¼€ç›˜ä»·
2. âœ… æ›´æ–° `baseline_20260218.json` æ–‡ä»¶
3. âœ… éªŒè¯æ‰€æœ‰ 27 ä¸ªå¸ç§çš„å¼€ç›˜ä»·æ­£ç¡®

### é—®é¢˜2ï¼šæ•°æ®é‡‡é›†å™¨é”™è¯¯ âŒ
**ç°è±¡**ï¼šPM2 å¯åŠ¨çš„æ˜¯é”™è¯¯çš„è„šæœ¬ `coin_change_tracker.py`ï¼ˆåªæœ‰ç©ºå¾ªç¯ï¼Œä¸é‡‡é›†æ•°æ®ï¼‰ã€‚

**å½±å“**ï¼š
- ç³»ç»Ÿè¿è¡Œä½†ä¸å†™å…¥æ–°æ•°æ®
- æ•°æ®æ–‡ä»¶ä¿æŒç©ºçš„çŠ¶æ€
- API è¿”å›"ä»Šå¤©çš„æ•°æ®æ–‡ä»¶ä¸å­˜åœ¨"é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. âœ… åˆ é™¤é”™è¯¯çš„ collector
2. âœ… å¯åŠ¨æ­£ç¡®çš„ `coin_change_tracker_collector.py`
3. âœ… éªŒè¯é‡‡é›†å™¨æ­£å¸¸å·¥ä½œï¼ˆæ¯ 5 åˆ†é’Ÿå†™å…¥ä¸€æ¡è®°å½•ï¼‰

---

## ğŸ“Š ä¿®å¤ç»“æœéªŒè¯

### API æµ‹è¯•ç»“æœ
```bash
# baseline API
curl "http://localhost:9002/api/coin-change-tracker/baseline"
```
**è¿”å›**ï¼ˆâœ… æ­£ç¡®ï¼‰ï¼š
```json
{
  "data": {
    "BTC": 67349.9,   âœ… ä»Šå¤©çš„å¼€ç›˜ä»·
    "ETH": 1967.53,   âœ… ä»Šå¤©çš„å¼€ç›˜ä»·
    "SOL": 83.75,
    "BNB": 614.8,
    ...
  }
}
```

### æœ€æ–°æ•°æ®æµ‹è¯•
```bash
curl "http://localhost:9002/api/coin-change-tracker/latest"
```
**è¿”å›**ï¼ˆâœ… æ­£ç¡®ï¼‰ï¼š
```json
{
  "data": {
    "beijing_time": "2026-02-18 00:18:08",
    "changes": {
      "BTC": {
        "baseline_price": 67349.9,  âœ… ä½¿ç”¨æ­£ç¡®çš„å¼€ç›˜ä»·
        "current_price": 67738.1,
        "change_pct": 0.58
      },
      ...
    },
    "total_change": 23.89,
    "up_ratio": 96.3
  }
}
```

### é¡µé¢æµ‹è¯•ç»“æœ
- âœ… é¡µé¢åŠ è½½æˆåŠŸï¼ˆ8.64sï¼‰
- âœ… æ•°æ®ç‚¹æ•°ï¼š2 æ¡è®°å½•ï¼ˆæŒç»­å¢é•¿ä¸­ï¼‰
- âœ… å¸ç§æ•°ï¼š27 ä¸ª
- âœ… æ€»æ¶¨è·Œå¹…ï¼š23.89%
- âœ… ä¸Šæ¶¨å¸ç§ï¼š26 ä¸ª (96.3%)
- âœ… å®æ—¶å›¾è¡¨æ¸²æŸ“æ­£å¸¸
- âœ… è‡ªåŠ¨åˆ·æ–°åŠŸèƒ½æ­£å¸¸ï¼ˆæ¯ 10 ç§’ï¼‰

### é‡‡é›†å™¨æ—¥å¿—
```
[ä»·æ ¼] BTC: 67738.1
[ä»·æ ¼] ETH: 1978.7
[ä¿å­˜] æ•°æ®å·²å†™å…¥ /home/user/webapp/data/coin_change_tracker/coin_change_20260218.jsonl
[ç»Ÿè®¡] æ€»æ¶¨è·Œå¹…: 23.89%, å¸ç§æ•°: 27, ä¸Šæ¶¨å æ¯”: 96.3% (26â†‘/1â†“)
[ç­‰å¾…] ä¸‹æ¬¡é‡‡é›†æ—¶é—´: 00:19:08
```

---

## ğŸ“š æ–‡æ¡£æ›´æ–°

### é¡µé¢è¯´æ˜å·²æ›´æ–°
åœ¨ https://9002-ixuizzbk8b8iyhwfxb9rl-5634da27.sandbox.novita.ai/coin-change-tracker é¡µé¢ä¸­æ·»åŠ äº†æ–°çš„æ–‡æ¡£éƒ¨åˆ†ï¼š

**ğŸš¨ å…³é”®é—®é¢˜ï¼šåŸºçº¿ä»·æ ¼ï¼ˆå¼€ç›˜ä»·ï¼‰çš„æ­£ç¡®æ€§ (2026-02-18)**

åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š
1. âŒ é—®é¢˜æè¿°ï¼šä½¿ç”¨äº†é”™è¯¯çš„æ—¥çº¿å¼€ç›˜ä»·
2. ğŸ” æ ¹æœ¬åŸå› ï¼šä¸¤ä¸ªé—®é¢˜ï¼ˆæ•°æ®é‡‡é›†å™¨ + åŸºçº¿ä»·æ ¼æ–‡ä»¶ï¼‰
3. âœ… æ­£ç¡®çš„ä¿®å¤æ­¥éª¤ï¼ˆè¯¦ç»†çš„å‘½ä»¤å’Œä»£ç ï¼‰
4. ğŸ”¬ æŠ€æœ¯ç»†èŠ‚ï¼šOKX Kçº¿æ•°æ®æ ¼å¼è¯´æ˜
5. ğŸ“Š éªŒè¯ä¿®å¤ç»“æœçš„æ–¹æ³•
6. ğŸ’¡ æ€»ç»“ï¼šä¸ºä»€ä¹ˆè¿™ä¸ªé—®é¢˜é‡è¦

### ç”Ÿæˆçš„æ–‡æ¡£æ–‡ä»¶
- âœ… `BASELINE_PRICE_FIX_COMPLETE.md` - è¯¦ç»†çš„ä¿®å¤æŠ¥å‘Š
- âœ… `COIN_CHANGE_TRACKER_FIX.md` - é¦–æ¬¡éƒ¨ç½²ä¿®å¤è¯´æ˜
- âœ… `DOCUMENTATION_UPDATE_COMPLETE.md` - æ–‡æ¡£æ›´æ–°è®°å½•
- âœ… `COIN_CHANGE_TRACKER_FINAL_FIX_SUMMARY.md` - æœ€ç»ˆæ€»ç»“ï¼ˆæœ¬æ–‡ä»¶ï¼‰

---

## ğŸ¯ æ ¸å¿ƒè¦ç‚¹

### ä¸ºä»€ä¹ˆå…¶ä»–ç³»ç»Ÿéƒ¨ç½²åæ­£å¸¸ï¼Œè€Œè¿™ä¸ªç³»ç»Ÿä¸æ­£å¸¸ï¼Ÿ

| ç‰¹å¾ | å…¶ä»–ç³»ç»Ÿ | Coin Change Tracker |
|------|----------|---------------------|
| æ•°æ®æ–‡ä»¶ | å›ºå®šæ–‡ä»¶å | æ—¥æœŸç›¸å…³æ–‡ä»¶å |
| éƒ¨ç½²å | âœ… ç«‹å³å¯ç”¨ | âš ï¸  éœ€è¦åˆ›å»ºä»Šå¤©çš„æ–‡ä»¶ |
| åŸºçº¿ä»·æ ¼ | ä¸éœ€è¦ / å›ºå®š | âœ… å¿…é¡»æ˜¯ä»Šå¤©çš„å¼€ç›˜ä»· |
| é‡‡é›†å™¨ | é€šç”¨è„šæœ¬ | âš ï¸  æ˜“æ··æ·†ï¼ˆä¸¤ä¸ªç±»ä¼¼åç§°çš„è„šæœ¬ï¼‰|

### ä¸ºä»€ä¹ˆåŸºçº¿ä»·æ ¼ï¼ˆå¼€ç›˜ä»·ï¼‰å¦‚æ­¤é‡è¦ï¼Ÿ

1. **è®¡ç®—å‡†ç¡®æ€§**ï¼šæ¶¨è·Œå¹… = (å½“å‰ä»·æ ¼ - å¼€ç›˜ä»·) / å¼€ç›˜ä»·
   - ä½¿ç”¨é”™è¯¯çš„å¼€ç›˜ä»· â†’ é”™è¯¯çš„ç™¾åˆ†æ¯”
   
2. **ç”¨æˆ·æœŸæœ›**ï¼š
   - ç”¨æˆ·çœ‹åˆ°"ä»Šæ—¥æ¶¨è·Œå¹…"æ—¶ï¼ŒæœŸæœ›çš„æ˜¯ç›¸å¯¹äº**ä»Šå¤©å¼€ç›˜**çš„å˜åŒ–
   - ä¸æ˜¯ç›¸å¯¹äºæ˜¨å¤©å¼€ç›˜çš„å˜åŒ–

3. **äº¤æ˜“å†³ç­–**ï¼š
   - åŸºäºé”™è¯¯æ•°æ®çš„å†³ç­–å¯èƒ½å¯¼è‡´æŸå¤±
   
4. **é¢„è­¦ç³»ç»Ÿ**ï¼š
   - é¢„è­¦é˜ˆå€¼åŸºäºç™¾åˆ†æ¯”ï¼ˆä¾‹å¦‚ Â±20%ï¼‰
   - é”™è¯¯çš„åŸºçº¿ â†’ é”™è¯¯çš„è§¦å‘

---

## ğŸš€ ç³»ç»Ÿå½“å‰çŠ¶æ€

### PM2 æœåŠ¡ï¼ˆ21 ä¸ªå…¨éƒ¨åœ¨çº¿ï¼‰
```bash
pm2 list
```
- âœ… flask-app (id 0, pid 3105, 76.3 MB)
- âœ… coin-change-tracker (id 23, pid 2791, 30.4 MB) **â† å·²ä¿®å¤**
- âœ… å…¶ä»– 19 ä¸ª collectorsï¼ˆå…¨éƒ¨æ­£å¸¸ï¼‰

### æ•°æ®çŠ¶æ€
- âœ… JSONL æ–‡ä»¶ï¼š387 ä¸ª
- âœ… æ€»å¤§å°ï¼š3.0 GB
- âœ… ä»Šå¤©çš„æ–‡ä»¶ï¼š`coin_change_20260218.jsonl` (æŒç»­æ›´æ–°ä¸­)
- âœ… åŸºçº¿æ–‡ä»¶ï¼š`baseline_20260218.json` (æ­£ç¡®çš„å¼€ç›˜ä»·)

### API ç«¯ç‚¹
- âœ… `/api/coin-change-tracker/baseline` - è¿”å›ä»Šå¤©çš„å¼€ç›˜ä»·
- âœ… `/api/coin-change-tracker/latest` - è¿”å›æœ€æ–°æ•°æ®
- âœ… `/api/coin-change-tracker/history` - è¿”å›å†å²æ•°æ®

### è®¿é—®åœ°å€
**ä¸»ç«™**ï¼šhttps://9002-ixuizzbk8b8iyhwfxb9rl-5634da27.sandbox.novita.ai/coin-change-tracker

---

## ğŸ“ ä¸‹æ¬¡éƒ¨ç½²æ¸…å•

ä¸ºäº†é¿å…ä¸‹æ¬¡éƒ¨ç½²å†æ¬¡é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä»Šå¤©çš„æ•°æ®æ–‡ä»¶
```bash
# å¿«é€Ÿæ–¹æ³•ï¼ˆä¸´æ—¶ï¼‰ï¼šå¤åˆ¶æ˜¨å¤©çš„æ–‡ä»¶
TODAY=$(TZ='Asia/Shanghai' date +%Y%m%d)
YESTERDAY=$(TZ='Asia/Shanghai' date -d yesterday +%Y%m%d)

cd /home/user/webapp/data/coin_change_tracker/
cp coin_change_${YESTERDAY}.jsonl coin_change_${TODAY}.jsonl
cp baseline_${YESTERDAY}.json baseline_${TODAY}.json
```

### ç¬¬äºŒæ­¥ï¼šè·å–ä»Šå¤©çš„çœŸå®å¼€ç›˜ä»·
```bash
# æ­£ç¡®æ–¹æ³•ï¼šä» OKX API è·å–
python3 << 'PYTHON'
import requests, json
from datetime import datetime, timezone, timedelta

symbols = ["BTC", "ETH", "BNB", "XRP", "DOGE", "SOL", "DOT", "LTC", "LINK", 
           "HBAR", "TAO", "CFX", "TRX", "TON", "NEAR", "LDO", "CRO", "ETC", 
           "XLM", "BCH", "UNI", "SUI", "FIL", "STX", "CRV", "AAVE", "APT"]

baseline = {}
for symbol in symbols:
    try:
        url = f"https://www.okx.com/api/v5/market/candles?instId={symbol}-USDT-SWAP&bar=1D&limit=2"
        resp = requests.get(url, timeout=5)
        data = resp.json()
        if data['code'] == '0' and len(data['data']) > 0:
            open_price = float(data['data'][0][1])
            baseline[symbol] = open_price
    except:
        pass

beijing_time = datetime.now(timezone(timedelta(hours=8)))
date_str = beijing_time.strftime('%Y%m%d')
filename = f'/home/user/webapp/data/coin_change_tracker/baseline_{date_str}.json'

with open(filename, 'w') as f:
    json.dump(baseline, f, indent=2)

print(f"âœ… {filename} å·²æ›´æ–°ï¼ŒåŒ…å« {len(baseline)} ä¸ªå¸ç§")
PYTHON
```

### ç¬¬ä¸‰æ­¥ï¼šç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„é‡‡é›†å™¨
```bash
# æ£€æŸ¥å½“å‰è¿è¡Œçš„è„šæœ¬
pm2 describe coin-change-tracker | grep script

# å¦‚æœä¸æ˜¯ coin_change_tracker_collector.pyï¼Œåˆ™éœ€è¦ä¿®å¤ï¼š
pm2 delete coin-change-tracker
pm2 start source_code/coin_change_tracker_collector.py \
  --name coin-change-tracker \
  --interpreter python3
pm2 save
```

### ç¬¬å››æ­¥ï¼šéªŒè¯
```bash
# 1. æ£€æŸ¥åŸºçº¿ä»·æ ¼
curl "http://localhost:9002/api/coin-change-tracker/baseline" | jq .data.BTC

# 2. æ£€æŸ¥æœ€æ–°æ•°æ®
curl "http://localhost:9002/api/coin-change-tracker/latest" | jq .data.beijing_time

# 3. æŸ¥çœ‹é‡‡é›†å™¨æ—¥å¿—
pm2 logs coin-change-tracker --lines 5
```

---

## âœ… æ€»ç»“

### é—®é¢˜å·²å®Œå…¨ä¿®å¤
- âœ… åŸºçº¿ä»·æ ¼ï¼ˆå¼€ç›˜ä»·ï¼‰æ­£ç¡®ï¼šBTC = 67349.9 USDTï¼ˆä»Šå¤©çš„ï¼‰
- âœ… æ•°æ®é‡‡é›†å™¨æ­£ç¡®ï¼šä½¿ç”¨ `coin_change_tracker_collector.py`
- âœ… API æ­£å¸¸è¿”å›ï¼šæ‰€æœ‰ç«¯ç‚¹å·¥ä½œæ­£å¸¸
- âœ… é¡µé¢æ­£å¸¸æ˜¾ç¤ºï¼šå®æ—¶æ•°æ®ã€å›¾è¡¨ã€é¢„è­¦åŠŸèƒ½å…¨éƒ¨æ­£å¸¸
- âœ… æ–‡æ¡£å·²æ›´æ–°ï¼šè¯¦ç»†è¯´æ˜äº†é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### è®¿é—®åœ°å€
https://9002-ixuizzbk8b8iyhwfxb9rl-5634da27.sandbox.novita.ai/coin-change-tracker

### å…³é”®å­¦ä¹ ç‚¹
1. **æ—¥çº¿å¼€ç›˜ä»·**ï¼šå¿…é¡»ä½¿ç”¨ä»Šå¤©çš„çœŸå®å¼€ç›˜ä»·ï¼Œä¸èƒ½ç®€å•å¤åˆ¶æ˜¨å¤©çš„
2. **é‡‡é›†å™¨è„šæœ¬**ï¼šæ³¨æ„åŒºåˆ† `coin_change_tracker.py`ï¼ˆç©ºå¾ªç¯ï¼‰å’Œ `coin_change_tracker_collector.py`ï¼ˆçœŸæ­£çš„é‡‡é›†å™¨ï¼‰
3. **åŒ—äº¬æ—¶é—´**ï¼šç³»ç»Ÿä½¿ç”¨åŒ—äº¬æ—¶é—´ï¼ˆUTC+8ï¼‰ï¼Œä¸æ˜¯ UTC æ—¶é—´
4. **OKX K çº¿**ï¼šè¿”å›çš„æ•°æ®æ˜¯å€’åºçš„ï¼Œ`data[0]` æ˜¯æœ€æ–°çš„
5. **éƒ¨ç½²æµç¨‹**ï¼šCoin Change Tracker éœ€è¦ç‰¹æ®Šå¤„ç†ï¼ˆåˆ›å»ºä»Šå¤©çš„æ–‡ä»¶ + è·å–ä»Šå¤©çš„å¼€ç›˜ä»·ï¼‰

---

**ä¿®å¤å®Œæˆ**ï¼š2026-02-18 00:25:00 UTC (åŒ—äº¬æ—¶é—´ 08:25:00)  
**ä¿®å¤äººå‘˜**ï¼šAI Assistant  
**éªŒè¯çŠ¶æ€**ï¼šâœ… å…¨éƒ¨é€šè¿‡  
**æ–‡æ¡£çŠ¶æ€**ï¼šâœ… å·²æ›´æ–°åˆ°é¡µé¢
